<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修Python 列表推导式、矩阵、格式化输出' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>Python 列表推导式、矩阵、格式化输出</center></div><div class='banquan'>原文出处:本文由博客园博主chenhongyong提供。<br/>
原文连接:https://www.cnblogs.com/chy18883701161/p/11297302.html</div><br>
    <h2>&nbsp;</h2>
<h2>列表推导式</h2>
<p>列表推导式提供了从列表、元组创建列表的简单途径。语法：&nbsp;&nbsp;</p>
<div class="cnblogs_code">
<pre><code>[表达式  for语句  if语句]</pre>
</div>
<p>创建并返回一个列表。if语句可选。</p>
<p>&nbsp;</p>
<p>示例：</p>
<div class="cnblogs_code">
<pre><code>list1=[1,2,3,4]  <span style="color: #008000;">#</span><span style="color: #008000;">使用元组也行</span>
<span style="color: #000000;">
list2</span>=[x*2 <span style="color: #0000ff;">for</span> x <span style="color: #0000ff;">in</span><span style="color: #000000;"> list1]
</span><span style="color: #0000ff;">print</span>(list2)   <span style="color: #008000;">#</span><span style="color: #008000;">[2, 4, 6, 8]</span>
<span style="color: #000000;">
list3</span>=[x*2+1 <span style="color: #0000ff;">for</span> x <span style="color: #0000ff;">in</span><span style="color: #000000;"> list1]
</span><span style="color: #0000ff;">print</span>(list3)  <span style="color: #008000;">#</span><span style="color: #008000;">[3, 5, 7, 9]</span></pre>
</div>
<p>&nbsp;</p>
<div class="cnblogs_code">
<pre><code>list1=[1,2,3,4<span style="color: #000000;">]  

list2</span>=[x*2 <span style="color: #0000ff;">for</span> x <span style="color: #0000ff;">in</span> list1 <span style="color: #0000ff;">if</span> x&gt;2]  <span style="color: #008000;">#</span><span style="color: #008000;">if限定范围</span>
<span style="color: #0000ff;">print</span>(list2)   <span style="color: #008000;">#</span><span style="color: #008000;">[6, 8]</span></pre>
</div>
<p>&nbsp;</p>
<div class="cnblogs_code">
<pre><code>list1=[1,3,5,7]  <span style="color: #008000;">#</span><span style="color: #008000;">使用元组也行，得到的仍然是列表</span>
list2=[2,4,6,8<span style="color: #000000;">]

list2</span>=[x*y <span style="color: #0000ff;">for</span> x <span style="color: #0000ff;">in</span> list1 <span style="color: #0000ff;">for</span> y <span style="color: #0000ff;">in</span> list2 ]  <span style="color: #008000;">#</span><span style="color: #008000;">可使用多个for语句</span>
<span style="color: #0000ff;">print</span>(list2)   <span style="color: #008000;">#</span><span style="color: #008000;">[2, 4, 6, 8, 6, 12, 18, 24, 10, 20, 30, 40, 14, 28, 42, 56]</span></pre>
</div>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h2>矩阵</h2>
<p>矩阵可使用列表\元组的嵌套来实现。</p>
<div class="cnblogs_code">
<pre><code>matrix=[[1,2,3],[4,5,6],[7,8,9],[10,11,12]]   <span style="color: #008000;">#</span><span style="color: #008000;">一个3*4的矩阵</span>
<span style="color: #800000;">"""</span><span style="color: #800000;">
1   2   3
4   5   6
7   8   9
10  11  12
</span><span style="color: #800000;">"""</span>

<span style="color: #0000ff;">del</span> matrix[0][0]  <span style="color: #008000;">#</span><span style="color: #008000;">删除第一行的第一个元素</span>
<span style="color: #0000ff;">print</span>(matrix)   <span style="color: #008000;">#</span><span style="color: #008000;">[[2, 3], [4, 5, 6], [7, 8, 9], [10, 11, 12]]</span>

<span style="color: #0000ff;">del</span> matrix[0]   <span style="color: #008000;">#</span><span style="color: #008000;">删除第一行</span>
<span style="color: #0000ff;">print</span>(matrix)  <span style="color: #008000;">#</span><span style="color: #008000;">[[4, 5, 6], [7, 8, 9], [10, 11, 12]]</span>
<span style="color: #000000;">
matrix.clear()  </span><span style="color: #008000;">#</span><span style="color: #008000;">清空矩阵</span>
<span style="color: #0000ff;">print</span>(matrix)  <span style="color: #008000;">#</span><span style="color: #008000;">[]</span>

<span style="color: #0000ff;">del</span> matrix  <span style="color: #008000;">#</span><span style="color: #008000;">删除整个矩阵</span>

<span style="color: #008000;">#</span><span style="color: #008000;">可使用循环来遍历矩阵</span></pre>
</div>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h2>格式化输出</h2>
<h4>1、常用的输出方式</h4>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">print</span>(<span style="color: #800000;">"</span><span style="color: #800000;">Download the file</span><span style="color: #800000;">"</span>,end=<span style="color: #800000;">"</span><span style="color: #800000;"> done\n</span><span style="color: #800000;">"</span>)  <span style="color: #008000;">#</span><span style="color: #008000;"> Unpack the file done</span>
<span style="color: #800000;">"""</span><span style="color: #800000;">
以指定值结尾，缺省end时默认为\n，所以缺省end时会自动换行。
</span><span style="color: #800000;">"""</span> 


<span style="color: #0000ff;">print</span>(<span style="color: #800000;">"</span><span style="color: #800000;">*</span><span style="color: #800000;">"</span>*50)   <span style="color: #008000;">#</span><span style="color: #008000;">分隔线效果</span>
<span style="color: #000000;">

list</span>=[<span style="color: #800000;">"</span><span style="color: #800000;">Download the file</span><span style="color: #800000;">"</span>,<span style="color: #800000;">"</span><span style="color: #800000;">Unpack the file</span><span style="color: #800000;">"</span>,<span style="color: #800000;">"</span><span style="color: #800000;">Open the file</span><span style="color: #800000;">"</span><span style="color: #000000;">]
</span><span style="color: #0000ff;">for</span> x <span style="color: #0000ff;">in</span><span style="color: #000000;"> list:
    </span><span style="color: #0000ff;">print</span>(x, end = <span style="color: #800000;">"</span><span style="color: #800000;"> done\n</span><span style="color: #800000;">"</span><span style="color: #000000;">)
</span><span style="color: #800000;">"""</span><span style="color: #800000;">
Download the file done
Unpack the file done
Open the file done
</span><span style="color: #800000;">"""</span></pre>
</div>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h4>2、转换为字符串</h4>
<div class="cnblogs_code">
<pre><code>str1=str(1)  <span style="color: #008000;">#</span><span style="color: #008000;">转换为字符串</span>
<span style="color: #0000ff;">print</span>(type(str1))  <span style="color: #008000;">#</span><span style="color: #008000;">&lt;class 'str'&gt;</span>
<span style="color: #000000;">
a</span>=10<span style="color: #000000;">
str2</span>=str(a)   <span style="color: #008000;">#</span><span style="color: #008000;">转换为字符串，a本身不变</span>
<span style="color: #0000ff;">print</span>(str2)  <span style="color: #008000;">#</span><span style="color: #008000;">10</span>
<span style="color: #0000ff;">print</span>(type(str2))  <span style="color: #008000;">#</span><span style="color: #008000;">&lt;class 'str'&gt;</span>
<span style="color: #0000ff;">print</span>(type(a))  <span style="color: #008000;">#</span><span style="color: #008000;">&lt;class 'int'&gt;</span></pre>
</div>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h4>3、对齐方式</h4>
<div class="cnblogs_code">
<pre><code>str=<span style="color: #800000;">"</span><span style="color: #800000;">hello</span><span style="color: #800000;">"</span>
<span style="color: #0000ff;">print</span>(str.ljust(20,<span style="color: #800000;">"</span> <span style="color: #800000;">"</span>))  <span style="color: #008000;">#</span><span style="color: #008000;">左对齐，不足20个字符右边填充空格（凑足20个字符）</span>
<span style="color: #0000ff;">print</span>(str.rjust(20,<span style="color: #800000;">"</span> <span style="color: #800000;">"</span>))  <span style="color: #008000;">#</span><span style="color: #008000;">右对齐，不足20个字符时，左边填充空格</span>
<span style="color: #0000ff;">print</span>(str.center(20,<span style="color: #800000;">"</span> <span style="color: #800000;">"</span>))  <span style="color: #008000;">#</span><span style="color: #008000;">居中对齐，不足20个字符时，两端填充空格</span></pre>
</div>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h4>4、格式化输出</h4>
<p>旧版本的格式化输出：</p>
<div class="cnblogs_code">
<pre><code>name=<span style="color: #800000;">"</span><span style="color: #800000;">张三</span><span style="color: #800000;">"</span><span style="color: #000000;">
age</span>=12<span style="color: #000000;">
score</span>=99
<span style="color: #0000ff;">print</span>(<span style="color: #800000;">"</span><span style="color: #800000;">%s今年%d岁，成绩%.1f分</span><span style="color: #800000;">"</span>%(name,age,score))  <span style="color: #008000;">#</span><span style="color: #008000;">张三今年12岁，成绩99.0分</span>


<span style="color: #800000;">"""</span><span style="color: #800000;">
print("格式串"%(对应的值))   
有多个值时，值要放在()中。如果只有一个值，可以缺省():
print("我是%s"%name)

</span><span style="color: #800000;">"""</span></pre>
</div>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>新版本的格式化输出：</p>
<div class="cnblogs_code">
<pre><code>name=<span style="color: #800000;">"</span><span style="color: #800000;">张三</span><span style="color: #800000;">"</span><span style="color: #000000;">
age</span>=12<span style="color: #000000;">
score</span>=99
<span style="color: #0000ff;">print</span>(<span style="color: #800000;">"</span><span style="color: #800000;">我是{0}，今年{1}岁，成绩{2}分</span><span style="color: #800000;">"</span>.format(name,age,score))  <span style="color: #008000;">#</span><span style="color: #008000;">我是张三，今年12岁，成绩99分</span>
<span style="color: #0000ff;">print</span>(<span style="color: #800000;">"</span><span style="color: #800000;">我是{}，今年{}岁，成绩{}分</span><span style="color: #800000;">"</span>.format(name,age,score))  <span style="color: #008000;">#</span><span style="color: #008000;">我是张三，今年12岁，成绩99分   {index}中的index可以缺省，缺省时默认依次为0,1,2,3....</span>
<span style="color: #0000ff;">print</span>(<span style="color: #800000;">"</span><span style="color: #800000;">我是{0}，今年{1}岁，成绩{2:.1f}分</span><span style="color: #800000;">"</span>.format(name,age,score))  <span style="color: #008000;">#</span><span style="color: #008000;">我是张三，今年12岁，成绩99.0分   可以指定具体格式</span>
<span style="color: #0000ff;">print</span>(<span style="color: #800000;">"</span><span style="color: #800000;">我是{}，今年{}岁，成绩{:.1f}分</span><span style="color: #800000;">"</span>.format(name,age,score))  <span style="color: #008000;">#</span><span style="color: #008000;">我是张三，今年12岁，成绩99.0分</span></pre>
</div>
<p>&nbsp;</p>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>