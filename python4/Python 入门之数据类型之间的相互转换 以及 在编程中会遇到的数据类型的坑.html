<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修Python 入门之数据类型之间的相互转换 以及 在编程中会遇到的数据类型的坑' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>Python 入门之数据类型之间的相互转换 以及 在编程中会遇到的数据类型的坑</center></div><div class='banquan'>原文出处:本文由博客园博主永亮提供。<br/>
原文连接:https://www.cnblogs.com/caiyongliang/p/11416060.html</div><br>
    <h1 id="python-入门之数据类型之间的相互转换-以及-在编程中会遇到的数据类型的坑">Python 入门之数据类型之间的相互转换 以及 在编程中会遇到的数据类型的坑</h1>
<h2 id="数据类型总结">1、数据类型总结：</h2>
<p>可变，不可变，有序，无序</p>
<h3 id="可变的数据类型list-dict-set">（1）可变的数据类型：list dict set</h3>
<h3 id="不可变的数据类型int-str-bool-tuple">（2）不可变的数据类型：int str bool tuple</h3>
<h3 id="有序的数据类型list-tuple-str">（3）有序的数据类型：list tuple str</h3>
<h3 id="无序的数据类型dict-set">（4）无序的数据类型：dict set</h3>
<h3 id="取值方式">（5）取值方式：</h3>
<h4 id="索引-list-tuple-str">&lt;1&gt; 索引： list tuple str</h4>
<h4 id="键-dict">&lt;2&gt; 键： dict</h4>
<h4 id="直接int-bool-set">&lt;3&gt; 直接：int bool set</h4>
<h2 id="数据类型转换">2、数据类型转换：</h2>
<h3 id="元组-列表-listtuple">&lt;1&gt; 元组 =&gt; 列表 list(tuple)</h3>
<pre><code><code>tu = (1,23,5,4)
print(list(tu))</code></pre>
<h3 id="列表-元组-tuplelist">&lt;2&gt; 列表 =&gt; 元组 tuple(list)</h3>
<pre><code><code>lst = [1,23,5,4]
print(tuple(lst))</code></pre>
<h3 id="liststr-str.joinlist">&lt;3&gt; list=&gt;str str.join(list)</h3>
<pre><code><code>lst = [&quot;1&quot;,&quot;2&quot;,&quot;3&quot;]
print(&quot;&quot;.join(lst))</code></pre>
<h3 id="strlist-str.split">&lt;4&gt; str=&gt;list str.split()</h3>
<pre><code><code>s = &quot;alex wusir 太白&quot;
print(s.split())</code></pre>
<h3 id="转换成false的数据-0noneset-false">&lt;5&gt;转换成False的数据: 0,'',None,[],(),{},set() ==&gt; False`</h3>
<h5 id="list----str-重点">list -- str ( 重点)</h5>
<pre><code><code>lst = [&quot;1&quot;,&quot;2&quot;,&quot;3&quot;]
print(&quot;&quot;.join(lst))
str -- list
s = &quot;alex wusir 太白&quot;
print(s.split()) </code></pre>
<h2 id="以后要遇到的坑">3、以后要遇到的坑</h2>
<h3 id="循环添加">（1）循环添加</h3>
<pre><code><code>lst = [1,2,3,4,5,6]
for i in lst:
    lst.append(7) # 这样写法就会一直持续添加7
    print(lst)
print(lst)</code></pre>
<h3 id="列表循环删除">（2）列表循环删除</h3>
<p>列表: 循环删除列表中的每⼀个元素</p>
<pre><code><code>li = [11, 22, 33, 44]
for e in li:
    li.remove(e)
print(li)
结果:
[22, 44]</code></pre>
<p>分析原因: for的运⾏过程. 会有⼀个指针来记录当前循环的元素是哪⼀个, ⼀开始这个指针指向第0 个.然后获取到第0个元素. 紧接着删除第0个. 这个时候. 原来是第⼀个的元素会⾃动的变成 第0个.然后指针向后移动⼀次, 指向1元素. 这时原来的1已经变成了0, 也就不会被删除了.</p>
<p>⽤pop删除试试看:</p>
<pre><code><code>li = [11, 22, 33, 44]
for i in range(0, len(li)):
   del li[i]
print(li)
结果: 报错</code></pre>
<p>i= 0, 1, 2 删除的时候li[0] 被删除之后. 后⾯⼀个就变成了第0个.</p>
<p>以此类推. 当i = 2的时候. list中只有⼀个元素. 但是这个时候删除的是第2个 肯定报错啊</p>
<p>经过分析发现. 循环删除都不⾏. 不论是⽤del还是⽤remove. 都不能实现. 那么pop呢?</p>
<pre><code><code>for el in li:
 li.pop() # pop也不⾏
print(li)
结果:
[11, 22]
</code></pre>
<h3 id="列表循环删除成功">（3）列表循环删除成功</h3>
<p>只有这样才是可以的:</p>
<pre><code><code>for i in range(0, len(li)): # 循环len(li)次, 然后从后往前删除
 li.pop()
print(li)
</code></pre>
<p>或者. ⽤另⼀个列表来记录你要删除的内容. 然后循环删除</p>
<pre><code><code>li = [11, 22, 33, 44]
del_li = []
for e in li:
 del_li.append(e)
for e in del_li:
 li.remove(e)
print(li)
</code></pre>
<p>注意: 由于删除元素会导致元素的索引改变, 所以容易出现问题. 尽量不要再循环中直接去删 除元素. 可以把要删除的元素添加到另⼀个集合中然后再批量删除.</p>
<h3 id="字典的坑">（4）字典的坑</h3>
<p>dict中的fromkey(),再次重提 可以帮我们通过list来创建⼀个dict</p>
<pre><code><code>dic = dict.fromkeys([&quot;jay&quot;, &quot;JJ&quot;], [&quot;周杰伦&quot;, &quot;麻花藤&quot;])
print(dic)
结果:
{&#39;jay&#39;: [&#39;周杰伦&#39;, &#39;麻花藤&#39;], &#39;JJ&#39;: [&#39;周杰伦&#39;, &#39;麻花藤&#39;]}
</code></pre>
<p>代码中只是更改了jay那个列表. 但是由于jay和JJ⽤的是同⼀个列表. 所以. 前⾯那个改了. 后面那个也会跟着改　</p>
<h4 id="字典和集合在遍历循环时不能修改原来的大小字典的长度可以进行修改值">字典和集合在遍历（循环）时不能修改原来的大小（字典的长度），可以进行修改值</h4>
<p>dict中的元素在迭代过程中是不允许进⾏删除的</p>
<p>dic = {'k1': 'alex', 'k2': 'wusir', 's1': '⾦⽼板'}</p>
<h3 id="删除key中带有k的元素">（5）删除key中带有'k'的元素</h3>
<pre><code><code>for k in dic:
  if &#39;k&#39; in k:
 del dic[k] # dictionary changed size during iteration, 在循环迭代的时候不允许进⾏删除操作
print(dic)
</code></pre>
<p>那怎么办呢? 把要删除的元素暂时先保存在⼀个list中, 然后循环list, 再删除</p>
<pre><code><code>dic = {&#39;k1&#39;: &#39;alex&#39;, &#39;k2&#39;: &#39;wusir&#39;, &#39;s1&#39;: &#39;⾦⽼板&#39;}
dic_del_list = []
for k in dic:
 if &#39;k&#39; in k:
 dic_del_list.append(k)
for el in dic_del_list:
 del dic[el]
print(dic)
</code></pre>

</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>