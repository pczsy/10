<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修文件的各种操作' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>文件的各种操作</center></div><div class='banquan'>原文出处:本文由博客园博主626提供。<br/>
原文连接:https://www.cnblogs.com/fengqiang626/p/11189278.html</div><br>
    <div class="toc">
    <p class="toc-title">目录</p>
    <div class="toc-list">
        <ul>
        <li><a href="#文件操作">文件操作</a></li>
        <li><a href="#只读">只读</a></li>
        <li><a href="#只写">只写</a></li>
        <li><a href="#读写">读写</a></li>
        <li><a href="#文件其他操作">文件其他操作</a></li>
        <li><a href="#文件更改及名字修改">文件更改及名字修改</a></li>
        </ul>
    </div>
</div>
<h3 id="文件操作">文件操作</h3>
<pre><code><code>f = open(&#39;文件的路径&#39;，mode = &#39;打开文件的模式&#39;，encoding = &#39;编码方式&#39;)
# 打开 第一个内容是文件的名字（必须是字符串）
# mode 第二个内容是我们对文件的操作方式
# encoding 第三个内容是我们文件的编码集
# f 文件句柄所有对文件的操作都是操作文件句柄</code></pre>
<h3 id="只读">只读</h3>
<p><strong>mode = 'r'</strong></p>
<pre><code><code># mode = &#39;r&#39; 只读
content = f.read()  # 读 一次性全部读取
content = f.readline()  # 读取一行，但是一行后有\n换行
content = f.readlines()  # 读取多行，存放在列表里
content = f.read(3) # mode = &#39;r&#39; read里的内容就是表示读取的字符数量
print(content)</code></pre>
<p><strong>mode = 'rb'</strong></p>
<pre><code><code>f = open(r&#39;c:\Users\Super La\Desktop\qwe.txt&#39;, mode = &#39;rb&#39;)
# r 和 \\ 一样都是转义  r&#39;c:\Users\Super La\Desktop\qwe.txt&#39;      &#39;c:\\Users\\Super La\\Desktop\\qwe.txt&#39;
# 如果直接拷贝文件路径的话 将C转换成c
# rb读取字节
print(f.read()) # 读取字节 不能指定编码格式</code></pre>
<p><strong>绝对路径：从磁盘开始查找的就是绝对路径</strong></p>
<p><strong>相对路径：相对与 上文件夹内容详解来查找的一种路径</strong></p>
<p><strong>文件路径推荐写法 用相对路径</strong></p>
<h3 id="只写">只写</h3>
<p><strong>mode = 'w'</strong></p>
<pre><code><code>f = open(&#39;t1.txt&#39;, mode = &#39;w&#39;, encoding = &#39;utf8&#39;)
f.write(&#39;lalalalaalal&#39;)
f.write(&#39;啦啦啦啦啦啦&#39;)
print(f.write(&#39;123456&#39;))  # 返回创建字符的数量
# w模式 如果文件不存在就新建一个
# 覆盖写，写之前先把文件清空</code></pre>
<p><strong>mode = 'wb'</strong></p>
<pre><code><code>f = open(&#39;qq.jpg&#39;,mode = &#39;rb&#39;)
f = open(&#39;qq1.jpg&#39;,mode = &#39;wb&#39;)
f.write(f.read())</code></pre>
<p><strong>a 模式 追加</strong></p>
<pre><code><code>f = open(&#39;t1&#39;,mode = &#39;a&#39;, encoding = &#39;utf8&#39;)
f.write(&#39;lalala&#39;)
#文件最后添加内容</code></pre>
<p><strong>'w' 只写 没有读的功能 打开word 打不开</strong></p>
<h3 id="读写">读写</h3>
<p><strong>r+ 读 写</strong></p>
<pre><code><code>f = open(&#39;t1&#39;,mode = &#39;r+&#39;,encoding = &#39;utf8&#39;)
# 读 写
#print(f.read())  #读内容
#f.write(&#39;啦啦啦&#39;) 

# 写 读 错误示范 写的时候会把源文件覆盖一部分
#f.write(&#39;啦啦啦&#39;) 
#print(f.read())  #读内容</code></pre>
<p><strong>w+ 写 读</strong></p>
<pre><code><code>f = open(&#39;t1&#39;,mode = &#39;w+&#39;,encoding = &#39;utf8&#39;)
f.write(&#39;lalala&#39;)
f.seek(0)  # 移动文件光标 
print(f.read())</code></pre>
<p><strong>a+ 追加 读</strong></p>
<pre><code><code>f = open(&#39;t1&#39;,mode = &#39;a+&#39;,encoding = &#39;utf8&#39;)
f.seek(0)
print(f.read())
f.write(&#39;哈哈哈&#39;)
</code></pre>
<p><strong>最常用的r+</strong></p>
<pre><code><code>f = open(r&#39;..\t1&#39;,mode = &#39;r+&#39;,encoding = &#39;utf8&#39;)
# ..\ 返回上一级
#print(f.read())  # 读内容
#f.write(&#39;今天是个好日子&#39;)
</code></pre>
<p><strong>总结：</strong></p>
<pre><code><code># r 只读    不能写
# read()    读取全部  模式是r的时候  read(3)  读取3个字符
#                   模式是rb的时候  read(3)  读取3个字节
# read()         读取一行
# readlines()    存放在一个列表中

# w 只写    不能读   覆盖写，先清空文件的内容，再写
# 当文件不存在的时候，创建一个文件

# a 追加 不能读
# 写的内容一直在问价的末尾

# r+
# 错误示范    先写在读
# 正确的是    先读在写

# w+    写读
# 写读的时候是读不到内容的，除非移动光标

# a+  追加写  读
# 写读的时候是读不到内容的，除非移动光标
# 最常用：r, w, a, r+, a+
</code></pre>
<pre><code><code>f = open(&#39;t1&#39;,mode = &#39;r&#39;,encoding = &#39;utf8&#39;)
print(f.read())
msg = f.read()
print(msg)
f.close()  # 关闭文件

f = open(&#39;t1&#39;,mode = &#39;w&#39;,encoding = &#39;utf8&#39;)
msg = f.write(&#39;啦啦啦&#39;)
f.flush()   # 刷新
print(msg)
f.close()
</code></pre>
<pre><code><code>with open(&#39;t1&#39;, mode = &#39;r&#39;, encoding = &#39;utf8&#39;) as f : # 上下文管理    ---面试题
    msg = f.read()
    print(msg)
# 不用自动关闭
</code></pre>
<h3 id="文件其他操作">文件其他操作</h3>
<pre><code><code>with open(&#39;t1&#39;,&#39;r&#39;,encoding = &#39;utf8&#39;) as f:
    print(f.read())
    print(f.seeek(0)) # 字节
    # 双数字
         # (0，0)文件的头部
         # (0，2)文件的尾部
         # (0，1)当前位置
     # 单数字
         seek(0)    # 字节  
    print（f.read(1)） # 读一个字符
    print(f.tell()) # 查看光标的位置  数的字节
</code></pre>
<pre><code><code>with open(&#39;t1&#39;,&#39;r&#39;,encoding = &#39;utf8&#39;) as f:
    f.truncate(9)   # 截取 3个字符 指定字节之后的内容全部删除
    
</code></pre>
<h3 id="文件更改及名字修改">文件更改及名字修改</h3>
<pre><code><code>import os
os.rename(&#39;t2&#39;,&#39;t3&#39;) # 修改文件名
</code></pre>
<pre><code><code>with open(&#39;t1&#39;,&#39;r&#39;,encoding = &#39;utf8&#39;) as f , open(&#39;t2&#39;,&#39;a&#39;,encoding = &#39;utf8&#39;) as f1:
    msg = f.read()   # 将文件复制一份
    msg = msg.replace(&#39;好&#39;，&#39;困&#39;)
    f1.write(msg)
    
import os
os.remove(&#39;t1&#39;)  # 删除源数据
os.rename(&#39;t2&#39;,&#39;t3&#39;)
</code></pre>
<pre><code><code>with open(&#39;t4&#39;,mode = &#39;r&#39;,encoding = &#39;utf8&#39;) as f, open(&#39;t6&#39;, mode = &#39;a&#39;,encoding = &#39;utf8&#39;) as f2:
    for i in f:
        print(i.strip())
        f2.write(i) # 文件修改
</code></pre>
<p><strong>今日总结：</strong></p>
<pre><code><code>    # open()  # 打开
    # close 要关闭文件
    # 写模式下需要刷新  flush()

    # r 只读
    #   read(3)   看对文件操作的模式来判断是字符还是字节
    #   mode = &#39;r&#39; 时候是字符
    #   mode = &#39;rb&#39; 时候是字节
    # readline()   读取一行,自带\n(换行)
    # readlines()  读取全部以一行一行的形式存在放列表里

    # a 追加
        #文件的末尾写
    # w 覆盖写
        # 先清空文件,后写入文件

    # rb ,wb ab自己试
        # 只要是带b的模式,注意的是不是不能有encoding

    # a+
    #   追加 + 读     注意 不管怎么读都读不到内容,除非移动光标

    # w+
    #   覆盖写 + 读   注意:先写后读  先读后写   除非移动光标

    # r+
    #   读 + 写      注意: 先读后写

    # 其他操作

    # seek()  移动光标
    #   0,0    开头
    #   0,1    当前
    #   0,2    末尾

    # 3 如果是文字就移动一位,如果是英文就移动3位

    # tell() 查看光标 光标是按照字节数的

    # truncate()  截取  内容是字节数

# 文件修改
import os  # 导入  os和操作系统相关

# os.rename()  # 重命名  第一个参数旧的名字,第二个是新的名字
# os.remove()    # 删除这个文件  字符串


# with open(&#39;t1&#39;,&#39;r&#39;,encoding=&#39;utf-8&#39;)as f,\
#       open(&#39;t2&#39;,&#39;w&#39;,encoding=&#39;utf-8&#39;)as f1:

# 路径:

# 绝对路劲: 从磁盘根目录开始查找
# 相对路劲: 相对于某个东西来查找就是相对路径
#   返回上一级 ..\
# c:\user\...    可以把单个\写成双\\
# 在路径的前面加一个r
# 以上两种就是转义
</code></pre>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>