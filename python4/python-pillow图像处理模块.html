<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修python-pillow图像处理模块' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>python-pillow图像处理模块</center></div><div class='banquan'>原文出处:本文由博客园博主莫柔落切提供。<br/>
原文连接:https://www.cnblogs.com/uge3/p/11244491.html</div><br>
    <div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">from</span> PIL <span style="color: #0000ff;">import</span><span style="color: #000000;"> ImageColor
ImageColor.getcolor(</span><span style="color: #800000;">'</span><span style="color: #800000;">red</span><span style="color: #800000;">'</span>,<span style="color: #800000;">'</span><span style="color: #800000;">RGB</span><span style="color: #800000;">'</span>) <span style="color: #008000;">#</span><span style="color: #008000;">颜色 模式</span></pre>
</div>
<div class="cnblogs_code">
<pre><code>ImageColor.getcolor(<span style="color: #800000;">'</span><span style="color: #800000;">red</span><span style="color: #800000;">'</span>,<span style="color: #800000;">'</span><span style="color: #800000;">RGBA</span><span style="color: #800000;">'</span>) <span style="color: #008000;">#</span><span style="color: #008000;">颜色 模式 带透明度</span></pre>
</div>
<div class="cnblogs_code">
<pre><code><span style="color: #008000;">#</span><span style="color: #008000;">切换到有图片的目录 </span>
%cd IMAGE </pre>
</div>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">from</span> PIL <span style="color: #0000ff;">import</span><span style="color: #000000;"> Image
im </span>=  Image.open(<span style="color: #800000;">'</span><span style="color: #800000;">ludashi.jpg</span><span style="color: #800000;">'</span>)<span style="color: #008000;">#</span><span style="color: #008000;">缩略图制作  打开一个图像文件 注意为当路径</span>
<span style="color: #0000ff;">print</span>(im.format,im.size,im.mode)<span style="color: #008000;">#</span><span style="color: #008000;">格式，大小，颜色模式</span></pre>
</div>
<pre class="js-evernote-checked" data-evernote-id="1109">JPEG (900, 600) RGB</pre>
<div class="cnblogs_code">
<pre><code>w,h = im.size <span style="color: #008000;">#</span><span style="color: #008000;">获得图像大小  分别为 宽  高</span>
<span style="color: #0000ff;">print</span>(<span style="color: #800000;">'</span><span style="color: #800000;">尺寸：%sx%s</span><span style="color: #800000;">'</span>%(w,h))</pre>
</div>
<div class="cnblogs_code">
<pre><code>im.thumbnail((w//2,h//2))<span style="color: #008000;">#</span><span style="color: #008000;">缩放为50%</span>
<span style="color: #0000ff;">print</span>(<span style="color: #800000;">'</span><span style="color: #800000;">缩放图像大小：%sx%s</span><span style="color: #800000;">'</span>%(w//2,h//2))</pre>
</div>
<div class="cnblogs_code">
<pre><code>im.save(<span style="color: #800000;">'</span><span style="color: #800000;">ludashi-50.jpg</span><span style="color: #800000;">'</span>,<span style="color: #800000;">'</span><span style="color: #800000;">jpeg</span><span style="color: #800000;">'</span>) <span style="color: #008000;">#</span><span style="color: #008000;">图像保存格式 为 jpeg</span></pre>
</div>
<div class="cnblogs_code">
<pre><code>im.show()<span style="color: #008000;">#</span><span style="color: #008000;">显示图片</span></pre>
</div>
<div class="cnblogs_code">
<pre><code>im_size = im.resize((w//4,h//4)) <span style="color: #008000;">#</span><span style="color: #008000;">调整大小</span>
im_size.save(<span style="color: #800000;">'</span><span style="color: #800000;">ludashi-25.jpg</span><span style="color: #800000;">'</span>)</pre>
</div>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">from</span> PIL <span style="color: #0000ff;">import</span> ImageEnhance <span style="color: #008000;">#</span><span style="color: #008000;">增强对比度</span>
enh =<span style="color: #000000;"> ImageEnhance.Contrast(im)
enh.enhance(</span>1.3).show(<span style="color: #800000;">"</span><span style="color: #800000;">30%增强对比度</span><span style="color: #800000;">"</span>)</pre>
</div>
<div class="cnblogs_code">
<pre><code><span style="color: #008000;">#</span><span style="color: #008000;">裁剪图像</span>
box =(100,100,400,400<span style="color: #000000;">)
region </span>=<span style="color: #000000;"> im.crop(box)
region.save(</span><span style="color: #800000;">"</span><span style="color: #800000;">ludashi-c.jpe</span><span style="color: #800000;">"</span>)</pre>
</div>
<div class="cnblogs_code">
<pre><code><span style="color: #008000;">#</span><span style="color: #008000;">裁剪图像</span>
box =(100,100,400,400<span style="color: #000000;">)
region </span>=<span style="color: #000000;"> im.crop(box)
region.save(</span><span style="color: #800000;">"</span><span style="color: #800000;">ludashi-c.jpe</span><span style="color: #800000;">"</span>)</pre>
</div>
<div class="cnblogs_code">
<pre><code><span style="color: #008000;">#</span><span style="color: #008000;">旋转图像</span>
im.rotate(90).save(<span style="color: #800000;">'</span><span style="color: #800000;">ludas-90.jpg</span><span style="color: #800000;">'</span><span style="color: #000000;">)
im.rotate(</span>180).save(<span style="color: #800000;">'</span><span style="color: #800000;">luda-180.jpg</span><span style="color: #800000;">'</span><span style="color: #000000;">)
im.rotate(</span>8).save(<span style="color: #800000;">'</span><span style="color: #800000;">luda-9.jpg</span><span style="color: #800000;">'</span>)</pre>
</div>
<div class="cnblogs_code">
<pre><code><span style="color: #008000;">#</span><span style="color: #008000;">镜像翻转</span>
im.transpose(Image.FLIP_LEFT_RIGHT).save(<span style="color: #800000;">'</span><span style="color: #800000;">luda-水平翻转.jpg</span><span style="color: #800000;">'</span><span style="color: #000000;">)
im.transpose(Image.FLIP_TOP_BOTTOM).save(</span><span style="color: #800000;">'</span><span style="color: #800000;">luda-上下翻转.jpg</span><span style="color: #800000;">'</span>)</pre>
</div>
<div class="cnblogs_code">
<pre><code><span style="color: #008000;">#</span><span style="color: #008000;">添加水印,</span>

<span style="color: #008000;">#</span><span style="color: #008000;">打开logo文件</span>
logo_file =<span style="color: #800000;">'</span><span style="color: #800000;">logo.png</span><span style="color: #800000;">'</span><span style="color: #000000;">
im_logo </span>= Image.open(logo_file)<span style="color: #008000;">#</span><span style="color: #008000;">打开文件</span>
logo_w,logo_h = im_logo.size  <span style="color: #008000;">#</span><span style="color: #008000;"> 获得logo的大小</span>

<span style="color: #008000;">#</span><span style="color: #008000;">打开目标文件 </span>
target= <span style="color: #800000;">'</span><span style="color: #800000;">ludashi.jpg</span><span style="color: #800000;">'</span><span style="color: #000000;">
im_target </span>=<span style="color: #000000;"> Image.open(target)
target_w,target_h </span>= im_target.size  <span style="color: #008000;">#</span><span style="color: #008000;">需要加水印的文件大小</span>

<span style="color: #008000;">#</span><span style="color: #008000;">加水印</span>
im_copy = im_target.copy()  <span style="color: #008000;">#</span><span style="color: #008000;">制作副本</span>
im_copy.paste(im_logo,(target_w-logo_w,target_h-logo_h),im_logo) <span style="color: #008000;">#</span><span style="color: #008000;">起始位置   （坐标）</span>
im_copy.save(<span style="color: #800000;">'</span><span style="color: #800000;">luda-logo.jpg</span><span style="color: #800000;">'</span>)<span style="color: #008000;">#</span><span style="color: #008000;">保存</span></pre>
</div>
<div class="cnblogs_code">
<pre><code><span style="color: #008000;">#</span><span style="color: #008000;">查看波段和每个像素的颜色值</span>
im.getbands()</pre>
</div>
<div class="cnblogs_code">
<pre><code>im.getpixel((111,1))  <span style="color: #008000;">#</span><span style="color: #008000;">像素坐标</span></pre>
</div>
<div class="cnblogs_code">
<pre><code><span style="color: #008000;">#</span><span style="color: #008000;">新建图片  填写文字</span>
<span style="color: #0000ff;">from</span> PIL <span style="color: #0000ff;">import</span><span style="color: #000000;"> ImageDraw,ImageFont
im_new </span>= Image.new(<span style="color: #800000;">'</span><span style="color: #800000;">RGBA</span><span style="color: #800000;">'</span>,(400,400),<span style="color: #800000;">'</span><span style="color: #800000;">white</span><span style="color: #800000;">'</span>) <span style="color: #008000;">#</span><span style="color: #008000;"> 颜色模式,大小,底色</span>
pic =<span style="color: #000000;"> ImageDraw.Draw(im_new)
pic.text((</span>50,50),<span style="color: #800000;">'</span><span style="color: #800000;">uge3</span><span style="color: #800000;">'</span>,fill=<span style="color: #800000;">'</span><span style="color: #800000;">red</span><span style="color: #800000;">'</span>)<span style="color: #008000;">#</span><span style="color: #008000;">坐标 ,内容, 文字颜色</span>
im_new.save(<span style="color: #800000;">'</span><span style="color: #800000;">uge3.png</span><span style="color: #800000;">'</span>)</pre>
</div>
<div class="cnblogs_code">
<pre><code><span style="color: #008000;">#</span><span style="color: #008000;">新建图片 ,填写文字,处理字体</span>
<span style="color: #0000ff;">import</span><span style="color: #000000;"> os
</span><span style="color: #0000ff;">from</span> PIL <span style="color: #0000ff;">import</span><span style="color: #000000;"> ImageDraw, ImageFont
</span><span style="color: #008000;">#</span><span style="color: #008000;">fonts_path=r'c:\windows\fonts'  #windows系统下字体目录</span>
fonts_path =r<span style="color: #800000;">'</span><span style="color: #800000;">/usr/share/fonts/dejavu</span><span style="color: #800000;">'</span>  <span style="color: #008000;">#</span><span style="color: #008000;">linux下</span>
font = ImageFont.truetype(os.path.join(fonts_path,<span style="color: #800000;">'</span><span style="color: #800000;">YuGothB.ttc</span><span style="color: #800000;">'</span><span style="color: #000000;">))
im_new </span>= Image.new(<span style="color: #800000;">'</span><span style="color: #800000;">RGBA</span><span style="color: #800000;">'</span>,(500,500),<span style="color: #800000;">'</span><span style="color: #800000;">white</span><span style="color: #800000;">'</span><span style="color: #000000;">)
pic </span>=<span style="color: #000000;">ImageDraw.Draw(im_new)
pic.text((</span>50,50),<span style="color: #800000;">'</span><span style="color: #800000;">悠居艺山</span><span style="color: #800000;">'</span>,fill=<span style="color: #800000;">'</span><span style="color: #800000;">black</span><span style="color: #800000;">'</span>,font=font)<span style="color: #008000;">#</span><span style="color: #008000;"> 坐标,内容,颜色,字体</span>
im_new.save(<span style="color: #800000;">'</span><span style="color: #800000;">uge3-font-1.png</span><span style="color: #800000;">'</span>)</pre>
</div>
<p>&nbsp;</p>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>