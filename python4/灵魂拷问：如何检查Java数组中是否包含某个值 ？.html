<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修灵魂拷问：如何检查Java数组中是否包含某个值 ？' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>灵魂拷问：如何检查Java数组中是否包含某个值 ？</center></div><div class='banquan'>原文出处:本文由博客园博主沉默王二提供。<br/>
原文连接:https://www.cnblogs.com/qing-gee/p/12053156.html</div><br>
    <div class="output_wrapper" id="output_wrapper_id" style="font-size: 16px; color: rgb(62, 62, 62); line-height: 1.8; word-spacing: 1px; letter-spacing: 1px; font-family: -apple-system-font, BlinkMacSystemFont, 'Helvetica Neue', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei UI', 'Microsoft YaHei', Arial, sans-serif;"><p style="font-size: inherit; color: inherit; margin: 0px; padding: 0px; box-sizing: border-box; display: block; margin-left: 16px; margin-right: 16px; margin-bottom: 20px; line-height: 1.75em;">在逛 programcreek 的时候，我发现了一些专注细节但价值连城的主题。比如说：如何检查Java数组中是否包含某个值 ？像这类灵魂拷问的主题，非常值得深入地研究一下。</p>
<p style="font-size: inherit; color: inherit; margin: 0px; padding: 0px; box-sizing: border-box; display: block; margin-left: 16px; margin-right: 16px; margin-bottom: 20px; line-height: 1.75em;">另外，我想要告诉大家的是，作为程序员，我们千万不要轻视这些基础的知识点。因为基础的知识点是各种上层技术共同的基础，只有彻底地掌握了这些基础知识点，才能更好地理解程序的运行原理，做出更优化的产品。</p>
<p style="font-size: inherit; color: inherit; margin: 0px; padding: 0px; box-sizing: border-box; display: block; margin-left: 16px; margin-right: 16px; margin-bottom: 20px; line-height: 1.75em;"><a href="https://mp.weixin.qq.com/s/feoOINGSyivBO8Z1gaQVOA" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; text-decoration: none; color: rgb(30, 107, 184); overflow-wrap: break-word;">我</a>曾在某个技术论坛上分享过一篇非常基础的文章，结果遭到了无数的嘲讽：“这么水的文章不值得分享。”我点开他的头像进入他的主页，发现他从来没有分享过一篇文章，不过倒是在别人的博客下面留下过不少的足迹，大多数都是冷嘲热讽。我就纳闷了，技术人不都应该像我这样低调谦逊吗？怎么戾气这么重！</p>
<p style="font-size: inherit; color: inherit; margin: 0px; padding: 0px; box-sizing: border-box; display: block; margin-left: 16px; margin-right: 16px; margin-bottom: 20px; line-height: 1.75em;">好了，让我们来步入正题。如何检查数组（未排序）中是否包含某个值 ？这是一个非常有用并且经常使用的操作。我想大家的脑海中应该已经浮现出来了几种解决方案，这些方案的时间复杂度可能大不相同。</p>
<p style="font-size: inherit; color: inherit; margin: 0px; padding: 0px; box-sizing: border-box; display: block; margin-left: 16px; margin-right: 16px; margin-bottom: 20px; line-height: 1.75em;">我先来提供四种不同的方法，大家看看是否高效。</p>
<p style="font-size: inherit; color: inherit; margin: 0px; padding: 0px; box-sizing: border-box; display: block; margin-left: 16px; margin-right: 16px; margin-bottom: 20px; line-height: 1.75em;"><strong style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; font-weight: bold; color: rgb(233, 105, 0);">1）使用 List</strong></p>
<pre><code><code><span class="hljs-function" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">public</span>&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">static</span>&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">boolean</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">useList</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(String[]&nbsp;arr,&nbsp;String&nbsp;targetValue)</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">return</span>&nbsp;Arrays.asList(arr).contains(targetValue);<br>}<br></code></pre>
<p style="font-size: inherit; color: inherit; margin: 0px; padding: 0px; box-sizing: border-box; display: block; margin-left: 16px; margin-right: 16px; margin-bottom: 20px; line-height: 1.75em;">Arrays 类中有一个内部类 ArrayList（可以通过 <code style="line-height: inherit; overflow-wrap: break-word; word-break: break-all; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(248, 35, 117); background: rgb(248, 248, 248); font-size: 14px;">Arrays.asList(arr)</code> 创建该实例），其 <code style="line-height: inherit; overflow-wrap: break-word; word-break: break-all; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(248, 35, 117); background: rgb(248, 248, 248); font-size: 14px;">contains()</code> 方法的源码如下所示。</p>
<pre><code><code><span class="hljs-function" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">public</span>&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">boolean</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">contains</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(Object&nbsp;o)</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">return</span>&nbsp;indexOf(o)&nbsp;!=&nbsp;-<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(209, 154, 102); word-wrap: inherit !important; word-break: inherit !important;">1</span>;<br>}<br><span class="hljs-function" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">public</span>&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">int</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">indexOf</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(Object&nbsp;o)</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;E[]&nbsp;a&nbsp;=&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">this</span>.a;<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">if</span>&nbsp;(o&nbsp;==&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">null</span>)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">for</span>&nbsp;(<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">int</span>&nbsp;i&nbsp;=&nbsp;<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(209, 154, 102); word-wrap: inherit !important; word-break: inherit !important;">0</span>;&nbsp;i&nbsp;&lt;&nbsp;a.length;&nbsp;i++)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">if</span>&nbsp;(a[i]&nbsp;==&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">null</span>)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">return</span>&nbsp;i;<br>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">else</span>&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">for</span>&nbsp;(<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">int</span>&nbsp;i&nbsp;=&nbsp;<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(209, 154, 102); word-wrap: inherit !important; word-break: inherit !important;">0</span>;&nbsp;i&nbsp;&lt;&nbsp;a.length;&nbsp;i++)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">if</span>&nbsp;(o.equals(a[i]))<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">return</span>&nbsp;i;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">return</span>&nbsp;-<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(209, 154, 102); word-wrap: inherit !important; word-break: inherit !important;">1</span>;<br>}<br></code></pre>
<p style="font-size: inherit; color: inherit; margin: 0px; padding: 0px; box-sizing: border-box; display: block; margin-left: 16px; margin-right: 16px; margin-bottom: 20px; line-height: 1.75em;">从上面的源码可以看得出，<code style="line-height: inherit; overflow-wrap: break-word; word-break: break-all; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(248, 35, 117); background: rgb(248, 248, 248); font-size: 14px;">contains()</code> 方法调用了 <code style="line-height: inherit; overflow-wrap: break-word; word-break: break-all; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(248, 35, 117); background: rgb(248, 248, 248); font-size: 14px;">indexOf()</code> 方法，如果返回 -1 则表示 ArrayList 中不包含指定的元素，否则就包含。其中 <code style="line-height: inherit; overflow-wrap: break-word; word-break: break-all; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(248, 35, 117); background: rgb(248, 248, 248); font-size: 14px;">indexOf()</code> 方法用来获取元素在 ArrayList 中的下标，如果元素为 null，则使用“==”操作符进行判断，否则使用 <code style="line-height: inherit; overflow-wrap: break-word; word-break: break-all; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(248, 35, 117); background: rgb(248, 248, 248); font-size: 14px;">equals()</code> 方法进行判断。</p>
<p style="font-size: inherit; color: inherit; margin: 0px; padding: 0px; box-sizing: border-box; display: block; margin-left: 16px; margin-right: 16px; margin-bottom: 20px; line-height: 1.75em;">PS：关于“==”操作符和 <code style="line-height: inherit; overflow-wrap: break-word; word-break: break-all; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(248, 35, 117); background: rgb(248, 248, 248); font-size: 14px;">equals()</code> 方法，可以参照我另外一篇文章《<a href="https://mp.weixin.qq.com/s/WyrRCUlelzOxyfVBrxAGUg" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; text-decoration: none; color: rgb(30, 107, 184); overflow-wrap: break-word;">如何比较 Java 的字符串？</a>》</p>
<p style="font-size: inherit; color: inherit; margin: 0px; padding: 0px; box-sizing: border-box; display: block; margin-left: 16px; margin-right: 16px; margin-bottom: 20px; line-height: 1.75em;"><strong style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; font-weight: bold; color: rgb(233, 105, 0);">2）使用 Set</strong></p>
<pre><code><code><span class="hljs-function" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">public</span>&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">static</span>&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">boolean</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">useSet</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(String[]&nbsp;arr,&nbsp;String&nbsp;targetValue)</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;Set&lt;String&gt;&nbsp;set&nbsp;=&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">new</span>&nbsp;HashSet&lt;String&gt;(Arrays.asList(arr));<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">return</span>&nbsp;set.contains(targetValue);<br>}<br></code></pre>
<p style="font-size: inherit; color: inherit; margin: 0px; padding: 0px; box-sizing: border-box; display: block; margin-left: 16px; margin-right: 16px; margin-bottom: 20px; line-height: 1.75em;">HashSet 其实是通过 HashMap 实现的，当使用 <code style="line-height: inherit; overflow-wrap: break-word; word-break: break-all; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(248, 35, 117); background: rgb(248, 248, 248); font-size: 14px;">new HashSet&lt;String&gt;(Arrays.asList(arr))</code> 创建并初始化了 HashSet 对象后，其实是在 HashMap 的键中放入了数组的值，只不过 HashMap 的值为默认的一个摆设对象。大家感兴趣的话，可以查看一下 HashSet 的源码。</p>
<p style="font-size: inherit; color: inherit; margin: 0px; padding: 0px; box-sizing: border-box; display: block; margin-left: 16px; margin-right: 16px; margin-bottom: 20px; line-height: 1.75em;">我们来着重看一下 HashSet 的 <code style="line-height: inherit; overflow-wrap: break-word; word-break: break-all; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(248, 35, 117); background: rgb(248, 248, 248); font-size: 14px;">contains()</code> 方法的源码。</p>
<pre><code><code><span class="hljs-function" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">public</span>&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">boolean</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">contains</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(Object&nbsp;o)</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">return</span>&nbsp;map.containsKey(o);<br>}<br><br><span class="hljs-function" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">public</span>&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">boolean</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">containsKey</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(Object&nbsp;key)</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">return</span>&nbsp;getNode(hash(key),&nbsp;key)&nbsp;!=&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">null</span>;<br>}<br></code></pre>
<p style="font-size: inherit; color: inherit; margin: 0px; padding: 0px; box-sizing: border-box; display: block; margin-left: 16px; margin-right: 16px; margin-bottom: 20px; line-height: 1.75em;">从上面的源码可以看得出，<code style="line-height: inherit; overflow-wrap: break-word; word-break: break-all; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(248, 35, 117); background: rgb(248, 248, 248); font-size: 14px;">contains()</code> 方法调用了 HashMap 的 <code style="line-height: inherit; overflow-wrap: break-word; word-break: break-all; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(248, 35, 117); background: rgb(248, 248, 248); font-size: 14px;">containsKey()</code> 方法，如果指定的元素在 HashMap 的键中，则返回 true；否则返回 false。</p>
<p style="font-size: inherit; color: inherit; margin: 0px; padding: 0px; box-sizing: border-box; display: block; margin-left: 16px; margin-right: 16px; margin-bottom: 20px; line-height: 1.75em;"><strong style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; font-weight: bold; color: rgb(233, 105, 0);">3）使用一个简单的循环</strong></p>
<pre><code><code><span class="hljs-function" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">public</span>&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">static</span>&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">boolean</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">useLoop</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(String[]&nbsp;arr,&nbsp;String&nbsp;targetValue)</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">for</span>&nbsp;(String&nbsp;s&nbsp;:&nbsp;arr)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">if</span>&nbsp;(s.equals(targetValue))<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">return</span>&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">true</span>;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">return</span>&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">false</span>;<br>}<br></code></pre>
<p style="font-size: inherit; color: inherit; margin: 0px; padding: 0px; box-sizing: border-box; display: block; margin-left: 16px; margin-right: 16px; margin-bottom: 20px; line-height: 1.75em;">for-each 循环中使用了 <code style="line-height: inherit; overflow-wrap: break-word; word-break: break-all; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(248, 35, 117); background: rgb(248, 248, 248); font-size: 14px;">equals()</code> 方法进行判断——这段代码让我想起了几个词，分别是简约、高效、清晰。</p>
<p style="font-size: inherit; color: inherit; margin: 0px; padding: 0px; box-sizing: border-box; display: block; margin-left: 16px; margin-right: 16px; margin-bottom: 20px; line-height: 1.75em;"><strong style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; font-weight: bold; color: rgb(233, 105, 0);">4）使用 <code style="line-height: inherit; overflow-wrap: break-word; word-break: break-all; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(248, 35, 117); background: rgb(248, 248, 248); font-size: 14px;">Arrays.binarySearch()</code></strong></p>
<pre><code><code><span class="hljs-function" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">public</span>&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">static</span>&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">boolean</span>&nbsp;<span class="hljs-title" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(97, 174, 238); word-wrap: inherit !important; word-break: inherit !important;">useArraysBinarySearch</span><span class="hljs-params" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; word-wrap: inherit !important; word-break: inherit !important;">(String[]&nbsp;arr,&nbsp;String&nbsp;targetValue)</span>&nbsp;</span>{<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">int</span>&nbsp;a&nbsp;=&nbsp;Arrays.binarySearch(arr,&nbsp;targetValue);<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">if</span>&nbsp;(a&nbsp;&gt;&nbsp;<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(209, 154, 102); word-wrap: inherit !important; word-break: inherit !important;">0</span>)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">return</span>&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">true</span>;<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">else</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">return</span>&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">false</span>;<br>}<br></code></pre>
<p style="font-size: inherit; color: inherit; margin: 0px; padding: 0px; box-sizing: border-box; display: block; margin-left: 16px; margin-right: 16px; margin-bottom: 20px; line-height: 1.75em;">不过，<code style="line-height: inherit; overflow-wrap: break-word; word-break: break-all; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(248, 35, 117); background: rgb(248, 248, 248); font-size: 14px;">binarySearch()</code> 只适合查找已经排序过的数组。</p>
<p style="font-size: inherit; color: inherit; margin: 0px; padding: 0px; box-sizing: border-box; display: block; margin-left: 16px; margin-right: 16px; margin-bottom: 20px; line-height: 1.75em;">由于我们不确定数组是否已经排序过，所以我们先来比较一下前三种方法的时间复杂度。由于调用 1 次的时间太短，没有统计意义，我们就模拟调用 100000 次，具体的测试代码如下所示。</p>
<pre><code><code>String[]&nbsp;arr&nbsp;=&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">new</span>&nbsp;String[]{<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 195, 121); word-wrap: inherit !important; word-break: inherit !important;">"沉"</span>,&nbsp;<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 195, 121); word-wrap: inherit !important; word-break: inherit !important;">"默"</span>,&nbsp;<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 195, 121); word-wrap: inherit !important; word-break: inherit !important;">"王"</span>,&nbsp;<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 195, 121); word-wrap: inherit !important; word-break: inherit !important;">"二"</span>,&nbsp;<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 195, 121); word-wrap: inherit !important; word-break: inherit !important;">"真牛逼"</span>};<br><span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(92, 99, 112); font-style: italic; word-wrap: inherit !important; word-break: inherit !important;">//&nbsp;使用&nbsp;List</span><br><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">long</span>&nbsp;startTime&nbsp;=&nbsp;System.nanoTime();<br><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">for</span>&nbsp;(<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">int</span>&nbsp;i&nbsp;=&nbsp;<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(209, 154, 102); word-wrap: inherit !important; word-break: inherit !important;">0</span>;&nbsp;i&nbsp;&lt;&nbsp;<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(209, 154, 102); word-wrap: inherit !important; word-break: inherit !important;">100000</span>;&nbsp;i++)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;useList(arr,&nbsp;<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 195, 121); word-wrap: inherit !important; word-break: inherit !important;">"真牛逼"</span>);<br>}<br><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">long</span>&nbsp;endTime&nbsp;=&nbsp;System.nanoTime();<br><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">long</span>&nbsp;duration&nbsp;=&nbsp;endTime&nbsp;-&nbsp;startTime;<br>System.out.println(<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 195, 121); word-wrap: inherit !important; word-break: inherit !important;">"useList:&nbsp;&nbsp;"</span>&nbsp;+&nbsp;duration&nbsp;/&nbsp;<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(209, 154, 102); word-wrap: inherit !important; word-break: inherit !important;">1000000</span>);<br><br><span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(92, 99, 112); font-style: italic; word-wrap: inherit !important; word-break: inherit !important;">//&nbsp;使用&nbsp;Set</span><br>startTime&nbsp;=&nbsp;System.nanoTime();<br><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">for</span>&nbsp;(<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">int</span>&nbsp;i&nbsp;=&nbsp;<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(209, 154, 102); word-wrap: inherit !important; word-break: inherit !important;">0</span>;&nbsp;i&nbsp;&lt;&nbsp;<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(209, 154, 102); word-wrap: inherit !important; word-break: inherit !important;">100000</span>;&nbsp;i++)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;useSet(arr,&nbsp;<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 195, 121); word-wrap: inherit !important; word-break: inherit !important;">"真牛逼"</span>);<br>}<br>endTime&nbsp;=&nbsp;System.nanoTime();<br>duration&nbsp;=&nbsp;endTime&nbsp;-&nbsp;startTime;<br>System.out.println(<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 195, 121); word-wrap: inherit !important; word-break: inherit !important;">"useSet:&nbsp;&nbsp;"</span>&nbsp;+&nbsp;duration&nbsp;/&nbsp;<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(209, 154, 102); word-wrap: inherit !important; word-break: inherit !important;">1000000</span>);<br><br><span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(92, 99, 112); font-style: italic; word-wrap: inherit !important; word-break: inherit !important;">//&nbsp;使用一个简单的循环</span><br>startTime&nbsp;=&nbsp;System.nanoTime();<br><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">for</span>&nbsp;(<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">int</span>&nbsp;i&nbsp;=&nbsp;<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(209, 154, 102); word-wrap: inherit !important; word-break: inherit !important;">0</span>;&nbsp;i&nbsp;&lt;&nbsp;<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(209, 154, 102); word-wrap: inherit !important; word-break: inherit !important;">100000</span>;&nbsp;i++)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;useLoop(arr,&nbsp;<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 195, 121); word-wrap: inherit !important; word-break: inherit !important;">"真牛逼"</span>);<br>}<br>endTime&nbsp;=&nbsp;System.nanoTime();<br>duration&nbsp;=&nbsp;endTime&nbsp;-&nbsp;startTime;<br>System.out.println(<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 195, 121); word-wrap: inherit !important; word-break: inherit !important;">"useLoop:&nbsp;&nbsp;"</span>&nbsp;+&nbsp;duration&nbsp;/&nbsp;<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(209, 154, 102); word-wrap: inherit !important; word-break: inherit !important;">1000000</span>);<br></code></pre>
<p style="font-size: inherit; color: inherit; margin: 0px; padding: 0px; box-sizing: border-box; display: block; margin-left: 16px; margin-right: 16px; margin-bottom: 20px; line-height: 1.75em;">PS：<code style="line-height: inherit; overflow-wrap: break-word; word-break: break-all; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(248, 35, 117); background: rgb(248, 248, 248); font-size: 14px;">nanoTime()</code> 获取的是纳秒级，这样计算的时间就更精确，最后除以 1000000 就是毫秒。换算单位是这样的：1秒=1000毫秒，1毫秒=1000微秒，1微秒=1000纳秒。</p>
<p style="font-size: inherit; color: inherit; margin: 0px; padding: 0px; box-sizing: border-box; display: block; margin-left: 16px; margin-right: 16px; margin-bottom: 20px; line-height: 1.75em;">统计结果如下所示：</p>
<pre><code><code class="hljs makefile" style="overflow-wrap: break-word; margin: 0px 2px; line-height: 18px; font-size: 14px; font-weight: normal; word-spacing: 0px; letter-spacing: 0px; margin-bottom: 20px; margin-left: 9px; margin-right: 9px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; overflow-x: auto; padding: 0.5em; color: rgb(171, 178, 191); background: rgb(40, 44, 52); white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important; display: -webkit-box !important;"><span class="hljs-section" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(224, 108, 117); word-wrap: inherit !important; word-break: inherit !important;">useList:&nbsp;&nbsp;6</span><br><span class="hljs-section" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(224, 108, 117); word-wrap: inherit !important; word-break: inherit !important;">useSet:&nbsp;&nbsp;40</span><br><span class="hljs-section" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(224, 108, 117); word-wrap: inherit !important; word-break: inherit !important;">useLoop:&nbsp;&nbsp;2</span><br></code></pre>
<p style="font-size: inherit; color: inherit; margin: 0px; padding: 0px; box-sizing: border-box; display: block; margin-left: 16px; margin-right: 16px; margin-bottom: 20px; line-height: 1.75em;">假如把数组的长度增加到 1000，我们再来看一下统计结果。</p>
<pre><code><code>String[]&nbsp;arr&nbsp;=&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">new</span>&nbsp;String[<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(209, 154, 102); word-wrap: inherit !important; word-break: inherit !important;">1000</span>];<br><br>Random&nbsp;s&nbsp;=&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">new</span>&nbsp;Random();<br><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">for</span>(<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">int</span>&nbsp;i=<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(209, 154, 102); word-wrap: inherit !important; word-break: inherit !important;">0</span>;&nbsp;i&lt;&nbsp;<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(209, 154, 102); word-wrap: inherit !important; word-break: inherit !important;">1000</span>;&nbsp;i++){<br>&nbsp;&nbsp;&nbsp;&nbsp;arr[i]&nbsp;=&nbsp;String.valueOf(s.nextInt());<br>}<br></code></pre>
<p style="font-size: inherit; color: inherit; margin: 0px; padding: 0px; box-sizing: border-box; display: block; margin-left: 16px; margin-right: 16px; margin-bottom: 20px; line-height: 1.75em;">这时数组中是没有我们要找的元素的。为了做比较，我们顺便把二分查找也添加到统计项目中。</p>
<pre><code><code><span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(92, 99, 112); font-style: italic; word-wrap: inherit !important; word-break: inherit !important;">//&nbsp;使用二分查找</span><br>startTime&nbsp;=&nbsp;System.nanoTime();<br><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">for</span>&nbsp;(<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">int</span>&nbsp;i&nbsp;=&nbsp;<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(209, 154, 102); word-wrap: inherit !important; word-break: inherit !important;">0</span>;&nbsp;i&nbsp;&lt;&nbsp;<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(209, 154, 102); word-wrap: inherit !important; word-break: inherit !important;">100000</span>;&nbsp;i++)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;useArraysBinarySearch(arr,&nbsp;<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 195, 121); word-wrap: inherit !important; word-break: inherit !important;">"真牛逼"</span>);<br>}<br>endTime&nbsp;=&nbsp;System.nanoTime();<br>duration&nbsp;=&nbsp;endTime&nbsp;-&nbsp;startTime;<br>System.out.println(<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(152, 195, 121); word-wrap: inherit !important; word-break: inherit !important;">"useArraysBinarySearch:&nbsp;&nbsp;"</span>&nbsp;+&nbsp;duration&nbsp;/&nbsp;<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(209, 154, 102); word-wrap: inherit !important; word-break: inherit !important;">1000000</span>);<br></code></pre>
<p style="font-size: inherit; color: inherit; margin: 0px; padding: 0px; box-sizing: border-box; display: block; margin-left: 16px; margin-right: 16px; margin-bottom: 20px; line-height: 1.75em;">统计结果如下所示：</p>
<pre><code><code class="hljs makefile" style="overflow-wrap: break-word; margin: 0px 2px; line-height: 18px; font-size: 14px; font-weight: normal; word-spacing: 0px; letter-spacing: 0px; margin-bottom: 20px; margin-left: 9px; margin-right: 9px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; overflow-x: auto; padding: 0.5em; color: rgb(171, 178, 191); background: rgb(40, 44, 52); white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important; display: -webkit-box !important;"><span class="hljs-section" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(224, 108, 117); word-wrap: inherit !important; word-break: inherit !important;">useList:&nbsp;&nbsp;91</span><br><span class="hljs-section" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(224, 108, 117); word-wrap: inherit !important; word-break: inherit !important;">useSet:&nbsp;&nbsp;1460</span><br><span class="hljs-section" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(224, 108, 117); word-wrap: inherit !important; word-break: inherit !important;">useLoop:&nbsp;&nbsp;70</span><br><span class="hljs-section" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(224, 108, 117); word-wrap: inherit !important; word-break: inherit !important;">useArraysBinarySearch:&nbsp;&nbsp;4</span><br></code></pre>
<p style="font-size: inherit; color: inherit; margin: 0px; padding: 0px; box-sizing: border-box; display: block; margin-left: 16px; margin-right: 16px; margin-bottom: 20px; line-height: 1.75em;">我们再把数组的长度调整到 10000。</p>
<pre><code><code>String[]&nbsp;arr&nbsp;=&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">new</span>&nbsp;String[<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(209, 154, 102); word-wrap: inherit !important; word-break: inherit !important;">10000</span>];<br><br>Random&nbsp;s&nbsp;=&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">new</span>&nbsp;Random();<br><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">for</span>(<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(198, 120, 221); word-wrap: inherit !important; word-break: inherit !important;">int</span>&nbsp;i=<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(209, 154, 102); word-wrap: inherit !important; word-break: inherit !important;">0</span>;&nbsp;i&lt;&nbsp;<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(209, 154, 102); word-wrap: inherit !important; word-break: inherit !important;">10000</span>;&nbsp;i++){<br>&nbsp;&nbsp;&nbsp;&nbsp;arr[i]&nbsp;=&nbsp;String.valueOf(s.nextInt());<br>}<br></code></pre>
<p style="font-size: inherit; color: inherit; margin: 0px; padding: 0px; box-sizing: border-box; display: block; margin-left: 16px; margin-right: 16px; margin-bottom: 20px; line-height: 1.75em;">统计结果如下所示：</p>
<pre><code><code class="hljs makefile" style="overflow-wrap: break-word; margin: 0px 2px; line-height: 18px; font-size: 14px; font-weight: normal; word-spacing: 0px; letter-spacing: 0px; margin-bottom: 20px; margin-left: 9px; margin-right: 9px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; overflow-x: auto; padding: 0.5em; color: rgb(171, 178, 191); background: rgb(40, 44, 52); white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important; display: -webkit-box !important;"><span class="hljs-section" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(224, 108, 117); word-wrap: inherit !important; word-break: inherit !important;">useList:&nbsp;&nbsp;1137</span><br><span class="hljs-section" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(224, 108, 117); word-wrap: inherit !important; word-break: inherit !important;">useSet:&nbsp;&nbsp;15711</span><br><span class="hljs-section" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(224, 108, 117); word-wrap: inherit !important; word-break: inherit !important;">useLoop:&nbsp;&nbsp;1115</span><br><span class="hljs-section" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: rgb(224, 108, 117); word-wrap: inherit !important; word-break: inherit !important;">useArraysBinarySearch:&nbsp;&nbsp;5</span><br></code></pre>
<p style="font-size: inherit; color: inherit; margin: 0px; padding: 0px; box-sizing: border-box; display: block; margin-left: 16px; margin-right: 16px; margin-bottom: 20px; line-height: 1.75em;">从上述的统计结果中可以很明显地得出这样一个结论：使用简单的 for 循环，效率要比使用 List 和 Set 高。这是因为把元素从数组中读出来再添加到集合中，就要花费一定的时间，而简单的 for 循环则省去了这部分时间。</p>
<p style="font-size: inherit; color: inherit; margin: 0px; padding: 0px; box-sizing: border-box; display: block; margin-left: 16px; margin-right: 16px; margin-bottom: 20px; line-height: 1.75em;">在得出这个结论之前，说实话，我最喜欢的方式其实是第一种“使用 List”，因为只需要一行代码 <code style="line-height: inherit; overflow-wrap: break-word; word-break: break-all; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(248, 35, 117); background: rgb(248, 248, 248); font-size: 14px;">Arrays.asList(arr).contains(targetValue)</code> 就可以搞定。</p>
<p style="font-size: inherit; color: inherit; margin: 0px; padding: 0px; box-sizing: border-box; display: block; margin-left: 16px; margin-right: 16px; margin-bottom: 20px; line-height: 1.75em;">虽然二分查找（<code style="line-height: inherit; overflow-wrap: break-word; word-break: break-all; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(248, 35, 117); background: rgb(248, 248, 248); font-size: 14px;">Arrays.binarySearch()</code>）花费的时间明显要少得多，但这个结论是不可信的。因为二分查找明确要求数组是排序过的，否则查找出的结果是没有意义的。可以看一下官方的 Javadoc。</p>
<blockquote style="line-height: inherit; display: block; padding: 15px 15px 15px 1rem; font-size: 0.9em; margin: 1em 16px; color: rgb(0, 0, 0); border-left: 5px solid rgb(239, 112, 96); background: rgb(239, 235, 233); overflow: auto; overflow-wrap: normal; word-break: normal;">
  <p style="font-size: inherit; color: inherit; padding: 0px; box-sizing: border-box; display: block; margin-left: 16px; margin-right: 16px; margin-bottom: 20px; line-height: 1.75em; margin: 0px;">Searches the specified array for the specified object using the binary search algorithm. The array must be sorted into ascending order according to the natural ordering of its elements (as by the sort(Object []) method) prior to making this call. If it is not sorted, the results are undefined. </p>
</blockquote>
<p style="font-size: inherit; color: inherit; margin: 0px; padding: 0px; box-sizing: border-box; display: block; margin-left: 16px; margin-right: 16px; margin-bottom: 20px; line-height: 1.75em;">实际上，如果要在一个数组或者集合中有效地确定某个值是否存在，一个排序过的 List 的算法复杂度为 <code style="line-height: inherit; overflow-wrap: break-word; word-break: break-all; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(248, 35, 117); background: rgb(248, 248, 248); font-size: 14px;">O(logn)</code>，而 HashSet 则为 <code style="line-height: inherit; overflow-wrap: break-word; word-break: break-all; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(248, 35, 117); background: rgb(248, 248, 248); font-size: 14px;">O(1)</code>。</p>
<p style="font-size: inherit; color: inherit; margin: 0px; padding: 0px; box-sizing: border-box; display: block; margin-left: 16px; margin-right: 16px; margin-bottom: 20px; line-height: 1.75em;">我们再来发散一下思维：怎么理解 <code style="line-height: inherit; overflow-wrap: break-word; word-break: break-all; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(248, 35, 117); background: rgb(248, 248, 248); font-size: 14px;">O(logn)</code> 和 <code style="line-height: inherit; overflow-wrap: break-word; word-break: break-all; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(248, 35, 117); background: rgb(248, 248, 248); font-size: 14px;">O(1)</code> 呢？</p>
<p style="font-size: inherit; color: inherit; margin: 0px; padding: 0px; box-sizing: border-box; display: block; margin-left: 16px; margin-right: 16px; margin-bottom: 20px; line-height: 1.75em;"><code style="line-height: inherit; overflow-wrap: break-word; word-break: break-all; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(248, 35, 117); background: rgb(248, 248, 248); font-size: 14px;">O(logn)</code> 的算法复杂度，比较典型的例子是二分查找。举个例子，假设现在一堆试卷，已经按照分数从高到底排列好了。现在要查找有没有 79 分的试卷，怎么办呢？可以先从中间找起，因为按照 100 分的卷子来看，79 分大差不差应该就在中间的位置（平均分如果低于 79 说明好学生就比较少了），如果中间这份卷子的分数是 83，那说明 79 分的卷子就在下面的一半，这时候可以把上面那半放在一边了。然后按照相同的方式，每次就从中间开始找，直到找到 79 分的卷子（当然也可能没有 79 分）。</p>
<p style="font-size: inherit; color: inherit; margin: 0px; padding: 0px; box-sizing: border-box; display: block; margin-left: 16px; margin-right: 16px; margin-bottom: 20px; line-height: 1.75em;">假如有 56 份卷子，找一次，还剩 28 份，再找一次，还剩 14 份，再找一次，还剩 7 份，再找一次，还剩 2 或者 3 份。如果是 2 份，再找一次，就只剩下 1 份了；如果是 3 份，就还需要再找 2 次。</p>
<p style="font-size: inherit; color: inherit; margin: 0px; padding: 0px; box-sizing: border-box; display: block; margin-left: 16px; margin-right: 16px; margin-bottom: 20px; line-height: 1.75em;">我们知道，log<sub>2</sub>(32) = 5，log<sub>2</sub>(64) = 6，而 56 就介于 32 和 64 之间。也就是说，二分查找大约需要 log<sub>2</sub>(n) 次才能“找到”或者“没找到”。而在算法复杂度里，经常忽略常数，所以不管是以 2 为底数，还是 3 为底数，统一写成 log(n) 的形式。</p>
<p style="font-size: inherit; color: inherit; margin: 0px; padding: 0px; box-sizing: border-box; display: block; margin-left: 16px; margin-right: 16px; margin-bottom: 20px; line-height: 1.75em;">再来说说 <code style="line-height: inherit; overflow-wrap: break-word; word-break: break-all; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: rgb(248, 35, 117); background: rgb(248, 248, 248); font-size: 14px;">O(1)</code>，比较典型的例子就是哈希表（HashSet 是由 HashMap 实现的）。哈希表是通过哈希函数来映射的，所以拿到一个关键字，通过哈希函数转换一下，就可以直接从表中取出对应的值——一次直达。</p>
<hr style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; height: 1px; margin: 1.5rem 0px; border-right: none; border-bottom: none; border-left: none; border-image: initial; border-top: 1px dashed rgb(165, 165, 165);">
<p style="font-size: inherit; color: inherit; margin: 0px; padding: 0px; box-sizing: border-box; display: block; margin-left: 16px; margin-right: 16px; margin-bottom: 20px; line-height: 1.75em;">好了各位读者朋友们，以上就是本文的全部内容了。<strong style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; font-weight: bold; color: rgb(233, 105, 0);">能看到这里的都是人才，二哥必须要为你点个赞</strong>👍。如果觉得不过瘾，还想看到更多，我再给大家推荐几篇。</p>
<p style="font-size: inherit; color: inherit; margin: 0px; padding: 0px; box-sizing: border-box; display: block; margin-left: 16px; margin-right: 16px; margin-bottom: 20px; line-height: 1.75em;"><a href="https://mp.weixin.qq.com/s/rLakWBPuWqYG8QT6ACetGQ" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; text-decoration: none; color: rgb(30, 107, 184); overflow-wrap: break-word;">灵魂拷问：Java 的 substring() 是如何工作的？</a><br><a href="https://mp.weixin.qq.com/s/CRQrm5zGpqWxYL_ztk-b2Q" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; text-decoration: none; color: rgb(30, 107, 184); overflow-wrap: break-word;">灵魂拷问：为什么 Java 字符串是不可变的？</a><br><a href="http://www.itwanger.com/java/2019/11/28/java-string-shuangyinhao-gouzaohanshu.html" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; text-decoration: none; color: rgb(30, 107, 184); overflow-wrap: break-word;">灵魂拷问：创建 Java 字符串，用""还是构造函数</a></p>
<p style="font-size: inherit; color: inherit; margin: 0px; padding: 0px; box-sizing: border-box; display: block; margin-left: 16px; margin-right: 16px; margin-bottom: 20px; line-height: 1.75em;">如果你有什么问题需要我的帮助，或者想喷我了，欢迎留言哟。</p>
<p style="font-size: inherit; color: inherit; margin: 0px; padding: 0px; box-sizing: border-box; display: block; margin-left: 16px; margin-right: 16px; margin-bottom: 20px; line-height: 1.75em;">养成好习惯！如果觉得这篇文章有点用的话，<strong style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; font-weight: bold; color: rgb(233, 105, 0);">求点赞、求关注、求分享、求留言</strong>，这将是我写下去的最强动力！如果大家想要第一时间看到二哥更新的文章，可以扫描下方的二维码，关注我的公众号，回复「java」再送你一份精选电子书大礼包，包含这 10 年来我读过的最优质的 Java 书籍。我们下篇文章见！</p>
<figure><img src="./images/灵魂拷问：如何检查Java数组中是否包含某个值 ？0.png" alt="" title="" style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; display: block; margin: 0px auto 20px; max-width: 100%; box-shadow: rgb(170, 170, 170) 0em 0em 1em 0px;"><figcaption style="line-height: inherit; margin: 0px; padding: 0px; margin-top: 10px; text-align: center; color: rgb(153, 153, 153); font-size: 0.7em;"></figcaption></figure></div>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>