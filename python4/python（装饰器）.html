<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修python（装饰器）' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>python（装饰器）</center></div><div class='banquan'>原文出处:本文由博客园博主年过二十梦方醒提供。<br/>
原文连接:https://www.cnblogs.com/planBinary/p/11728539.html</div><br>
    <p>要了解装饰器，先要了解以下几点</p>
<p>1.函数等价于变量</p>
<p>函数在内存中的存储和变量是类似的</p>
<p><img src="./images/python（装饰器）0.png" alt="" width="601" height="252" /></p>
<p>hello就相当于一个变量，起始地址是 &ldquo;0x000002578215C1E0&rdquo;，从这个地址开始后面的一段内存空间，存放hello这个函数的内容</p>
<p>&nbsp;2.高阶函数</p>
<p>一个函数可以被当作是另一个函数的参数传入，返回值也可以是一个函数</p>
<p><img src="./images/python（装饰器）1.png" alt="" width="603" height="270" /></p>
<p>&nbsp;3.函数嵌套</p>
<p>&nbsp;形如：</p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">def</span><span style="color: #000000;"> func1():
    </span><span style="color: #0000ff;">def</span><span style="color: #000000;"> func2():
        </span><span style="color: #0000ff;">pass</span></pre>
</div>
<p>装饰器：</p>
<p>　　装饰器应该满足：</p>
<p>　　1.不改变被装饰函数的源代码</p>
<p>　　2.不改变原函数的调用方式</p>
<p>　　3.为原来的函数添加新的功能</p>
<p>example：</p>
<p><img src="./images/python（装饰器）2.png" alt="" width="853" height="516" /></p>
<p>&nbsp;</p>
<p>&nbsp;如果没有装饰器，函数调用结果应该为 hello ，加上装饰器后函数的调用结果变了，但是调用函数的方式以及函数的源代码都为发生改变。</p>
<p>@deco 这句话等价于 hello = deco（hello） hello被作为参数传给了deco参数，并且把hello的地址给了func，而返回值又将add_name函数的地址给了 hello ，所以调用 hello()</p>
<p>其实执行的是add_name函数的内容，add_name执行到 func()语句时，会去执行原来的 hello 函数的内容，因为一开始hello就把地址给了func。有点混乱，画个图吧！</p>
<p><img src="./images/python（装饰器）3.png" alt="" /></p>
<p>&nbsp;</p>
<p>&nbsp;简单来说装饰器其实就是一个函数，而这个函数会在内部嵌套一层或多层函数，内层嵌套的函数会再调用原来的函数基础上加上一些新的功能。</p>
<p>这个装饰器装饰的函数是没有参数的，下面看看有参数的函数的装饰器</p>
<p>example：</p>
<p><img src="./images/python（装饰器）4.png" alt="" /></p>
<p>&nbsp;</p>
<p>虽然实现了装饰器的功能但是，原来的 hello 被handsome给覆盖了，这让人有点不舒服，可能时强迫症吧</p>
<p>可以用 wraps 来装饰内层函数来解决这个问题</p>
<p><img src="./images/python（装饰器）5.png" alt="" width="976" height="664" /></p>
<p>&nbsp;wraps <span style="font-size: 14px;">的作用时保留原来函数</span>的属性。</p>
<p>&nbsp;</p>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>