<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修数据分析相关概念(numpy)' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>数据分析相关概念(numpy)</center></div><div class='banquan'>原文出处:本文由博客园博主AloneDKN提供。<br/>
原文连接:https://www.cnblogs.com/AloneDKN/p/11459190.html</div><br>
    <p>矢量</p>
<p>矢量是指一堆形成的集合。</p>
<p>多维数组也叫做矢量化计算。</p>
<p>单独一个数叫做标量</p>
<p>例：</p>
<div class="cnblogs_code" onclick="cnblogs_code_show('2a9681e6-a5d9-4f42-9294-58554b4ee505')"><img id="code_img_closed_2a9681e6-a5d9-4f42-9294-58554b4ee505" class="code_img_closed" src="./images/数据分析相关概念(numpy)0.png" alt="" /><img id="code_img_opened_2a9681e6-a5d9-4f42-9294-58554b4ee505" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('2a9681e6-a5d9-4f42-9294-58554b4ee505',event)" src="./images/数据分析相关概念(numpy)1.png" alt="" />
<div id="cnblogs_code_open_2a9681e6-a5d9-4f42-9294-58554b4ee505" class="cnblogs_code_hide">
<pre><code><span style="color: #008080;"> 1</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> datetime as dt
</span><span style="color: #008080;"> 2</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> numpy as np
</span><span style="color: #008080;"> 3</span> 
<span style="color: #008080;"> 4</span> n2=10000
<span style="color: #008080;"> 5</span> start2 =<span style="color: #000000;">dt.datetime.now()
</span><span style="color: #008080;"> 6</span> A,B =<span style="color: #000000;"> [],[]
</span><span style="color: #008080;"> 7</span> 
<span style="color: #008080;"> 8</span> <span style="color: #0000ff;">for</span> i <span style="color: #0000ff;">in</span><span style="color: #000000;"> range(n2):
</span><span style="color: #008080;"> 9</span>     A.append(i**2<span style="color: #000000;">)
</span><span style="color: #008080;">10</span>     B.append(i**3<span style="color: #000000;">)
</span><span style="color: #008080;">11</span> 
<span style="color: #008080;">12</span> C=<span style="color: #000000;">[]
</span><span style="color: #008080;">13</span> 
<span style="color: #008080;">14</span> <span style="color: #0000ff;">for</span> a,b <span style="color: #0000ff;">in</span> zip(A,B):    <span style="color: #008000;">#</span><span style="color: #008000;">zip()函数用于将可迭代的对象作为参数，将对象中的对应元素打包成一个元组，返回这些元组组成的列表</span>
<span style="color: #008080;">15</span>     C.append(a+<span style="color: #000000;">b)
</span><span style="color: #008080;">16</span> 
<span style="color: #008080;">17</span> <span style="color: #0000ff;">print</span>((dt.datetime.now()-<span style="color: #000000;">start2).microseconds)
</span><span style="color: #008080;">18</span> 
<span style="color: #008080;">19</span> n=100000
<span style="color: #008080;">20</span> start =<span style="color: #000000;"> dt.datetime.now()
</span><span style="color: #008080;">21</span> 
<span style="color: #008080;">22</span> C=np.arange(n)**2 + np.arange(n)**3
<span style="color: #008080;">23</span> <span style="color: #0000ff;">print</span><span style="color: #000000;">(C)
</span><span style="color: #008080;">24</span> <span style="color: #0000ff;">print</span>((dt.datetime.now()-<span style="color: #000000;">start).microseconds)
</span><span style="color: #008080;">25</span> 
<span style="color: #008080;">26</span> <span style="color: #800000;">'''</span>
<span style="color: #008080;">27</span> <span style="color: #800000;">1.arange和python里range非常的相似
</span><span style="color: #008080;">28</span> <span style="color: #800000;">2.arange产生的也是一个连续的序列。序列的类型不再是列表，是数组array。
</span><span style="color: #008080;">29</span> <span style="color: #800000;">3.两数组可直接相加。
</span><span style="color: #008080;">30</span> <span style="color: #800000;">4.numpy内部完成循环。
</span><span style="color: #008080;">31</span> 
<span style="color: #008080;">32</span> <span style="color: #800000;">'''</span></pre>
</div>
<span class="cnblogs_code_collapse">View Code</span></div>
<p>多维数组</p>
<p>1.Numpy对多维数组的定义：</p>
<p>　　用numpy.ndarray类。（n代表n个数，d代表dimision维度）。</p>
<p>　　Ndarray本身是一个类，由这个类实例化出来的对象，就是多维数组。</p>
<p>　　多维数组也是一个对象。</p>
<p>2.创建多维数组对象的方法：</p>
<p>　　 1）numpy.arange(起始，终止，步长)</p>
<p>　　　　它是通过numpy来访问。是一个numpy里的函数。</p>
<p>　　　　它返回的数组是一个等差列的一维数组。</p>
<p>　　 2）numpy.array()</p>
<p>　　　　这个array不是类。是一个numpy里函数。</p>
<p>　　　　在numpy.array()函数，括号里可以输入任何可被解释程数组的容器。（列表和元组。）</p>
<p>　　　　例：</p>
<div class="cnblogs_code" onclick="cnblogs_code_show('53bf3d48-6617-4e21-ab61-305164f868f6')"><img id="code_img_closed_53bf3d48-6617-4e21-ab61-305164f868f6" class="code_img_closed" src="./images/数据分析相关概念(numpy)0.png" alt="" /><img id="code_img_opened_53bf3d48-6617-4e21-ab61-305164f868f6" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('53bf3d48-6617-4e21-ab61-305164f868f6',event)" src="./images/数据分析相关概念(numpy)1.png" alt="" />
<div id="cnblogs_code_open_53bf3d48-6617-4e21-ab61-305164f868f6" class="cnblogs_code_hide">
<pre><code><span style="color: #008080;"> 1</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> numpy as np
</span><span style="color: #008080;"> 2</span> <span style="color: #0000ff;">from</span> numpy <span style="color: #0000ff;">import</span><span style="color: #000000;"> pi
</span><span style="color: #008080;"> 3</span> 
<span style="color: #008080;"> 4</span> a = np.array([[1,1<span style="color: #000000;">],
</span><span style="color: #008080;"> 5</span>              [0,1<span style="color: #000000;">]])
</span><span style="color: #008080;"> 6</span> 
<span style="color: #008080;"> 7</span> b = np.array([[2<span style="color: #000000;">,0],
</span><span style="color: #008080;"> 8</span>             [3,4<span style="color: #000000;">]])
</span><span style="color: #008080;"> 9</span> 
<span style="color: #008080;">10</span> c = a *<span style="color: #000000;"> b
</span><span style="color: #008080;">11</span> <span style="color: #0000ff;">print</span><span style="color: #000000;">(c)
</span><span style="color: #008080;">12</span> 
<span style="color: #008080;">13</span> <span style="color: #008000;">#</span><span style="color: #008000;">矩阵成集</span>
<span style="color: #008080;">14</span> c=<span style="color: #000000;"> a @ b
</span><span style="color: #008080;">15</span> <span style="color: #0000ff;">print</span><span style="color: #000000;">(c)
</span><span style="color: #008080;">16</span> 
<span style="color: #008080;">17</span> 
<span style="color: #008080;">18</span> <span style="color: #0000ff;">print</span><span style="color: #000000;">(a.dot(b))
</span><span style="color: #008080;">19</span> 
<span style="color: #008080;">20</span> 
<span style="color: #008080;">21</span> a1 = np.ones((2,3),dtype=<span style="color: #000000;">int)
</span><span style="color: #008080;">22</span> b1=np.random.random((2,3<span style="color: #000000;">))
</span><span style="color: #008080;">23</span> a1*=3
<span style="color: #008080;">24</span> <span style="color: #0000ff;">print</span><span style="color: #000000;">(a1)
</span><span style="color: #008080;">25</span> <span style="color: #0000ff;">print</span><span style="color: #000000;">(b1)
</span><span style="color: #008080;">26</span> 
<span style="color: #008080;">27</span> 
<span style="color: #008080;">28</span> a2=np.ones(3,dtype=<span style="color: #000000;">np.int32)
</span><span style="color: #008080;">29</span> b2=np.linspace(0,pi,3<span style="color: #000000;">)
</span><span style="color: #008080;">30</span> <span style="color: #000000;">b2.dtype.name
</span><span style="color: #008080;">31</span> <span style="color: #0000ff;">print</span><span style="color: #000000;">(b2.dtype)
</span><span style="color: #008080;">32</span> c2=a+<span style="color: #000000;">b
</span><span style="color: #008080;">33</span> <span style="color: #0000ff;">print</span><span style="color: #000000;">(c2)
</span><span style="color: #008080;">34</span> <span style="color: #000000;">c2.dtype.name
</span><span style="color: #008080;">35</span> d=np.exp(c2*1j<span style="color: #000000;">)
</span><span style="color: #008080;">36</span> <span style="color: #0000ff;">print</span><span style="color: #000000;">(d)
</span><span style="color: #008080;">37</span> <span style="color: #000000;">d.dtype.name
</span><span style="color: #008080;">38</span> 
<span style="color: #008080;">39</span> 
<span style="color: #008080;">40</span> e1=1
<span style="color: #008080;">41</span> e2=2
<span style="color: #008080;">42</span> <span style="color: #0000ff;">print</span><span style="color: #000000;">(np.exp(e1))
</span><span style="color: #008080;">43</span> <span style="color: #0000ff;">print</span><span style="color: #000000;">(np.exp(e2))
</span><span style="color: #008080;">44</span> 
<span style="color: #008080;">45</span> 
<span style="color: #008080;">46</span> a4 = np.random.random((2,3<span style="color: #000000;">))
</span><span style="color: #008080;">47</span> 
<span style="color: #008080;">48</span> <span style="color: #0000ff;">print</span><span style="color: #000000;">(a4)
</span><span style="color: #008080;">49</span> <span style="color: #0000ff;">print</span><span style="color: #000000;">(a4.sum())
</span><span style="color: #008080;">50</span> <span style="color: #0000ff;">print</span><span style="color: #000000;">(a4.min())
</span><span style="color: #008080;">51</span> <span style="color: #0000ff;">print</span><span style="color: #000000;">(a4.max())
</span><span style="color: #008080;">52</span> 
<span style="color: #008080;">53</span> 
<span style="color: #008080;">54</span> z =np.arange(12).reshape(3,4<span style="color: #000000;">)
</span><span style="color: #008080;">55</span> <span style="color: #0000ff;">print</span><span style="color: #000000;">(z)
</span><span style="color: #008080;">56</span> <span style="color: #0000ff;">print</span>(z.sum(axis=0))    <span style="color: #008000;">#</span><span style="color: #008000;"> 列的总和,0代表列</span>
<span style="color: #008080;">57</span> <span style="color: #0000ff;">print</span>(z.min(axis=1))    <span style="color: #008000;">#</span><span style="color: #008000;"> 行的总和，1代表行</span>
<span style="color: #008080;">58</span> <span style="color: #0000ff;">print</span>(z.cumsum(axis=1))     <span style="color: #008000;">#</span><span style="color: #008000;">cumsum是指定行或者列，前数与现在的数字累加</span></pre>
</div>
<span class="cnblogs_code_collapse">View Code</span></div>
<p>&nbsp;</p>
<p>　　获取数组元素类型的方法：</p>
<p>　　　　　　1：type([0][0]) =&gt;python取类型的方法 方法</p>
<p>　　　　　　2：f.dtype =&gt;numpy的方法 &ldquo;int32&rdquo;,代表4个字节的整型数。</p>
<p>　　为什么是int32？</p>
<p>　　　　原有是，在定义时未指定具体类型。而现在使用4个字节整形正好能保存f的数据，所以default缺省值就是4个字节。</p>
<p>　　3）查询结果的意义：</p>
<p>　　　　&ldquo;&lt;U1&rdquo;的意义（输入字符串，用.dtype查询时）：</p>
<p>　　　　　　1.Unicode每个编码占4个字节。有高低之分。分为小端序和大端序。</p>
<p>　　　　　　2.&ldquo;U&rdquo;代表是unicode编码。</p>
<p>　　　　　　3.&ldquo;&lt;&rdquo;表示小端字节序。</p>
<p>　　　　　　4.&ldquo;1&rdquo;代表每个字符串里只有一个字符</p>
<p>　　　　&ldquo;numpy.str&rdquo;的含义（使用type(g[0] 查询时)）：</p>
<p>　　　　　　1.&ldquo;str&rdquo;代表字符串。</p>
<p>　　　　　　2.&ldquo; &rdquo;和python作区分而加成的。</p>
<p>　　4）手动值定类型的写法： G=np.array(['1','2','3'].dtype=np.int32)</p>
<p>　　　　1.值要设置手动指定类型，它的数据类型就做自动转换了。虽然值是是字符串，但是我们给了指定目标类型是整形</p>
<p>　　　　2.场景：如果觉得还是字符串式好，还能用astype改回。</p>
<p>所有和类型转换有关的其实都不是类型转换，都是复制，都是按新类型在你复制一份，但是对于源是不变的 dtype是属性，取元素的类型。</p>
<p>　　　　3.关于维度的属性： shape属性的值是一个元组类型，一个元组内包含多个元素。分别是从高到低类表示他每一个维度的数。</p>
<p>　　思考：一个二位数组有行和列，行高还是列高？</p>
<p>　　　　如果有页 行 列</p>
<p>　　　　　页：最高维度</p>
<p>　　　　　行：次之</p>
<p>　　　　　列：最低</p>
<p>　　　　4.areange和array都可以创建数组，有时候可以混用。</p>
<p>　　　　　用shape属性可以看到维度。</p>
<p>　　　　　Numpy中多用二维数组，三维很少用。</p>
<p>　　　　5.元素索引</p>
<p>　　　　　　元素索引是从0开始</p>
<p>　　　　　　　　数组[索引]</p>
<p>　　　　　　　　数组[行索引][列索引]</p>
<p>　　　　　　　　数组[页索引][行索引][列索引]或者[页索引，行索引，列索引]</p>
<p>&nbsp;</p>
<p>Numpy的内置类型和自定义类型：</p>
<p>　　　　 1.内置类型：</p>
<p>　　　　　　优点： 可显示占内存多少，可灵活变化</p>
<p>　　　　　　缺点： 因为具有灵活可变性，性能方面做出牺牲。（因需要留出足够多空间）。</p>
<p>　　　　　　　　　无法使用固定内存地址的计算方法；</p>
<p>　　　　　　　　　它只能用动态来完成，有关地址运算就要占用运用时间。　</p>
<p>　　　　　　注：在numpy里为每一种类型都提供了固定的大小，所以有关地址运算完全可以通过类型来确定。Numpy自己定义一套属于自己的数据类型体系。它的数据类型有固定长度。字节数都是固定的。</p>
<p>　　　　　　 举例： 　</p>
<p>　　　　　　　　　　Numpy.bool　　 一个布尔占一个字节</p>
<p>　　　　　　　　　　有符号版本：</p>
<p>　　　　　　　　　　　　　　　　Int8 1字节有符号类型</p>
<p>　　　　　　　　　　　　　　　　Int16 2字节有符号类型</p>
<p>　　　　　　　　　　　　　　　　Int32 4字节有符号类型</p>
<p>　　　　　　　　　　无符号版本（只有正整，没有负数）：</p>
<p>　　　　　　　　　　　　　　　　&nbsp;Uint8 1字节有符号类型</p>
<p>　　　　　　　　　　　　　　　　Uint16 2字节有符号类型</p>
<p>　　　　　　　　　　　　　　　　Uint32 4字节有符号类型</p>
<p>　　　　　　　　　　 浮点类型：</p>
<p>　　　　　　　　　　　　　　　　Float16 2字节浮点型</p>
<p>　　　　　　　　　　　　　　　　Float32 4字节浮点型</p>
<p>　　　　　　　　　　　　　　　　Float64 8字节浮点型</p>
<p>　　　　　　　　　　复数类型：（实部和虚部都用2个4字节浮点型表示）</p>
<p>　　　　　　　　　　　　　　　　Complex64 8字节复数型</p>
<p>　　　　　　　　　　　　　　　　Complex128 16字节复数型</p>
<p>　　　　　　　　　　注：1复数=2个浮点型的组合</p>
<p>　　　　　　　　　　字符串类型： Str</p>
<p>　　　　　　　　　　　　　　　　字符串型没有规定多少字节，因为字符串型取决于字符串unicode有多长。</p>
<p>　　　　　　　　　　　　　　　　字符串型的长度根据字符串所包含的字符串来决定，有多少字符，就有多少个字节。</p>
<p>　　　　　　　　　　&nbsp;注：lunicode=4个字节 可以用dtype和astype来设置类型转换</p>
<p>　　　　2自定义类型：</p>
<p>　　　　　　　　 1.直接使用内置类型的原始名</p>
<p>　　　　　　　　 2.使用紧凑类型格式（类型编码字符串）</p>
<p>　　　　　　　　　　简化操作：（可以更少的字符串表示）</p>
<p>　　　　　　　　　　　　　　全称 　　　　　　简化格式</p>
<p>　　　　　　　　　　　　　　Numpy.int8　　　　 i1</p>
<p>　　　　　　　　　　　　　　Int16　　　&nbsp; 　　　&nbsp;&nbsp;i2　　　　</p>
<p>　　　　　　　　　　　　　　Uint32&nbsp; &nbsp; 　　　　　 u4</p>
<p>　　　　　　　　　　　　　　Float64 　　　&nbsp; &nbsp;&nbsp; &nbsp;　f8</p>
<p>　　　　　　　　　　　　　　Complex128　　 　&nbsp;&nbsp;c16</p>
<p>　　　　　　　　3多字节的整数存在大小端序</p>
<p>　　　　　　　　　　　对于多字节整数可以加上字节序前缀 前缀类型：（位数越低，地址越低）</p>
<p>　　　　　　 &ldquo;　　　　　　　　&rdquo;&lt;&rdquo;，小端字节序，低数位低地址低。</p>
<p>　　　　　　　　　　　　　　 &ldquo;=&rdquo;，系统默认，不能人为指定。由系统决定。</p>
<p>　　　　　　　　　　　　　　 &ldquo;&gt;&rdquo;，大端字节序，低数位高地址。</p>
<p>　　　　　　　　　　　&nbsp;例子：</p>
<p>　　　　　　　　　　　　　　十六进制：0x1234</p>
<p>　　　　　　　　　　　小端字节序：</p>
<p>　　　　　　　　　　　　　　L 　　　　H</p>
<p>　　　　　　　　　　　　　　0x12 　　0x34</p>
<p>　　　　　　　　　　　大端字节序：</p>
<p>　　　　　　　　　　　　　　L 　　　　H</p>
<p>　　　　　　　　　　　　　　0x34　　 0x12</p>
<p>　　　　　　　　　　　注：有时为了防止某个代码功能在不同处理器上取移植带来的一些兼容性问题。所以强制加上&ldquo;&lt;&rdquo;或&ldquo;&gt;&rdquo;</p>
<p>　　　　　　　　4.关于字节序：</p>
<p>　　　　　　　　　　　不需添加字节序的数据类型：</p>
<p>　　　　　　　　　　　　　单字节整数</p>
<p>　　　　　　　　　　　　　布尔值</p>
<p>　　　　　　　　　　　　　复数类型</p>
<p>　　　　　　　　　　　　　浮点型</p>
<p>　　　　　　　　　　　其他情况：</p>
<p>　　　　　　　　　　　　　Numpy.str 　=&gt;U+字符数</p>
<p>　　　　　　　　　　　　　Unicode 本身就是多字节整正</p>
<p>　　　　　　　　　　　　　一个unicode可看作一个uint32，它也存在大小端字节序</p>
<p>　　　　　　　　　　　　　Numpy.bool&nbsp; =&gt;b</p>
<p>　　　　　　　　　　　注：numpy提供的是python的封装，用自定义类型方法可以完成一个元素不同类型的访问；</p>
<p>　　　　　　　　　　　　　或者一个元素用不同类型类组合，弥补了numpy数组元素同质的情况。</p>
<p>&nbsp;</p>
<p>&nbsp;切片</p>
<p>　　与python相似</p>
<p>　　数组[起始：终止：步长]</p>
<p>　　可以针对多维数组来切片</p>
<p>　　缺省起始：首元素（步长为正），尾元素（步长为负）-&gt;逆向</p>
<p>　　缺省终止：尾后（步长为正），首前（步长为负）</p>
<p>　　缺省步长：一个或者一个以上缺省值切片。</p>
<p>　　　　　　　　a[...]连续或者几个连续的维度使用缺省切片，用&lsquo;...&rsquo;表示</p>
<p>　　例：</p>
<div class="cnblogs_code" onclick="cnblogs_code_show('68746f25-12b4-446d-9236-d342169562e1')"><img id="code_img_closed_68746f25-12b4-446d-9236-d342169562e1" class="code_img_closed" src="./images/数据分析相关概念(numpy)0.png" alt="" /><img id="code_img_opened_68746f25-12b4-446d-9236-d342169562e1" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('68746f25-12b4-446d-9236-d342169562e1',event)" src="./images/数据分析相关概念(numpy)1.png" alt="" />
<div id="cnblogs_code_open_68746f25-12b4-446d-9236-d342169562e1" class="cnblogs_code_hide">
<pre><code><span style="color: #008080;"> 1</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> numpy as np
</span><span style="color: #008080;"> 2</span> 
<span style="color: #008080;"> 3</span> a = np.arange(1,10<span style="color: #000000;">)
</span><span style="color: #008080;"> 4</span> <span style="color: #0000ff;">print</span><span style="color: #000000;">(a)
</span><span style="color: #008080;"> 5</span> 
<span style="color: #008080;"> 6</span> <span style="color: #0000ff;">print</span>(a[:3<span style="color: #000000;">])
</span><span style="color: #008080;"> 7</span> <span style="color: #0000ff;">print</span>(a[3:6<span style="color: #000000;">])
</span><span style="color: #008080;"> 8</span> <span style="color: #0000ff;">print</span>(a[6<span style="color: #000000;">:])
</span><span style="color: #008080;"> 9</span> <span style="color: #0000ff;">print</span>(a[::-1<span style="color: #000000;">])
</span><span style="color: #008080;">10</span> 
<span style="color: #008080;">11</span> 
<span style="color: #008080;">12</span> <span style="color: #0000ff;">print</span>(a[:-4:-1<span style="color: #000000;">])
</span><span style="color: #008080;">13</span> <span style="color: #0000ff;">print</span>(a[4:7:1<span style="color: #000000;">])
</span><span style="color: #008080;">14</span> <span style="color: #0000ff;">print</span>(a[-7::-1<span style="color: #000000;">])
</span><span style="color: #008080;">15</span> <span style="color: #0000ff;">print</span><span style="color: #000000;">(a[::])
</span><span style="color: #008080;">16</span> <span style="color: #0000ff;">print</span><span style="color: #000000;">(a[...])
</span><span style="color: #008080;">17</span> <span style="color: #0000ff;">print</span><span style="color: #000000;">(a[:])
</span><span style="color: #008080;">18</span> <span style="color: #008000;">#</span><span style="color: #008000;"> print(a[])        #行不通 error</span>
<span style="color: #008080;">19</span> <span style="color: #0000ff;">print</span>(a[::3<span style="color: #000000;">])
</span><span style="color: #008080;">20</span> <span style="color: #0000ff;">print</span>(a[1::3<span style="color: #000000;">])
</span><span style="color: #008080;">21</span> <span style="color: #0000ff;">print</span>(a[2::3<span style="color: #000000;">])
</span><span style="color: #008080;">22</span> 
<span style="color: #008080;">23</span> 
<span style="color: #008080;">24</span> 
<span style="color: #008080;">25</span> b=np.arange(1,25).reshape(2,3,4<span style="color: #000000;">)
</span><span style="color: #008080;">26</span> <span style="color: #0000ff;">print</span><span style="color: #000000;">(b)
</span><span style="color: #008080;">27</span> <span style="color: #0000ff;">print</span>(<span style="color: #800000;">"</span><span style="color: #800000;">=</span><span style="color: #800000;">"</span>*120<span style="color: #000000;">)
</span><span style="color: #008080;">28</span> <span style="color: #0000ff;">print</span><span style="color: #000000;">(b[:,0,0])
</span><span style="color: #008080;">29</span> <span style="color: #0000ff;">print</span><span style="color: #000000;">(b[0,:,:])
</span><span style="color: #008080;">30</span> <span style="color: #0000ff;">print</span><span style="color: #000000;">(b[0,...])
</span><span style="color: #008080;">31</span> <span style="color: #0000ff;">print</span>(b[0,1,::2<span style="color: #000000;">])
</span><span style="color: #008080;">32</span> <span style="color: #0000ff;">print</span>(b[:,1:,1<span style="color: #000000;">])
</span><span style="color: #008080;">33</span> <span style="color: #0000ff;">print</span>(b[1,1,1<span style="color: #000000;">])
</span><span style="color: #008080;">34</span> <span style="color: #0000ff;">print</span>(b[1,1::2,1])</pre>
</div>
<span class="cnblogs_code_collapse">View Code</span></div>
<p>&nbsp;</p>
<p>改变维度</p>
<p>　　分为四种方式：</p>
<p>　　　　1）视图变维</p>
<p>　　　　　　　针对一个数组对象获取不同维度的视图</p>
<p>　　　　　　　方法：数组.reshape(新维度) -&gt;数组新维度视图</p>
<p>　　　　　　　　　　数组.ravel() -&gt;数组的一维视图</p>
<p>　　　　2）复制变维（不同维度的拷贝）</p>
<p>　　　　　　　针对一个数组对象获取其不同维度的副本。</p>
<p>　　　　　　　方法：flatten() -&gt;数组的一维副本。</p>
<p>　　　　　　　功能：在获得原数据实例的同时获得了拷贝，也就是副本。</p>
<p>　　　　3）就地变维</p>
<p>　　　　　　　数组.shape=(新维度)</p>
<p>　　　　　　　　　　等价于</p>
<p>　　　　　　　数组.resize(新维度)</p>
<p>　　　　4）视图转置（线性代数的概念）</p>
<p>&nbsp;　　　　　　　可理解为行列互换</p>
<p>　　　　　　　数组.transpose() -&gt;数组的转置视图</p>
<p>　　　　　　　　　　等价于</p>
<p>　　　　　　　数组.T&nbsp; -&gt;转置视图属性</p>
<p>　　　　　　　一般用数组.T的方式</p>
<p>　　　　　　　注：转置必须是二维的</p>
<p>　　　　　例：</p>
<div class="cnblogs_code" onclick="cnblogs_code_show('62e85f41-0c7d-43fb-8dab-20ea8057c240')"><img id="code_img_closed_62e85f41-0c7d-43fb-8dab-20ea8057c240" class="code_img_closed" src="./images/数据分析相关概念(numpy)0.png" alt="" /><img id="code_img_opened_62e85f41-0c7d-43fb-8dab-20ea8057c240" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('62e85f41-0c7d-43fb-8dab-20ea8057c240',event)" src="./images/数据分析相关概念(numpy)1.png" alt="" />
<div id="cnblogs_code_open_62e85f41-0c7d-43fb-8dab-20ea8057c240" class="cnblogs_code_hide">
<pre><code><span style="color: #008080;"> 1</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> numpy as np
</span><span style="color: #008080;"> 2</span> 
<span style="color: #008080;"> 3</span> a = np.arange(1,9<span style="color: #000000;">)
</span><span style="color: #008080;"> 4</span> <span style="color: #0000ff;">print</span><span style="color: #000000;">(a)
</span><span style="color: #008080;"> 5</span> 
<span style="color: #008080;"> 6</span> <span style="color: #0000ff;">print</span>(<span style="color: #800000;">"</span><span style="color: #800000;">=</span><span style="color: #800000;">"</span> *120<span style="color: #000000;">)
</span><span style="color: #008080;"> 7</span> b=a.reshape(2,4<span style="color: #000000;">)
</span><span style="color: #008080;"> 8</span> 
<span style="color: #008080;"> 9</span> <span style="color: #0000ff;">print</span><span style="color: #000000;">(b)
</span><span style="color: #008080;">10</span> 
<span style="color: #008080;">11</span> c= b.reshape(2,2,2<span style="color: #000000;">)
</span><span style="color: #008080;">12</span> <span style="color: #0000ff;">print</span><span style="color: #000000;">(c)
</span><span style="color: #008080;">13</span> 
<span style="color: #008080;">14</span> d =<span style="color: #000000;"> c.ravel()
</span><span style="color: #008080;">15</span> <span style="color: #0000ff;">print</span><span style="color: #000000;">(d)
</span><span style="color: #008080;">16</span> <span style="color: #0000ff;">print</span>(<span style="color: #800000;">"</span><span style="color: #800000;">_</span><span style="color: #800000;">"</span>*120<span style="color: #000000;">)
</span><span style="color: #008080;">17</span> e=<span style="color: #000000;"> c.flatten()
</span><span style="color: #008080;">18</span> <span style="color: #0000ff;">print</span><span style="color: #000000;">(e)
</span><span style="color: #008080;">19</span> 
<span style="color: #008080;">20</span> 
<span style="color: #008080;">21</span> <span style="color: #0000ff;">print</span>(<span style="color: #800000;">"</span><span style="color: #800000;">_</span><span style="color: #800000;">"</span>*120<span style="color: #000000;">)
</span><span style="color: #008080;">22</span> f=b.reshape(2,2,2<span style="color: #000000;">).copy()
</span><span style="color: #008080;">23</span> <span style="color: #0000ff;">print</span><span style="color: #000000;">(f)
</span><span style="color: #008080;">24</span> 
<span style="color: #008080;">25</span> 
<span style="color: #008080;">26</span> 
<span style="color: #008080;">27</span> <span style="color: #0000ff;">print</span>(<span style="color: #800000;">"</span><span style="color: #800000;">+</span><span style="color: #800000;">"</span>*120<span style="color: #000000;">)
</span><span style="color: #008080;">28</span> a+=10
<span style="color: #008080;">29</span> <span style="color: #0000ff;">print</span>(a,b,c,d,e,f,sep=<span style="color: #800000;">"</span><span style="color: #800000;">\n</span><span style="color: #800000;">"</span><span style="color: #000000;">)
</span><span style="color: #008080;">30</span> <span style="color: #0000ff;">print</span>(<span style="color: #800000;">"</span><span style="color: #800000;">+</span><span style="color: #800000;">"</span>*120<span style="color: #000000;">)
</span><span style="color: #008080;">31</span> a.shape=(2,2,2<span style="color: #000000;">)
</span><span style="color: #008080;">32</span> <span style="color: #0000ff;">print</span><span style="color: #000000;">(a)
</span><span style="color: #008080;">33</span> 
<span style="color: #008080;">34</span> a.resize(2,4<span style="color: #000000;">)
</span><span style="color: #008080;">35</span> <span style="color: #0000ff;">print</span><span style="color: #000000;">(a)
</span><span style="color: #008080;">36</span> 
<span style="color: #008080;">37</span> 
<span style="color: #008080;">38</span> 
<span style="color: #008080;">39</span> 
<span style="color: #008080;">40</span> <span style="color: #0000ff;">print</span>(<span style="color: #800000;">"</span><span style="color: #800000;">W</span><span style="color: #800000;">"</span>*120<span style="color: #000000;">)
</span><span style="color: #008080;">41</span> g=<span style="color: #000000;">a.transpose()
</span><span style="color: #008080;">42</span> <span style="color: #0000ff;">print</span><span style="color: #000000;">(g)
</span><span style="color: #008080;">43</span> 
<span style="color: #008080;">44</span> <span style="color: #0000ff;">print</span>(<span style="color: #800000;">"</span><span style="color: #800000;">D</span><span style="color: #800000;">"</span>*123<span style="color: #000000;">)
</span><span style="color: #008080;">45</span> g=<span style="color: #000000;">a.T
</span><span style="color: #008080;">46</span> <span style="color: #0000ff;">print</span><span style="color: #000000;">(g)
</span><span style="color: #008080;">47</span> 
<span style="color: #008080;">48</span> <span style="color: #0000ff;">print</span>(np.array([e]),1) <span style="color: #008000;">#</span><span style="color: #008000;">先转成多维数组再转置</span>
<span style="color: #008080;">49</span> <span style="color: #0000ff;">print</span>(e.reshape(-1,1)) <span style="color: #008000;">#</span><span style="color: #008000;">输入-1这个无效值</span></pre>
</div>
<span class="cnblogs_code_collapse">View Code</span></div>
<p>&nbsp;</p>
<p>组合和拆分</p>
<p>　　　1.垂直组合　　</p>
<p>　　　　　　numpy.vstack((上，下))</p>
<p>　　　垂直拆分</p>
<p>　　　　　　numpy.vsplit(数组，份数)</p>
<p>　　　　　　例：a,b = np.vsplit(c,2)</p>
<p>　　　　　　　　c代表是被拆的变量，2代表拆分成2份</p>
<p>　　　2.水平组合　　</p>
<p>　　　　　　numpy.hstack((左，右))</p>
<p>　　　水平拆分</p>
<p>　　　　　　numpy.vsplit(数组，份数)</p>
<p>　　　　　　例：a,b = np.hsplit(c,2)</p>
<p>　　　　　　　　c代表是被拆的变量，2代表拆分成2份</p>
<p>　　　3.深度组合和深度拆分</p>
<p>　　　　　　numpy.dstack((前，后))</p>
<p>　　　　　　numpy.dsplit((数组，份数))</p>
<p>　　　　　　深度组合：</p>
<p>　　　　　　　　　1是前后布局，用第三个垂直于平面来截线，截到这部分以数组形式组合起来，构成一个三位数组</p>
<p>　　　　　　　　　2这三个截面试三个页面，每个页面上都有一个二维数组来自于所对应的行，同时还做了转置，截到的行转成列。</p>
<p>　　　　　　深度拆分：</p>
<p>　　　　　　　　　　a,b=np.dsplit(c,2)</p>
<p>　　　　　　　　　　print(a.T[0].T.b.T[0].T,sep='\n')</p>
<p>　　　　　　　　　　　　T[0].T的意思 转置取0号元素再转置</p>
<p>　　　　　　　　　　注：深度拆分，如果恢复成二维数组的样式，需手工来操作。</p>
<p>&nbsp;　　　　　　　　　3行/列组合（了解即可）</p>
<p>　　　　　　　　　　　　特点：</p>
<p>　　　　　　　　　　　　　　　numpy.row_stack((上，下))　　等价于 numpy.vstack</p>
<p>　　　　　　　　　　　　　　　numpy.column_stack((左，右)) 等价于 numpy.hstack</p>
<p>　　　　　　　　　　　　　　　numpy.column_stack((左，右))简略写法：c=np.c_[a,b]</p>
<p>回顾：ndarray属性：</p>
<p>　　dtype元素类型</p>
<p>　　Shape数组维度</p>
<p>　　T转置视图</p>
<p>　　nidm维度数</p>
<p>　　size元素数。仅对一堆数组等价于python的len()</p>
<p>　　len()永远得到shape里的第一个元素</p>
<p>　　* size得到的都是shape里的乘积</p>
<p>　　nbytse总字节数</p>
<p>　　itemsize 元素的字节数&nbsp; &nbsp;即一个元素占多少字节</p>
<p>　　flat&nbsp; 扁平化迭代器（得到的是一个迭代器对象，可以进行迭代遍历）</p>
<p>　　tolist 数组改列表</p>
<p>　　real 实部数组</p>
<p>　　imag 虚部数组</p>
<p>&middot;* numpy也有append函数方法，但是必须有返回值。</p>
<p>例: x=np.append(x,50)</p>
<p>　　print(x)</p>
<div class="cnblogs_code" onclick="cnblogs_code_show('b7372393-fa22-413b-8006-ebada45a24a5')"><img id="code_img_closed_b7372393-fa22-413b-8006-ebada45a24a5" class="code_img_closed" src="./images/数据分析相关概念(numpy)0.png" alt="" /><img id="code_img_opened_b7372393-fa22-413b-8006-ebada45a24a5" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('b7372393-fa22-413b-8006-ebada45a24a5',event)" src="./images/数据分析相关概念(numpy)1.png" alt="" />
<div id="cnblogs_code_open_b7372393-fa22-413b-8006-ebada45a24a5" class="cnblogs_code_hide">
<pre><code><span style="color: #008080;"> 1</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> numpy as np
</span><span style="color: #008080;"> 2</span> 
<span style="color: #008080;"> 3</span> a=<span style="color: #000000;">np.array([
</span><span style="color: #008080;"> 4</span>     [1+1j,2+4j,3+7j<span style="color: #000000;">],
</span><span style="color: #008080;"> 5</span>     [4+2j,5+5j,6+8j<span style="color: #000000;">],
</span><span style="color: #008080;"> 6</span>     [7+3j,8+6j,9+9j<span style="color: #000000;">]
</span><span style="color: #008080;"> 7</span> <span style="color: #000000;">])
</span><span style="color: #008080;"> 8</span> 
<span style="color: #008080;"> 9</span> <span style="color: #0000ff;">print</span>(a.dtype)  <span style="color: #008000;">#</span><span style="color: #008000;">complex128 128位 16个字节 8字节代表实部 8字节代表虚部</span>
<span style="color: #008080;">10</span> <span style="color: #0000ff;">print</span>(a.shape)  <span style="color: #008000;">#</span><span style="color: #008000;">（3,3）3行3列</span>
<span style="color: #008080;">11</span> <span style="color: #0000ff;">print</span>(a.ndim)   <span style="color: #008000;">#</span><span style="color: #008000;">2   2维</span>
<span style="color: #008080;">12</span> <span style="color: #0000ff;">print</span>(a.size,len(a))    <span style="color: #008000;">#</span><span style="color: #008000;">9个元素 3行*3列=9;len返回3,3行  shape元组里第一个元素</span>
<span style="color: #008080;">13</span> <span style="color: #0000ff;">print</span>(a.itemsize)    <span style="color: #008000;">#</span><span style="color: #008000;">16每个元素占16个字节</span>
<span style="color: #008080;">14</span> <span style="color: #0000ff;">print</span>(a.nbytes) <span style="color: #008000;">#</span><span style="color: #008000;">144字节  16*9</span>
<span style="color: #008080;">15</span> <span style="color: #0000ff;">print</span><span style="color: #000000;">(a.T)
</span><span style="color: #008080;">16</span> <span style="color: #0000ff;">print</span>(a.real,a.imag,sep=<span style="color: #800000;">'</span><span style="color: #800000;">\n</span><span style="color: #800000;">'</span>)   <span style="color: #008000;">#</span><span style="color: #008000;">取实部和虚部</span>
<span style="color: #008080;">17</span> <span style="color: #0000ff;">for</span> elem <span style="color: #0000ff;">in</span> a.flat: <span style="color: #008000;">#</span><span style="color: #008000;">flat就是一个扁平迭代器，相比ravel，flatten不需要占有额外内存，空间效率更高</span>
<span style="color: #008080;">18</span>     <span style="color: #0000ff;">print</span><span style="color: #000000;">(elem)
</span><span style="color: #008080;">19</span> 
<span style="color: #008080;">20</span> <span style="color: #0000ff;">print</span>(a.flat[[1,3,5]])<span style="color: #008000;">#</span><span style="color: #008000;">只取1  3  5 号元素</span>
<span style="color: #008080;">21</span> a.flat[[2,4,6]] = 0 <span style="color: #008000;">#</span><span style="color: #008000;">还可以修改元素</span>
<span style="color: #008080;">22</span> <span style="color: #0000ff;">print</span><span style="color: #000000;">(a)
</span><span style="color: #008080;">23</span> 
<span style="color: #008080;">24</span> <span style="color: #0000ff;">def</span><span style="color: #000000;"> fun(a,b):
</span><span style="color: #008080;">25</span> <span style="color: #000000;">    a.append(b)
</span><span style="color: #008080;">26</span>     <span style="color: #0000ff;">return</span><span style="color: #000000;"> a
</span><span style="color: #008080;">27</span> 
<span style="color: #008080;">28</span> x =np.array([10,20,30<span style="color: #000000;">])
</span><span style="color: #008080;">29</span> y=40
<span style="color: #008080;">30</span> <span style="color: #008000;">#</span><span style="color: #008000;"> x-fun(x,y)       #报错，因为数组没有append的方法</span>
<span style="color: #008080;">31</span> <span style="color: #008000;">#</span><span style="color: #008000;"> x = fun(x.tolist(),y) #改成了列表</span>
<span style="color: #008080;">32</span> x=np.array(fun(x.tolist(),y))   <span style="color: #008000;">#</span><span style="color: #008000;">这样还是数组</span>
<span style="color: #008080;">33</span> <span style="color: #0000ff;">print</span><span style="color: #000000;">(x)
</span><span style="color: #008080;">34</span> 
<span style="color: #008080;">35</span> y=np.append(x,50<span style="color: #000000;">)
</span><span style="color: #008080;">36</span> <span style="color: #0000ff;">print</span>(y)</pre>
</div>
<span class="cnblogs_code_collapse">View Code</span></div>
<p>&nbsp;</p>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>