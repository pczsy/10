<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修Python文件操作' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>Python文件操作</center></div><div class='banquan'>原文出处:本文由博客园博主纪宇-年华提供。<br/>
原文连接:https://www.cnblogs.com/jiyu-hlzy/p/11766132.html</div><br>
    <ol>
<li>文件的打开与关闭，写入与读取</li>
<li>with...as...的用法</li>
<li>os.path.join　　路径的拼接</li>
<li>IO流，OS模块&nbsp;</li>
</ol>
<p><span style="font-size: 18px;">文件基本操作</span></p>
<p><span style="font-size: 18px;"><span style="font-size: 16px;">打开/关闭 文件</span></span></p>
<p>打开文件： f = open( file_path , 'r')　　如果打不开文件，在后面加个encoding改为UTF-8</p>
<p>文件路径用相对路径和绝对路径都可以，前面加个 r 取消转义，返回的是一个文件对象</p>
<p>关闭文件： f.close()　　　　　　　 　文件在关闭的时候就会自动保存</p>
<p><span style="font-size: 18px;"><span style="font-size: 16px;"><img src="./images/Python文件操作0.png" alt="" /></span></span></p>
<p>&nbsp;</p>
<p><span style="font-size: 18px;"><span style="font-size: 16px;">文件打开的模式</span></span></p>
<p>r　　&nbsp;&nbsp;以只读方式打开文件,文件指针默认放在文件开头,文件不存在则报错</p>
<p>r+　　打开一个文件用于读写，文件指针默认放在文件开头,文件不存在则报错</p>
<p><img src="./images/Python文件操作1.png" alt="" /></p>
<p><img src="./images/Python文件操作2.png" alt="" /></p>
<p>w　　&nbsp; 打开一个文件只用于写入,如果该文件已存在则将其覆盖,如果不存在,创建新文件</p>
<p>w+　　打开一个文件用于读写,如果该文件已存在则将其覆盖,如果不存在,创建新文件</p>
<p><img src="./images/Python文件操作3.png" alt="" /></p>
<p><img src="./images/Python文件操作4.png" alt="" /></p>
<p>a　　&nbsp; 打开一个文件用于追加,如果文件已存在,文件指针会放在文件结尾,(也就是说,新的内容将会被写到已有内容之后)如果不存在,创建新文件进行写入</p>
<p>a+　　打开一个文件用于读写,如果文件已存在,文件指针会放在文件结尾，文件打开时会是追加模式，如果不存在，创建新文件用于读写</p>
<p><img src="./images/Python文件操作5.png" alt="" /></p>
<p><img src="./images/Python文件操作6.png" alt="" /></p>
<p>其他模式：rb　　rb+　　wb　　wb+　　ab　　ab+&nbsp;</p>
<p>加个b的作用：以二进制的格式打开文件，进行上述操作</p>
<p>&nbsp;</p>
<p><span style="font-size: 18px;"><span style="font-size: 16px;">读取/写入 文件</span></span></p>
<p>f. tell () 　　　　&nbsp;　　&nbsp; &nbsp; 获得光标位置</p>
<p>f. seek() 　　　 　　　&nbsp;&nbsp;调整光标位置</p>
<p>f. read () 　　　　 　　 读取指定大小的内容</p>
<p>f. readline() 　　&nbsp;　　&nbsp;&nbsp; &nbsp;读取一行的内容</p>
<p>f. readlines () 　　　　&nbsp; 读取多行内容　　　　　　返回一个列表</p>
<p><img src="./images/Python文件操作7.png" alt="" /></p>
<p><img src="./images/Python文件操作8.png" alt="" /></p>
<p>f. write (字符串) 　　　 写入多行的时候需要自己加换行符写入内容</p>
<p>f. writelines(序列) 　　&nbsp; 字符串、list、tuple都是序列</p>
<p>f. flush() 　　　　&nbsp;&nbsp;　　立即刷新缓冲（保存）</p>
<p><img src="./images/Python文件操作9.png" alt="" /></p>
<p><img src="./images/Python文件操作10.png" alt="" /></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><span style="font-size: 18px;">StringIO与BytesIO</span></p>
<p><span style="font-size: 18px;"><span style="font-size: 16px;">在内存中模拟一个文件&nbsp;</span></span></p>
<p><span style="font-size: 18px;"><span style="font-size: 16px;">创建　　io.StringIO()　　io.BytesIO()</span></span></p>
<p><span style="font-size: 18px;"><span style="font-size: 16px;">取值　　.getvalue()</span></span></p>
<p><span style="font-size: 18px;"><span style="font-size: 16px;"><img src="./images/Python文件操作11.png" alt="" /></span></span></p>
<p><img src="./images/Python文件操作12.png" alt="" /></p>
<p>&nbsp;注意！ 内存假文件一旦关闭，数据消失</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><span style="font-size: 18px;">上下文管理器</span></p>
<p><span style="font-size: 18px;"><span style="font-size: 16px;">open 相当于上文　　close相当于下文</span></span></p>
<p><span style="font-size: 18px;"><span style="font-size: 16px;">with as 会自动关闭文件，不用每次都去写close，能同时管理多个文件的关闭</span></span></p>
<p><span style="font-size: 18px;"><span style="font-size: 16px;">with open() as f1 , open() as f2:</span></span></p>
<p><span style="font-size: 18px;"><span style="font-size: 16px;"><img src="./images/Python文件操作13.png" alt="" /></span></span></p>
<p><img src="./images/Python文件操作14.png" alt="" /></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><span style="font-size: 18px;">OS模块（需要用的时候再查）</span></p>
<p><span style="font-size: 18px;"><span style="font-size: 16px;">目录及文件操作</span></span></p>
<p>显示当前路径：os.getcwd()&nbsp;　　　　　　　　展示当前目录内容：os.listdir(path)　　　　　　改变当前路径： os.chdir(path)</p>
<p>创建目录： os.mkdir(文件名)　　　　　　　&nbsp; &nbsp;删除目录： os.rmdir(文件名)　　　　　　　　&nbsp; 删除文件： os.remove(文件名)</p>
<p>重命名： os.rename（"oldname","new"）</p>
<p>使用Linux命令： os.system()&nbsp;</p>
<p>&nbsp;</p>
<p><span style="font-size: 18px;"><span style="font-size: 16px;">路径操作</span></span></p>
<p>路径拼接： os.path.join(path1,path2&hellip;.)</p>
<p>所在目录 / 父级目录： os.path.dirname(path)</p>
<p>绝对路径： os.path.abspath(path)　　　　　&nbsp; 相对路径： os.path.relpath(path)　　　　　　&nbsp; &nbsp;基本短路径： os.path.basename(path)</p>
<p>资源大小： os.path.getsize(path)</p>
<p>资源时间： os.path.getctime(path) /创建　&nbsp; &nbsp;　getatime(path) / 访问　　　　　　　　　　　　getmtime(path) /修改</p>
<p>路径是否存在： os.path.exists(path)</p>
<p>是否是目录： os.path.isdir(path)　　　　　　 是否是文件： os.path.isfile(path)　　　　　　&nbsp; &nbsp; 是否是绝对路径： os.path.isabs(path)</p>
<p>&nbsp;</p>
<p><span style="font-size: 16px;">遍历某个目录的所有内容，如果是文件夹就继续编历文件夹里的内容</span></p>
<p><img src="./images/Python文件操作15.png" alt="" /></p>
<p><img src="./images/Python文件操作16.png" alt="" /></p>
<p>&nbsp;</p>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>