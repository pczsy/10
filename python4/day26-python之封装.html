<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修day26-python之封装' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>day26-python之封装</center></div><div class='banquan'>原文出处:本文由博客园博主有猿人提供。<br/>
原文连接:https://www.cnblogs.com/sqy-yyr/p/11366713.html</div><br>
    <p>1.动态导入模块</p>
<div class="cnblogs_code">
<pre><code><span style="color: #008000;">#</span><span style="color: #008000;"> module_t=__import__('m1.t')</span><span style="color: #008000;">
#</span><span style="color: #008000;"> print(module_t)</span>

<span style="color: #008000;">#</span><span style="color: #008000;"> module_t = __import__('m1.t')</span><span style="color: #008000;">
#</span><span style="color: #008000;"> print(module_t)</span>


<span style="color: #008000;">#</span><span style="color: #008000;"> module_t.t.test1()</span><span style="color: #008000;">
#</span><span style="color: #008000;"> from m1.t import *</span><span style="color: #008000;">
#</span><span style="color: #008000;"> from m1.t import test1,_test2</span><span style="color: #008000;">
#
#</span><span style="color: #008000;"> test1()</span><span style="color: #008000;">
#</span><span style="color: #008000;"> _test2()</span>

<span style="color: #008000;">#</span><span style="color: #008000;"> module_t.t.test1()</span><span style="color: #008000;">
#</span><span style="color: #008000;"> from m1.t import *</span><span style="color: #008000;">
#</span><span style="color: #008000;"> from m1.t import  test1,_test2</span><span style="color: #008000;">
#</span><span style="color: #008000;"> test1()</span><span style="color: #008000;">
#</span><span style="color: #008000;"> _test2()</span>


<span style="color: #008000;">#</span><span style="color: #008000;"> import  importlib</span><span style="color: #008000;">
#</span><span style="color: #008000;"> m=importlib.import_module('m1.t')</span><span style="color: #008000;">
#</span><span style="color: #008000;"> print(m)</span><span style="color: #008000;">
#</span><span style="color: #008000;"> m.test1()</span><span style="color: #008000;">
#</span><span style="color: #008000;"> m._test2()</span>


<span style="color: #0000ff;">import</span><span style="color: #000000;">  importlib
m </span>= importlib.import_module(<span style="color: #800000;">'</span><span style="color: #800000;">m1.t</span><span style="color: #800000;">'</span><span style="color: #000000;">)
</span><span style="color: #0000ff;">print</span><span style="color: #000000;">(m)
m.test1()
m._test2()</span></pre>
</div>
<p>2.包装标准类型</p>
<div class="cnblogs_code">
<pre><code><span style="color: #008000;">#</span><span style="color: #008000;"> class List(list):</span><span style="color: #008000;">
#</span><span style="color: #008000;">     def append(self, p_object):</span><span style="color: #008000;">
#</span><span style="color: #008000;">         if type(p_object) is str:</span><span style="color: #008000;">
#</span><span style="color: #008000;">             # self.append(p_object)</span><span style="color: #008000;">
#</span><span style="color: #008000;">             super().append(p_object)</span><span style="color: #008000;">
#</span><span style="color: #008000;">         else:</span><span style="color: #008000;">
#</span><span style="color: #008000;">             print('只能添加字符串类型')</span><span style="color: #008000;">
#
#</span><span style="color: #008000;">     def show_midlle(self):</span><span style="color: #008000;">
#</span><span style="color: #008000;">         mid_index=int(len(self)/2)</span><span style="color: #008000;">
#</span><span style="color: #008000;">         return self[mid_index]</span>
<span style="color: #0000ff;">class</span><span style="color: #000000;"> List(list):
    </span><span style="color: #0000ff;">def</span><span style="color: #000000;">  append(self, p_object):
        </span><span style="color: #0000ff;">if</span> type(p_object) <span style="color: #0000ff;">is</span><span style="color: #000000;"> str:
            super().append(p_object)
        </span><span style="color: #0000ff;">else</span><span style="color: #000000;">:
            </span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">'</span><span style="color: #800000;">只能添加字符串类型</span><span style="color: #800000;">'</span><span style="color: #000000;">)

    </span><span style="color: #0000ff;">def</span><span style="color: #000000;"> show_midlle(self):
        mid_index </span>= int(len(self)/2<span style="color: #000000;">)
        </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> self[mid_index]

l1 </span>= List(<span style="color: #800000;">'</span><span style="color: #800000;">helloworld</span><span style="color: #800000;">'</span><span style="color: #000000;">)
</span><span style="color: #0000ff;">print</span><span style="color: #000000;">(l1,type(l1))
</span><span style="color: #0000ff;">print</span><span style="color: #000000;">(l1.show_midlle())
</span><span style="color: #008000;">#</span><span style="color: #008000;"> l1.append(111111111111111)</span>
l1.append(<span style="color: #800000;">'</span><span style="color: #800000;">SB</span><span style="color: #800000;">'</span><span style="color: #000000;">)
</span><span style="color: #0000ff;">print</span><span style="color: #000000;">(l1)

</span><span style="color: #008000;">#</span><span style="color: #008000;"> l2=list('hell oworld')</span><span style="color: #008000;">
#</span><span style="color: #008000;"> print(l2,type(l2))</span>

<span style="color: #008000;">#</span><span style="color: #008000;"> l1=List('helloworld')</span><span style="color: #008000;">
#</span><span style="color: #008000;"> print(l1,type(l1))</span><span style="color: #008000;">
#</span><span style="color: #008000;"> print(l1.show_midlle())</span><span style="color: #008000;">
#</span><span style="color: #008000;"> l1.append(1111111111111111111111)</span><span style="color: #008000;">
#</span><span style="color: #008000;"> l1.append('SB')</span><span style="color: #008000;">
#</span><span style="color: #008000;"> print(l1)</span></pre>
</div>
<p>3.双下划线开头的attr方法:</p>
<div class="cnblogs_code">
<pre><code><span style="color: #008000;">#</span><span style="color: #008000;"> class Foo:</span><span style="color: #008000;">
#</span><span style="color: #008000;">     x=1</span><span style="color: #008000;">
#</span><span style="color: #008000;">     def __init__(self,y):</span><span style="color: #008000;">
#</span><span style="color: #008000;">         self.y=y</span><span style="color: #008000;">
#
#</span><span style="color: #008000;">     def __getattr__(self, item):</span><span style="color: #008000;">
#</span><span style="color: #008000;">         print('执行__getattr__')</span><span style="color: #008000;">
#
#</span><span style="color: #008000;"> f1=Foo(10)</span><span style="color: #008000;">
#</span><span style="color: #008000;"> print(f1.y)</span><span style="color: #008000;">
#</span><span style="color: #008000;"> print(getattr(f1,'y'))   #len(str)---&gt;str.__len__()</span><span style="color: #008000;">
#</span><span style="color: #008000;"> f1.sssssssssssssssssssssssssssssssssssss</span>




<span style="color: #008000;">#</span><span style="color: #008000;"> class Foo:</span><span style="color: #008000;">
#</span><span style="color: #008000;">     x=1</span><span style="color: #008000;">
#</span><span style="color: #008000;">     def __init__(self,y):</span><span style="color: #008000;">
#</span><span style="color: #008000;">         self.y=y</span><span style="color: #008000;">
#
#</span><span style="color: #008000;">     def __delattr__(self, item):</span><span style="color: #008000;">
#</span><span style="color: #008000;">         print('删除操作__delattr__')</span><span style="color: #008000;">
#
#</span><span style="color: #008000;"> f1=Foo(10)</span><span style="color: #008000;">
#</span><span style="color: #008000;"> del f1.y</span><span style="color: #008000;">
#</span><span style="color: #008000;"> del f1.x</span>



<span style="color: #008000;">#
#</span><span style="color: #008000;"> class Foo:</span><span style="color: #008000;">
#</span><span style="color: #008000;">     x=1</span><span style="color: #008000;">
#</span><span style="color: #008000;">     def __init__(self,y):</span><span style="color: #008000;">
#</span><span style="color: #008000;">         self.y=y</span><span style="color: #008000;">
#
#</span><span style="color: #008000;">     def __setattr__(self, key, value):</span><span style="color: #008000;">
#</span><span style="color: #008000;">         print('__setattr__执行')</span><span style="color: #008000;">
#</span><span style="color: #008000;">         # self.key=value</span><span style="color: #008000;">
#</span><span style="color: #008000;">         self.__dict__[key]=value</span><span style="color: #008000;">
#</span><span style="color: #008000;"> f1=Foo(10)</span><span style="color: #008000;">
#</span><span style="color: #008000;"> print(f1.__dict__)</span><span style="color: #008000;">
#</span><span style="color: #008000;"> f1.z=2</span><span style="color: #008000;">
#</span><span style="color: #008000;"> print(f1.__dict__)</span>








<span style="color: #008000;">#</span><span style="color: #008000;"> class Foo:</span><span style="color: #008000;">
#</span><span style="color: #008000;">     def __getattr__(self, item):</span><span style="color: #008000;">
#</span><span style="color: #008000;">         print('-------------&gt;')</span><span style="color: #008000;">
#
#</span><span style="color: #008000;"> # print(Foo.__dict__)</span><span style="color: #008000;">
#</span><span style="color: #008000;"> print(dir(Foo))</span><span style="color: #008000;">
#</span><span style="color: #008000;"> f1=Foo()</span><span style="color: #008000;">
#
#</span><span style="color: #008000;"> print(f1.x)  #只有在属性不存在时，会自动触发__getattr__</span><span style="color: #008000;">
#
#</span><span style="color: #008000;"> del f1.x #删除属性时会触发＿ｄｅｌａｔｔｒ＿＿</span><span style="color: #008000;">
#
#</span><span style="color: #008000;"> f1.y=10</span><span style="color: #008000;">
#</span><span style="color: #008000;"> f1.x=3  # 设置属性的时候会触发&mdash;&mdash;setattr&mdash;&mdash;&mdash;</span>











<span style="color: #008000;">#</span><span style="color: #008000;"> class Foo:</span><span style="color: #008000;">
#</span><span style="color: #008000;">     def __init__(self,name):</span><span style="color: #008000;">
#</span><span style="color: #008000;">         self.name=name</span><span style="color: #008000;">
#</span><span style="color: #008000;">     def __getattr__(self, item):</span><span style="color: #008000;">
#</span><span style="color: #008000;">         print('你找的属性【%s】不存在' %item)</span><span style="color: #008000;">
#</span><span style="color: #008000;">     def __setattr__(self, k,v):</span><span style="color: #008000;">
#</span><span style="color: #008000;">         print('执行setattr',k,v)</span><span style="color: #008000;">
#</span><span style="color: #008000;">         if type(v) is str:</span><span style="color: #008000;">
#</span><span style="color: #008000;">             print('开始设置')</span><span style="color: #008000;">
#</span><span style="color: #008000;">             # self.k=v #触发__setattr__</span><span style="color: #008000;">
#</span><span style="color: #008000;">             self.__dict__[k]=v.upper()</span><span style="color: #008000;">
#</span><span style="color: #008000;">         else:</span><span style="color: #008000;">
#</span><span style="color: #008000;">             print('必须是字符串类型')</span><span style="color: #008000;">
#</span><span style="color: #008000;">     def __delattr__(self, item):</span><span style="color: #008000;">
#</span><span style="color: #008000;">         print('不允许删除属性【%s】' %item)</span>
        <span style="color: #008000;">#</span><span style="color: #008000;"> print('执行delattr',item)</span>
        <span style="color: #008000;">#</span><span style="color: #008000;"> del self.item</span>
        <span style="color: #008000;">#</span><span style="color: #008000;"> self.__dict__.pop(item)</span>
 




<span style="color: #008000;">#</span><span style="color: #008000;"> f1=Foo('alex')</span><span style="color: #008000;">
#</span><span style="color: #008000;"> f1.age=18 #触发__setattr__</span><span style="color: #008000;">
#</span><span style="color: #008000;"> print(f1.__dict__)</span><span style="color: #008000;">
#</span><span style="color: #008000;"> print(f1.name)</span><span style="color: #008000;">
#</span><span style="color: #008000;"> print(f1.age)</span><span style="color: #008000;">
#</span><span style="color: #008000;"> print(f1.gender)</span><span style="color: #008000;">
#</span><span style="color: #008000;"> print(f1.slary)</span><span style="color: #008000;">
#</span><span style="color: #008000;"> print(f1.__dict__)</span><span style="color: #008000;">
#</span><span style="color: #008000;"> del f1.name</span><span style="color: #008000;">
#</span><span style="color: #008000;"> print(f1.__dict__)</span></pre>
</div>
<p>4.反射</p>
<div class="cnblogs_code">
<pre><code><span style="color: #008000;">#</span><span style="color: #008000;"> class BlackMedium:</span><span style="color: #008000;">
#</span><span style="color: #008000;">     feture='Ugly'</span><span style="color: #008000;">
#</span><span style="color: #008000;">     def __init__(self,name,addr):</span><span style="color: #008000;">
#</span><span style="color: #008000;">         self.name=name</span><span style="color: #008000;">
#</span><span style="color: #008000;">         self.addr=addr</span><span style="color: #008000;">
#
#</span><span style="color: #008000;">     def sell_hourse(self):</span><span style="color: #008000;">
#</span><span style="color: #008000;">         print('【%s】 正在卖房子，傻逼才买呢' %self.name)</span><span style="color: #008000;">
#
#</span><span style="color: #008000;">     def rent_hourse(self):</span><span style="color: #008000;">
#</span><span style="color: #008000;">         print('【%s】 正在租房子，傻逼才租呢' % self.name)</span><span style="color: #008000;">
#
#
#</span><span style="color: #008000;"> print(hasattr(BlackMedium,'feture'))</span><span style="color: #008000;">
#</span><span style="color: #008000;"> getattr()</span>

<span style="color: #0000ff;">class</span><span style="color: #000000;"> BlackMedium:
    feture</span>=<span style="color: #800000;">'</span><span style="color: #800000;">Ugly</span><span style="color: #800000;">'</span>
    <span style="color: #0000ff;">def</span> <span style="color: #800080;">__init__</span><span style="color: #000000;">(self,name,addr):
        self.name </span>=<span style="color: #000000;"> name
        self.addr </span>=<span style="color: #000000;"> addr

    </span><span style="color: #0000ff;">def</span><span style="color: #000000;"> sell_hourse(self):
        </span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">'</span><span style="color: #800000;">[%s]正在卖房子，傻逼才买呢</span><span style="color: #800000;">'</span>%<span style="color: #000000;">self.name)

    </span><span style="color: #0000ff;">def</span><span style="color: #000000;"> rent_hourse(self):
        </span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">'</span><span style="color: #800000;">[%s]正在租房子，傻逼才租呢</span><span style="color: #800000;">'</span>%<span style="color: #000000;">self.name)

b1 </span>= BlackMedium(<span style="color: #800000;">'</span><span style="color: #800000;">万成置地</span><span style="color: #800000;">'</span>, <span style="color: #800000;">'</span><span style="color: #800000;">天露园</span><span style="color: #800000;">'</span><span style="color: #000000;">)



</span><span style="color: #008000;">#
#</span><span style="color: #008000;"> b1=BlackMedium('万成置地','天露园')</span><span style="color: #008000;">
#</span><span style="color: #008000;"> b1.name---&gt;b1.__dic__['name']</span><span style="color: #008000;">
#</span><span style="color: #008000;"> print(b1.__dict__)</span><span style="color: #008000;">
#
#</span><span style="color: #008000;"> # b1.name</span><span style="color: #008000;">
#</span><span style="color: #008000;"> # b1.sell_hourse</span><span style="color: #008000;">
#</span><span style="color: #008000;"> print(hasattr(b1,'name'))</span><span style="color: #008000;">
#</span><span style="color: #008000;"> print(hasattr(b1,'sell_hourse'))</span><span style="color: #008000;">
#</span><span style="color: #008000;"> print(hasattr(b1,'selasdfasdfsadfasdfasdfasdfasdl_hourse'))</span><span style="color: #008000;">
#
#
#
#</span><span style="color: #008000;"> print(getattr(b1,'name'))</span><span style="color: #008000;">
#</span><span style="color: #008000;"> print(getattr(b1,'rent_hourse'))</span><span style="color: #008000;">
#</span><span style="color: #008000;"> func=getattr(b1,'rent_hourse')</span><span style="color: #008000;">
#</span><span style="color: #008000;"> func()</span><span style="color: #008000;">
#</span><span style="color: #008000;"> # print(getattr(b1,'rent_hourseasdfsa')) #没有则报错</span><span style="color: #008000;">
#</span><span style="color: #008000;"> print(getattr(b1,'rent_hourseasdfsa','没有这个属性')) #没有则报错</span>
<span style="color: #000000;">
b1.sb </span>=<span style="color: #000000;"> True
setattr(b1,</span><span style="color: #800000;">'</span><span style="color: #800000;">sb</span><span style="color: #800000;">'</span><span style="color: #000000;">,True)
setattr(b1,</span><span style="color: #800000;">'</span><span style="color: #800000;">sb1</span><span style="color: #800000;">'</span>,123<span style="color: #000000;">)
setattr(b1,</span><span style="color: #800000;">'</span><span style="color: #800000;">name</span><span style="color: #800000;">'</span>,<span style="color: #800000;">'</span><span style="color: #800000;">SB</span><span style="color: #800000;">'</span><span style="color: #000000;">)
setattr(b1,</span><span style="color: #800000;">'</span><span style="color: #800000;">func</span><span style="color: #800000;">'</span>,<span style="color: #0000ff;">lambda</span> x:x+1<span style="color: #000000;">)
setattr(b1,</span><span style="color: #800000;">'</span><span style="color: #800000;">func1</span><span style="color: #800000;">'</span>,<span style="color: #0000ff;">lambda</span> self:self.name+<span style="color: #800000;">'</span><span style="color: #800000;">sb</span><span style="color: #800000;">'</span><span style="color: #000000;">)

</span><span style="color: #0000ff;">print</span><span style="color: #000000;">(b1.func1(b1))
</span><span style="color: #008000;">#
#
#</span><span style="color: #008000;"> # b1.sb=True</span><span style="color: #008000;">
#</span><span style="color: #008000;"> setattr(b1,'sb',True)</span><span style="color: #008000;">
#</span><span style="color: #008000;"> setattr(b1,'sb1',123)</span><span style="color: #008000;">
#</span><span style="color: #008000;"> setattr(b1,'name','SB')</span><span style="color: #008000;">
#</span><span style="color: #008000;"> setattr(b1,'func',lambda x:x+1)</span><span style="color: #008000;">
#</span><span style="color: #008000;"> setattr(b1,'func1',lambda self:self.name+'sb')</span><span style="color: #008000;">
#</span><span style="color: #008000;"> print(b1.__dict__)</span><span style="color: #008000;">
#</span><span style="color: #008000;"> print(b1.func)</span><span style="color: #008000;">
#</span><span style="color: #008000;"> print(b1.func(10))</span><span style="color: #008000;">
#</span><span style="color: #008000;"> print(b1.func1(b1))</span><span style="color: #008000;">
#</span><span style="color: #008000;"> del b1.sb</span><span style="color: #008000;">
#</span><span style="color: #008000;"> del b1.sb1</span><span style="color: #008000;">
#</span><span style="color: #008000;"> delattr(b1,'sb')</span><span style="color: #008000;">
#</span><span style="color: #008000;"> print(b1.__dict__)</span>

 </pre>
</div>
<p>5.多态</p>
<div class="cnblogs_code">
<pre><code><span style="color: #008000;">#</span><span style="color: #008000;">_*_coding:utf-8_*_</span><span style="color: #008000;">
#</span><span style="color: #008000;"> __author__ = 'Linhaifeng'</span><span style="color: #008000;">
#</span><span style="color: #008000;"> class H2O:</span><span style="color: #008000;">
#</span><span style="color: #008000;">     def __init__(self,name,temperature):</span><span style="color: #008000;">
#</span><span style="color: #008000;">         self.name=name</span><span style="color: #008000;">
#</span><span style="color: #008000;">         self.temperature=temperature</span><span style="color: #008000;">
#</span><span style="color: #008000;">     def turn_ice(self):</span><span style="color: #008000;">
#</span><span style="color: #008000;">         if self.temperature &lt; 0:</span><span style="color: #008000;">
#</span><span style="color: #008000;">             print('[%s]温度太低结冰了' %self.name)</span><span style="color: #008000;">
#</span><span style="color: #008000;">         elif self.temperature &gt; 0 and self.temperature &lt; 100:</span><span style="color: #008000;">
#</span><span style="color: #008000;">             print('[%s]液化成水' %self.name)</span><span style="color: #008000;">
#</span><span style="color: #008000;">         elif self.temperature &gt; 100:</span><span style="color: #008000;">
#</span><span style="color: #008000;">             print('[%s]温度太高变成了水蒸气' %self.name)</span><span style="color: #008000;">
#</span><span style="color: #008000;">     def aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa(self):</span><span style="color: #008000;">
#</span><span style="color: #008000;">         pass</span>
<span style="color: #800080;">__author__</span> = <span style="color: #800000;">'</span><span style="color: #800000;">shiqianyu</span><span style="color: #800000;">'</span>
<span style="color: #0000ff;">class</span><span style="color: #000000;"> H2O:
    </span><span style="color: #0000ff;">def</span> <span style="color: #800080;">__init__</span><span style="color: #000000;">(self,name,temperature):
        self.name </span>=<span style="color: #000000;"> name
        self.temperature </span>=<span style="color: #000000;"> temperature
    </span><span style="color: #0000ff;">def</span><span style="color: #000000;"> turn_ice(self):
        </span><span style="color: #0000ff;">if</span> self.temperature&lt;<span style="color: #000000;">0:
            </span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">'</span><span style="color: #800000;">[%s]温度太低结冰了</span><span style="color: #800000;">'</span>%<span style="color: #000000;">self.name)
        </span><span style="color: #0000ff;">elif</span> self.temperature&gt;0 <span style="color: #0000ff;">and</span> self.temperature&lt;100<span style="color: #000000;">:
            </span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">'</span><span style="color: #800000;">[%s]液化成水</span><span style="color: #800000;">'</span>%<span style="color: #000000;">self.name)
        </span><span style="color: #0000ff;">elif</span> self.temperature&gt;100<span style="color: #000000;">:
            </span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">'</span><span style="color: #800000;">[%s]温度太高变成了水蒸汽</span><span style="color: #800000;">'</span>%<span style="color: #000000;">self.name)
    </span><span style="color: #0000ff;">def</span><span style="color: #000000;"> aaaaaaaaaaaaaaa(self):
        </span><span style="color: #0000ff;">pass</span>
<span style="color: #0000ff;">class</span><span style="color: #000000;"> Water(H2O):
    </span><span style="color: #0000ff;">pass</span>
<span style="color: #0000ff;">class</span><span style="color: #000000;"> Ice(H2O):
    </span><span style="color: #0000ff;">pass</span>
<span style="color: #0000ff;">class</span><span style="color: #000000;"> Steam(H2O):
    </span><span style="color: #0000ff;">pass</span>


<span style="color: #008000;">#</span><span style="color: #008000;"> class Water(H2O):</span><span style="color: #008000;">
#</span><span style="color: #008000;">     pass</span><span style="color: #008000;">
#</span><span style="color: #008000;"> class Ice(H2O):</span><span style="color: #008000;">
#</span><span style="color: #008000;">     pass</span><span style="color: #008000;">
#</span><span style="color: #008000;"> class Steam(H2O):</span><span style="color: #008000;">
#</span><span style="color: #008000;">     pass</span>
<span style="color: #000000;">
w1</span>=Water(<span style="color: #800000;">'</span><span style="color: #800000;">水</span><span style="color: #800000;">'</span>,25<span style="color: #000000;">)
i1</span>=Ice(<span style="color: #800000;">'</span><span style="color: #800000;">冰</span><span style="color: #800000;">'</span>,-20<span style="color: #000000;">)
s1</span>=Steam(<span style="color: #800000;">'</span><span style="color: #800000;">蒸汽</span><span style="color: #800000;">'</span>,3000<span style="color: #000000;">)

</span><span style="color: #008000;">#</span><span style="color: #008000;"> w1.turn_ice()</span><span style="color: #008000;">
#</span><span style="color: #008000;"> i1.turn_ice()</span><span style="color: #008000;">
#</span><span style="color: #008000;"> s1.turn_ice()</span>

<span style="color: #008000;">#</span><span style="color: #008000;"> def func(obj):</span><span style="color: #008000;">
#</span><span style="color: #008000;">     obj.turn_ice()</span>

<span style="color: #008000;">#</span><span style="color: #008000;"> func(w1)  #----&gt;w1.turn_ice()</span><span style="color: #008000;">
#</span><span style="color: #008000;"> func(i1)  #----&gt;i1.turn_ice()</span><span style="color: #008000;">
#</span><span style="color: #008000;"> def func(obj):</span><span style="color: #008000;">
#</span><span style="color: #008000;">     obj.turn_ice()</span><span style="color: #008000;">
#
#</span><span style="color: #008000;"> func(w1)</span><span style="color: #008000;">
#</span><span style="color: #008000;"> func(i1)</span><span style="color: #008000;">
#</span><span style="color: #008000;"> func(s1)</span>


<span style="color: #0000ff;">def</span><span style="color: #000000;"> func(obj):
    obj.turn_ice()

func(w1)
func(i1)
func(s1)</span></pre>
</div>
<p>6.封装示范一</p>
<div class="cnblogs_code">
<pre><code><span style="color: #008000;">#</span><span style="color: #008000;">_*_coding:utf-8_*_</span><span style="color: #008000;">
#</span><span style="color: #008000;"> __author__ = 'Linhaifeng'</span><span style="color: #008000;">
#
#</span><span style="color: #008000;"> class Room:</span><span style="color: #008000;">
#</span><span style="color: #008000;">     def __init__(self,name,owner,width,length,high):</span><span style="color: #008000;">
#</span><span style="color: #008000;">         self.name=name</span><span style="color: #008000;">
#</span><span style="color: #008000;">         self.owner=owner</span><span style="color: #008000;">
#</span><span style="color: #008000;">         self.__width=width</span><span style="color: #008000;">
#</span><span style="color: #008000;">         self.__length=length</span><span style="color: #008000;">
#</span><span style="color: #008000;">         self.__high=high</span><span style="color: #008000;">
#
#</span><span style="color: #008000;">     def tell_area(self): #此时我们想求的是面积</span><span style="color: #008000;">
#</span><span style="color: #008000;">         return self.__width * self.__length *self.__high</span><span style="color: #008000;">
#
#</span><span style="color: #008000;">     def tell_width(self):</span><span style="color: #008000;">
#</span><span style="color: #008000;">         return self.__width</span>

<span style="color: #800080;">__author__</span> = <span style="color: #800000;">'</span><span style="color: #800000;">shiqianyu</span><span style="color: #800000;">'</span>
<span style="color: #0000ff;">class</span><span style="color: #000000;"> Room:
    </span><span style="color: #0000ff;">def</span> <span style="color: #800080;">__init__</span><span style="color: #000000;">(self,name,owner,width,length,high):
        self.name </span>=<span style="color: #000000;"> name
        self.owner </span>=<span style="color: #000000;"> owner
        self.</span><span style="color: #800080;">__width</span> =<span style="color: #000000;"> width
        self.</span><span style="color: #800080;">__length</span> =<span style="color: #000000;"> length
        self.</span><span style="color: #800080;">__high</span> =<span style="color: #000000;"> high

    </span><span style="color: #0000ff;">def</span><span style="color: #000000;"> tell_area(self):
        </span><span style="color: #0000ff;">return</span> self.<span style="color: #800080;">__width</span>*self.<span style="color: #800080;">__length</span>*self.<span style="color: #800080;">__high</span>

    <span style="color: #0000ff;">def</span><span style="color: #000000;"> tell_width(self):
        </span><span style="color: #0000ff;">return</span> self.<span style="color: #800080;">__width</span><span style="color: #000000;">

r1 </span>= Room(<span style="color: #800000;">'</span><span style="color: #800000;">卫生</span><span style="color: #800000;">'</span>,<span style="color: #800000;">'</span><span style="color: #800000;">alex</span><span style="color: #800000;">'</span>,100,100,500<span style="color: #000000;">)
</span><span style="color: #008000;">#</span><span style="color: #008000;"> area = r1.__width*r1.__length</span>
<span style="color: #0000ff;">print</span><span style="color: #000000;">(r1.tell_area())

</span><span style="color: #008000;">#</span><span style="color: #008000;"> r1=Room('卫生间','alex',100,100,10000)</span>

<span style="color: #008000;">#</span><span style="color: #008000;"> arear=r1.__width * r1.__length</span><span style="color: #008000;">
#</span><span style="color: #008000;"> print(r1.tell_area())</span></pre>
</div>
<p>&nbsp;7.授权</p>
<div class="cnblogs_code">
<pre><code><span style="color: #008000;">#</span><span style="color: #008000;"> import time</span><span style="color: #008000;">
#</span><span style="color: #008000;"> class FileHandle:</span><span style="color: #008000;">
#</span><span style="color: #008000;">     def __init__(self,filename,mode='r',encoding='utf-8'):</span><span style="color: #008000;">
#</span><span style="color: #008000;">         # self.filename=filename</span><span style="color: #008000;">
#</span><span style="color: #008000;">         self.file=open(filename,mode,encoding=encoding)</span><span style="color: #008000;">
#</span><span style="color: #008000;">         self.mode=mode</span><span style="color: #008000;">
#</span><span style="color: #008000;">         self.encoding=encoding</span><span style="color: #008000;">
#</span><span style="color: #008000;">     def write(self,line):</span><span style="color: #008000;">
#</span><span style="color: #008000;">         print('------------&gt;',line)</span><span style="color: #008000;">
#</span><span style="color: #008000;">         t=time.strftime('%Y-%m-%d %X')</span><span style="color: #008000;">
#</span><span style="color: #008000;">         self.file.write('%s %s' %(t,line))</span><span style="color: #008000;">
#
#</span><span style="color: #008000;">     def __getattr__(self, item):</span><span style="color: #008000;">
#</span><span style="color: #008000;">         # print(item,type(item))</span><span style="color: #008000;">
#</span><span style="color: #008000;">         # self.file.read</span><span style="color: #008000;">
#</span><span style="color: #008000;">         return getattr(self.file,item)</span>
<span style="color: #0000ff;">import</span><span style="color: #000000;">  time
</span><span style="color: #0000ff;">class</span><span style="color: #000000;"> FileHandle:
    </span><span style="color: #0000ff;">def</span> <span style="color: #800080;">__init__</span>(self,filename,mode=<span style="color: #800000;">'</span><span style="color: #800000;">r</span><span style="color: #800000;">'</span>,encoding=<span style="color: #800000;">'</span><span style="color: #800000;">utf-8</span><span style="color: #800000;">'</span><span style="color: #000000;">):
        self.file </span>= open(filename,mode,encoding=<span style="color: #000000;">encoding)
        self.mode </span>=<span style="color: #000000;"> mode
        self.encoding </span>=<span style="color: #000000;"> encoding

    </span><span style="color: #0000ff;">def</span><span style="color: #000000;"> write(self,line):
        </span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">'</span><span style="color: #800000;">--------------------&gt;</span><span style="color: #800000;">'</span><span style="color: #000000;">,line)
        t </span>= time.strftime(<span style="color: #800000;">'</span><span style="color: #800000;">%Y-%m-%d %X</span><span style="color: #800000;">'</span><span style="color: #000000;">)
        self.file.write(</span><span style="color: #800000;">'</span><span style="color: #800000;">%s %s</span><span style="color: #800000;">'</span>%<span style="color: #000000;">(t,line))

    </span><span style="color: #0000ff;">def</span> <span style="color: #800080;">__getattr__</span><span style="color: #000000;">(self, item):
        </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> getattr(self.file,item)

f1 </span>= FileHandle(<span style="color: #800000;">'</span><span style="color: #800000;">a.txt</span><span style="color: #800000;">'</span>,<span style="color: #800000;">'</span><span style="color: #800000;">w+</span><span style="color: #800000;">'</span><span style="color: #000000;">)
f1.write(</span><span style="color: #800000;">'</span><span style="color: #800000;">111111111111111\n</span><span style="color: #800000;">'</span><span style="color: #000000;">)
f1.write(</span><span style="color: #800000;">'</span><span style="color: #800000;">cpu负载过高\n</span><span style="color: #800000;">'</span><span style="color: #000000;">)
f1.write(</span><span style="color: #800000;">'</span><span style="color: #800000;">内存剩余不足\n</span><span style="color: #800000;">'</span><span style="color: #000000;">)
f1.write(</span><span style="color: #800000;">'</span><span style="color: #800000;">硬盘剩余不足\n</span><span style="color: #800000;">'</span><span style="color: #000000;">)
f1.seek(0)
</span><span style="color: #0000ff;">print</span><span style="color: #000000;">(f1.read())




</span><span style="color: #008000;">#</span><span style="color: #008000;"> f1=FileHandle('a.txt','w+')</span><span style="color: #008000;">
#</span><span style="color: #008000;"> print(f1.file)</span><span style="color: #008000;">
#</span><span style="color: #008000;"> print(f1.__dict__)</span><span style="color: #008000;">
#</span><span style="color: #008000;"> print('==&gt;',f1.read) #触发__getattr__</span><span style="color: #008000;">
#</span><span style="color: #008000;"> print(f1.write)</span><span style="color: #008000;">
#</span><span style="color: #008000;"> f1.write('1111111111111111\n')</span><span style="color: #008000;">
#</span><span style="color: #008000;"> f1.write('cpu负载过高\n')</span><span style="color: #008000;">
#</span><span style="color: #008000;"> f1.write('内存剩余不足\n')</span><span style="color: #008000;">
#</span><span style="color: #008000;"> f1.write('硬盘剩余不足\n')</span><span style="color: #008000;">
#</span><span style="color: #008000;"> f1.seek(0)</span><span style="color: #008000;">
#</span><span style="color: #008000;"> print('---&gt;',f1.read())</span></pre>
</div>
<p>&nbsp;</p>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>