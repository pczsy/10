<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修python+unittest框架第一天unittest之简单认识Test Fixure：测试固件【8月17更新】' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>python+unittest框架第一天unittest之简单认识Test Fixure：测试固件【8月17更新】</center></div><div class='banquan'>原文出处:本文由博客园博主我是大刘啊提供。<br/>
原文连接:https://www.cnblogs.com/woshidaliua/p/11355039.html</div><br>
    <p>20万的慢慢会实现的吧，hhh</p>
<p>unittest框架，我就不在介绍了，百度有很详细的介绍。</p>
<p>我们只要了解：</p>
<p>1、unittest是单元测试框架</p>
<p>2、它提供用例组织与执行：在实际工作中案例可能有上百条，我们就需要进行用例的组织以及规范，增强代码的可维护性等</p>
<p>3、它提供丰富的比较方法：相等\不相等，包含\不包含，True\False的断言方法等等</p>
<p>4、提供丰富的日志：例如，总执行时间、失败用例数、成功用例数等</p>
<p>这就是别人造好的车，我们直接开。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。</p>
<p>unittest组成部分：</p>
<p>TestCase：测试用例，测试用例里面会有很多测试方法，是单元测试中最小维度的测试行为</p>
<p>Test Fixure：测试固件，测试固件是执行测试时的准备工作和收尾工作（打开和关闭浏览器，链接和关闭数据库等等）</p>
<p>TestSuite：测试套件,是测试用例的集合</p>
<p>TestRunner：测试运行器，运行测试用例</p>
<p>TestReport：将测试结果呈现给用户，生成测试报告</p>
<p>接下来我们一点一点的学习，上面是大概整体的了</p>
<div class="cnblogs_code">
<pre><code><span style="color: #000000;">TestCase类中定义的方法：
</span><span style="color: #000000;">setUp():       ------&gt;       该方法：进行测试前的初始化工作   
</span>tearDown():    ------&gt;       该方法：进行执行测试后的清除工作（比如关闭浏览器）</pre>
</div>
<p>我们看下代码：</p>
<div class="cnblogs_code">
<pre><code><span style="color: #008080;"> 1</span> <span style="color: #0000ff;">import</span>  unittest        <span style="color: #008000;">#</span><span style="color: #008000;">导入unittest框架</span>
<span style="color: #008080;"> 2</span> 
<span style="color: #008080;"> 3</span> <span style="color: #0000ff;">class</span> register(unittest.TestCase):   <span style="color: #008000;">#</span><span style="color: #008000;">定义一个register类，并且继承unittest中的TestCase类</span>
<span style="color: #008080;"> 4</span> 
<span style="color: #008080;"> 5</span>     <span style="color: #0000ff;">def</span> setUp(self):                 <span style="color: #008000;">#</span><span style="color: #008000;">TestCase类中定义的方法，setUp()进行测试前的初始化工作，所以它总是第一个执行</span>
<span style="color: #008080;"> 6</span>         <span style="color: #0000ff;">print</span>(<span style="color: #800000;">'</span><span style="color: #800000;">我已经做好了准备工作</span><span style="color: #800000;">'</span><span style="color: #000000;">)
</span><span style="color: #008080;"> 7</span> 
<span style="color: #008080;"> 8</span>     <span style="color: #0000ff;">def</span> tearDown(self):              <span style="color: #008000;">#</span><span style="color: #008000;">TestCase类中定义的方法，tearDown()进行执行测试后的清除工作，所以它总是案例执行后最后执行</span>
<span style="color: #008080;"> 9</span>         <span style="color: #0000ff;">print</span>(<span style="color: #800000;">'</span><span style="color: #800000;">已处理</span><span style="color: #800000;">'</span><span style="color: #000000;">)
</span><span style="color: #008080;">10</span> 
<span style="color: #008080;">11</span>     <span style="color: #0000ff;">def</span> test_001(self):             <span style="color: #008000;">#</span><span style="color: #008000;">第一个测试案例</span>
<span style="color: #008080;">12</span>         <span style="color: #0000ff;">print</span>(<span style="color: #800000;">'</span><span style="color: #800000;">案例_001</span><span style="color: #800000;">'</span><span style="color: #000000;">)
</span><span style="color: #008080;">13</span> 
<span style="color: #008080;">14</span>     <span style="color: #0000ff;">def</span> test_002(self):            <span style="color: #008000;">#</span><span style="color: #008000;">第二个测试案例</span>
<span style="color: #008080;">15</span>         <span style="color: #0000ff;">print</span>(<span style="color: #800000;">'</span><span style="color: #800000;">案例_002</span><span style="color: #800000;">'</span><span style="color: #000000;">)
</span><span style="color: #008080;">16</span> 
<span style="color: #008080;">17</span> <span style="color: #0000ff;">if</span> <span style="color: #800080;">__name__</span> == <span style="color: #800000;">'</span><span style="color: #800000;">__main__</span><span style="color: #800000;">'</span><span style="color: #000000;">:
</span><span style="color: #008080;">18</span>         unittest.main(verbosity=2)   <span style="color: #008000;">#</span><span style="color: #008000;">#单元测试运行需要unittest.main()，作用是将一个单元测试模块变成可以直接运行的测试脚本</span></pre>
</div>
<pre><code><span style="font-family: Microsoft YaHei; font-size: 14px;">verbosity是有三个值,每个值表示的测试结果信息不一样。</span><br /><span style="font-family: Microsoft YaHei; font-size: 14px;">0 (静默模式): 你只能获得总的测试用例数和总的结果 比如 总共100个 失败20 成功80</span><br /><span style="font-family: Microsoft YaHei; font-size: 14px;">1 (默认模式): 非常类似静默模式 只是在每个成功的用例前面有个&ldquo;.&rdquo; 每个失败的用例前面有个 &ldquo;F&rdquo;</span><br /><span style="font-family: Microsoft YaHei; font-size: 14px;">2 (详细模式):测试结果会显示每个测试用例的所有相关的信息 </span></pre>
<p><span style="font-family: Microsoft YaHei;">我们看下运行后的setup 和 tearDown两个方法的执行顺序：</span></p>
<p><img src="./images/python+unittest框架第一天unittest之简单认识Test Fixure：测试固件【8月17更新】0.png" alt="" /></p>
<pre><code>我相信你已经理解我的笔记意思，接下来我们继续：<br />看下setup()和tearDown()方法与setupclass()和tearDownclass()方法的区别：</pre>
<div class="cnblogs_code">
<pre><code>TestCase类中定义的方法：<br />setUp():          该方法：进行测试前的初始化工作,每条案例都会执行一遍   <br />tearDown():       该方法：进行执行测试后的清除工作（比如关闭浏览器），每条案例都会执行一遍<br /><br /><span style="color: #ff0000;">敲黑板！！！注意加class后两个方法的区别：</span><br /><br />setUpClass()     该方法：进行测试前的初始化工作,与setUp()是有区别的，不会每个案例都执行一遍，只会在第一个案例开始前执行一次<br />tearDownClass()  该方法：进行测试前的初始化工作,与tearDown()是有区别的，不会每个案例都执行一遍，只会在最后一个案例结束后执行一次<br />'''<br /><span style="color: #ff0000;">我们看下 setupclass()和 tearDownclass()方法在下面小案例中发生了什么：</span></pre>
</div>
<div class="cnblogs_code">
<pre><code><span style="color: #008080;"> 1</span> <span style="color: #0000ff;">import</span> unittest                     <span style="color: #008000;">#</span><span style="color: #008000;">导入unittest</span>
<span style="color: #008080;"> 2</span> <span style="color: #0000ff;">import</span> time as t                    <span style="color: #008000;">#</span><span style="color: #008000;">导入time  设置别名 t</span>
<span style="color: #008080;"> 3</span> <span style="color: #0000ff;">from</span> selenium <span style="color: #0000ff;">import</span> webdriver      <span style="color: #008000;">#</span><span style="color: #008000;">导入selenium中的webdriver</span>
<span style="color: #008080;"> 4</span> 
<span style="color: #008080;"> 5</span> <span style="color: #0000ff;">class</span> page_baidu(unittest.TestCase):       <span style="color: #008000;">#</span><span style="color: #008000;">定义一个类，并继承unittest.TestCase类</span>
<span style="color: #008080;"> 6</span> 
<span style="color: #008080;"> 7</span>     @classmethod                           <span style="color: #008000;">#</span><span style="color: #008000;">使用 @classmethod  装饰器函数，把方法变成类方法，可以直接调用方法，不需要实例化类对象就可以调用方法</span>
<span style="color: #008080;"> 8</span>     <span style="color: #0000ff;">def</span> setUpClass(cls):                   <span style="color: #008000;">#</span><span style="color: #008000;">#  setUpClass()  该方法：进行测试前的初始化工作,与setUp()是有区别的，不会每个案例都执行一遍，</span>
<span style="color: #008080;"> 9</span>         cls.driver = webdriver.Chrome()    <span style="color: #008000;">#</span><span style="color: #008000;">实例化webdriver()对象</span>
<span style="color: #008080;">10</span>         cls.driver.maximize_window()      <span style="color: #008000;">#</span><span style="color: #008000;">打开浏览器最大化</span>
<span style="color: #008080;">11</span>         cls.driver.implicitly_wait(15)   <span style="color: #008000;">#</span><span style="color: #008000;">隐性等待时间设置15秒，比如页面加载打不开，我们最多等待15秒，适用于全局</span>
<span style="color: #008080;">12</span>         cls.driver.get(r<span style="color: #800000;">'</span><span style="color: #800000;">http://www.baidu.com</span><span style="color: #800000;">'</span>)   <span style="color: #008000;">#</span><span style="color: #008000;">打开百度地址</span>
<span style="color: #008080;">13</span>         t.sleep(2)                 <span style="color: #008000;">#</span><span style="color: #008000;">设置强制等待2秒，就是必须等待，用导入的time中的sleep方法，不是全局性，哪里需要设置到哪里，局部的</span>
<span style="color: #008080;">14</span> <span style="color: #000000;">    @classmethod
</span><span style="color: #008080;">15</span>     <span style="color: #0000ff;">def</span> tearDownClass(cls):        <span style="color: #008000;">#</span><span style="color: #008000;">最后执行的工作</span>
<span style="color: #008080;">16</span>         cls.driver.quit()           <span style="color: #008000;">#</span><span style="color: #008000;">设置关闭浏览器</span>
<span style="color: #008080;">17</span> 
<span style="color: #008080;">18</span>     <span style="color: #0000ff;">def</span> test_baidu_news(self):     <span style="color: #008000;">#</span><span style="color: #008000;">案例一</span>
<span style="color: #008080;">19</span>         self.driver.find_element_by_link_text(<span style="color: #800000;">'</span><span style="color: #800000;">新闻</span><span style="color: #800000;">'</span>).click()    <span style="color: #008000;">#</span><span style="color: #008000;">点击百度页面，超链接【新闻】两个字</span>
<span style="color: #008080;">20</span>         t.sleep(2)     <span style="color: #008000;">#</span><span style="color: #008000;">设置强制等待2秒，就是必须等待，用导入的time中的sleep方法，不是全局性，哪里需要设置到哪里，局部的</span>
<span style="color: #008080;">21</span> 
<span style="color: #008080;">22</span>     <span style="color: #0000ff;">def</span> test_baidu_map(self):      <span style="color: #008000;">#</span><span style="color: #008000;">  因为第一条案例执行后，setUpClass()方法没有在第二条案例开始的时候进行初始化，所以导致没有回到百度首页，所以选择text文本找不到&lsquo;新闻&rsquo;两个字的超链接，导致有异常出现。</span>
<span style="color: #008080;">23</span>         self.driver.find_element_by_link_text(<span style="color: #800000;">'</span><span style="color: #800000;">地图</span><span style="color: #800000;">'</span><span style="color: #000000;">).click()
</span><span style="color: #008080;">24</span>         t.sleep(2<span style="color: #000000;">)
</span><span style="color: #008080;">25</span> <span style="color: #0000ff;">if</span> <span style="color: #800080;">__name__</span> ==<span style="color: #800000;">'</span><span style="color: #800000;">__main__</span><span style="color: #800000;">'</span><span style="color: #000000;">:
</span><span style="color: #008080;">26</span>     unittest.main(verbosity=2)    <span style="color: #008000;">#</span><span style="color: #008000;">单元测试运行需要unittest.main()，作用是将一个单元测试模块变成可以直接运行的测试脚本</span></pre>
</div>
<p>我们看下执行后的结果：</p>
<p><img src="./images/python+unittest框架第一天unittest之简单认识Test Fixure：测试固件【8月17更新】1.png" alt="" /></p>
<p><img src="./images/python+unittest框架第一天unittest之简单认识Test Fixure：测试固件【8月17更新】2.png" alt="" /></p>
<p>&nbsp;</p>
<p>如果仔细看了我的笔记，或者你运行了代码，那么你应该知道为啥失败了吧~~~如果不知道，欢迎留言，一起学习</p>
<p>接下来我们看下setUp() 和 tearDown() 方法:</p>
<div class="cnblogs_code">
<pre><code><span style="color: #008080;"> 1</span> <span style="color: #0000ff;">import</span> unittest                     <span style="color: #008000;">#</span><span style="color: #008000;">导入unittest</span>
<span style="color: #008080;"> 2</span> <span style="color: #0000ff;">import</span> time as t                    <span style="color: #008000;">#</span><span style="color: #008000;">导入time  设置别名 t</span>
<span style="color: #008080;"> 3</span> <span style="color: #0000ff;">from</span> selenium <span style="color: #0000ff;">import</span> webdriver      <span style="color: #008000;">#</span><span style="color: #008000;">导入selenium中的webdriver</span>
<span style="color: #008080;"> 4</span> 
<span style="color: #008080;"> 5</span> <span style="color: #0000ff;">class</span> page_baidu(unittest.TestCase):       <span style="color: #008000;">#</span><span style="color: #008000;">定义一个类，并继承unittest.TestCase类</span>
<span style="color: #008080;"> 6</span> 
<span style="color: #008080;"> 7</span>     @classmethod                           <span style="color: #008000;">#</span><span style="color: #008000;">使用 @classmethod  装饰器函数，把方法变成类方法，可以直接调用方法，不需要实例化类对象就可以调用方法</span>
<span style="color: #008080;"> 8</span>     <span style="color: #0000ff;">def</span> setUp(cls):                   <span style="color: #008000;">#</span><span style="color: #008000;">#  setUpClass()  该方法：进行测试前的初始化工作,每条案例开始前都会进行一次</span>
<span style="color: #008080;"> 9</span>         cls.driver = webdriver.Chrome()    <span style="color: #008000;">#</span><span style="color: #008000;">实例化webdriver()对象</span>
<span style="color: #008080;">10</span>         cls.driver.maximize_window()      <span style="color: #008000;">#</span><span style="color: #008000;">打开浏览器最大化</span>
<span style="color: #008080;">11</span>         cls.driver.implicitly_wait(15)   <span style="color: #008000;">#</span><span style="color: #008000;">隐性等待时间设置15秒，比如页面加载打不开，我们最多等待15秒，适用于全局</span>
<span style="color: #008080;">12</span>         cls.driver.get(r<span style="color: #800000;">'</span><span style="color: #800000;">http://www.baidu.com</span><span style="color: #800000;">'</span>)   <span style="color: #008000;">#</span><span style="color: #008000;">打开百度地址</span>
<span style="color: #008080;">13</span>         t.sleep(2)                 <span style="color: #008000;">#</span><span style="color: #008000;">设置强制等待2秒，就是必须等待，用导入的time中的sleep方法，不是全局性，哪里需要设置到哪里，局部的</span>
<span style="color: #008080;">14</span> <span style="color: #000000;">    @classmethod
</span><span style="color: #008080;">15</span>     <span style="color: #0000ff;">def</span> tearDown(cls):        <span style="color: #008000;">#</span><span style="color: #008000;">最后执行的工作，每条案例开始前都会进行一次</span>
<span style="color: #008080;">16</span>         cls.driver.quit()           <span style="color: #008000;">#</span><span style="color: #008000;">设置关闭浏览器</span>
<span style="color: #008080;">17</span> 
<span style="color: #008080;">18</span>     <span style="color: #0000ff;">def</span> test_baidu_news(self):     <span style="color: #008000;">#</span><span style="color: #008000;">案例一</span>
<span style="color: #008080;">19</span>         self.driver.find_element_by_link_text(<span style="color: #800000;">'</span><span style="color: #800000;">新闻</span><span style="color: #800000;">'</span>).click()    <span style="color: #008000;">#</span><span style="color: #008000;">点击百度页面，超链接【新闻】两个字</span>
<span style="color: #008080;">20</span>         t.sleep(2)     <span style="color: #008000;">#</span><span style="color: #008000;">设置强制等待2秒，就是必须等待，用导入的time中的sleep方法，不是全局性，哪里需要设置到哪里，局部的</span>
<span style="color: #008080;">21</span> 
<span style="color: #008080;">22</span>     <span style="color: #0000ff;">def</span> test_baidu_map(self):      <span style="color: #008000;">#</span><span style="color: #008000;">  因为第一条案例执行后，setUp()方法在第二条案例开始的时候，先进行初始化，所以可以在百度首页，找到&lsquo;新闻&rsquo;两个字的超链接。</span>
<span style="color: #008080;">23</span>         self.driver.find_element_by_link_text(<span style="color: #800000;">'</span><span style="color: #800000;">地图</span><span style="color: #800000;">'</span><span style="color: #000000;">).click()
</span><span style="color: #008080;">24</span>         t.sleep(2<span style="color: #000000;">)
</span><span style="color: #008080;">25</span> <span style="color: #0000ff;">if</span> <span style="color: #800080;">__name__</span> ==<span style="color: #800000;">'</span><span style="color: #800000;">__main__</span><span style="color: #800000;">'</span><span style="color: #000000;">:
</span><span style="color: #008080;">26</span>     unittest.main(verbosity=2)    <span style="color: #008000;">#</span><span style="color: #008000;">单元测试运行需要unittest.main()，作用是将一个单元测试模块变成可以直接运行的测试脚本</span></pre>
</div>
<p><img src="./images/python+unittest框架第一天unittest之简单认识Test Fixure：测试固件【8月17更新】3.png" alt="" /></p>
<p>为什么setUp() 和 tearDown() 方法可以将两条案例都执行通过，我想你们应该明白了！！</p>
<p>&nbsp;那么仔细的你会发现案例中的两个案例是这样的;</p>
<div class="cnblogs_code">
<pre><code><span style="color: #008080;">1</span>     <span style="color: #0000ff;">def</span> test_baidu_news(self):     <span style="color: #008000;">#</span><span style="color: #008000;">案例一</span>
<span style="color: #008080;">2</span>         self.driver.find_element_by_link_text(<span style="color: #800000;">'</span><span style="color: #800000;">新闻</span><span style="color: #800000;">'</span>).click()    <span style="color: #008000;">#</span><span style="color: #008000;">点击百度页面，超链接【新闻】两个字</span>
<span style="color: #008080;">3</span>         t.sleep(2)     <span style="color: #008000;">#</span><span style="color: #008000;">设置强制等待2秒，就是必须等待，用导入的time中的sleep方法，不是全局性，哪里需要设置到哪里，局部的</span>
<span style="color: #008080;">4</span> 
<span style="color: #008080;">5</span>     <span style="color: #0000ff;">def</span> test_baidu_map(self):      <span style="color: #008000;">#</span><span style="color: #008000;">  因为第一条案例执行后，setUp()方法在第二条案例开始的时候，先进行初始化，所以可以在百度首页，找到&lsquo;新闻&rsquo;两个字的超链接。</span>
<span style="color: #008080;">6</span>         self.driver.find_element_by_link_text(<span style="color: #800000;">'</span><span style="color: #800000;">地图</span><span style="color: #800000;">'</span><span style="color: #000000;">).click()
</span><span style="color: #008080;">7</span>         t.sleep(2)</pre>
</div>
<p>执行结果是这样滴：</p>
<p><img src="./images/python+unittest框架第一天unittest之简单认识Test Fixure：测试固件【8月17更新】4.png" alt="" /></p>
<p>不要慌，看笔记：</p>
<p>test_baidu_map ()<br />test_baidu_news()</p>
<p>之所以先执行是，因为会对名字进行比较，两条案例名字的前半部分都是一样的，但是到m和n的时候就不一样了，在ASCLL码中将m和n分别转换为数字后：</p>
<p>函数: ord() &nbsp;&nbsp; 它以一个字符（长度为1的字符串）作为参数，返回对应的 ASCII 数值.看清楚哦，是一个字符，不要输入多个哦。</p>
<div class="cnblogs_code">
<pre><code><span style="color: #008080;">1</span> <span style="color: #0000ff;">print</span>(<span style="color: #800000;">'</span><span style="color: #800000;">m转换为ASCLL码是数字： </span><span style="color: #800000;">'</span>,ord(<span style="color: #800000;">'</span><span style="color: #800000;">m</span><span style="color: #800000;">'</span><span style="color: #000000;">))
</span><span style="color: #008080;">2</span> 
<span style="color: #008080;">3</span> <span style="color: #0000ff;">print</span>(<span style="color: #800000;">'</span><span style="color: #800000;">n转换为ASCLL码是数字： </span><span style="color: #800000;">'</span>,ord(<span style="color: #800000;">'</span><span style="color: #800000;">n</span><span style="color: #800000;">'</span><span style="color: #000000;">))
</span><span style="color: #008080;">4</span> 
<span style="color: #008080;">5</span> <span style="color: #0000ff;">print</span>(<span style="color: #800000;">'</span><span style="color: #800000;">我们发现m=109,n=110,所以执行的顺序是先执行109</span><span style="color: #800000;">'</span>)</pre>
</div>
<p><img src="./images/python+unittest框架第一天unittest之简单认识Test Fixure：测试固件【8月17更新】5.png" alt="" /></p>
<p>&nbsp;</p>
<p>什么是ASCII码：自己百度哦，下面附上百度找到的常见的对照，还有哦，小写字母和大写字母的数字是不一样的！！看下面的图吧，如果不理解留言哦</p>
<p><img src="./images/python+unittest框架第一天unittest之简单认识Test Fixure：测试固件【8月17更新】6.png" alt="" /></p>
<p>&nbsp;</p>
<p>&nbsp;在我们知道了unittest框架执行的顺序规则后，我们可以直接用数字，让案例从我们要求的顺序开始执行。</p>
<p>注意：执行顺序是按照数字从小到大执行。</p>
<div class="cnblogs_code">
<pre><code><span style="color: #008080;"> 1</span> <span style="color: #0000ff;">import</span> unittest                     <span style="color: #008000;">#</span><span style="color: #008000;">导入unittest</span>
<span style="color: #008080;"> 2</span> <span style="color: #0000ff;">import</span> time as t                    <span style="color: #008000;">#</span><span style="color: #008000;">导入time  设置别名 t</span>
<span style="color: #008080;"> 3</span> <span style="color: #0000ff;">from</span> selenium <span style="color: #0000ff;">import</span> webdriver      <span style="color: #008000;">#</span><span style="color: #008000;">导入selenium中的webdriver</span>
<span style="color: #008080;"> 4</span> 
<span style="color: #008080;"> 5</span> <span style="color: #0000ff;">class</span> page_baidu(unittest.TestCase):       <span style="color: #008000;">#</span><span style="color: #008000;">定义一个类，并继承unittest.TestCase类</span>
<span style="color: #008080;"> 6</span> 
<span style="color: #008080;"> 7</span>     @classmethod                           <span style="color: #008000;">#</span><span style="color: #008000;">使用 @classmethod  装饰器函数，把方法变成类方法，可以直接调用方法，不需要实例化类对象就可以调用方法</span>
<span style="color: #008080;"> 8</span>     <span style="color: #0000ff;">def</span><span style="color: #000000;"> setUp(cls):
</span><span style="color: #008080;"> 9</span>         cls.driver =<span style="color: #000000;"> webdriver.Chrome()
</span><span style="color: #008080;">10</span> <span style="color: #000000;">        cls.driver.maximize_window()
</span><span style="color: #008080;">11</span>         cls.driver.implicitly_wait(15<span style="color: #000000;">)
</span><span style="color: #008080;">12</span>         cls.driver.get(r<span style="color: #800000;">'</span><span style="color: #800000;">http://www.baidu.com</span><span style="color: #800000;">'</span><span style="color: #000000;">)
</span><span style="color: #008080;">13</span>         t.sleep(2<span style="color: #000000;">)
</span><span style="color: #008080;">14</span> <span style="color: #000000;">    @classmethod
</span><span style="color: #008080;">15</span>     <span style="color: #0000ff;">def</span><span style="color: #000000;"> tearDown(cls):
</span><span style="color: #008080;">16</span> <span style="color: #000000;">        cls.driver.quit()
</span><span style="color: #008080;">17</span> 
<span style="color: #008080;">18</span>     <span style="color: #0000ff;">def</span> test_baidu_001(self):     <span style="color: #008000;">#</span><span style="color: #008000;">案例001  测试进入百度新闻界面</span>
<span style="color: #008080;">19</span>         self.driver.find_element_by_link_text(<span style="color: #800000;">'</span><span style="color: #800000;">新闻</span><span style="color: #800000;">'</span>).click()    <span style="color: #008000;">#</span><span style="color: #008000;">点击百度页面，超链接【新闻】两个字</span>
<span style="color: #008080;">20</span>         t.sleep(2)     <span style="color: #008000;">#</span><span style="color: #008000;">设置强制等待2秒，就是必须等待，用导入的time中的sleep方法，不是全局性，哪里需要设置到哪里，局部的</span>
<span style="color: #008080;">21</span> 
<span style="color: #008080;">22</span>     <span style="color: #0000ff;">def</span> test_baidu__002(self):      <span style="color: #008000;">#</span><span style="color: #008000;">案例002  测试进入百度地图界面</span>
<span style="color: #008080;">23</span>         self.driver.find_element_by_link_text(<span style="color: #800000;">'</span><span style="color: #800000;">地图</span><span style="color: #800000;">'</span>).click()   <span style="color: #008000;">#</span><span style="color: #008000;">#点击百度页面，超链接【地图】两个字</span>
<span style="color: #008080;">24</span>         t.sleep(2<span style="color: #000000;">)
</span><span style="color: #008080;">25</span> <span style="color: #0000ff;">if</span> <span style="color: #800080;">__name__</span> ==<span style="color: #800000;">'</span><span style="color: #800000;">__main__</span><span style="color: #800000;">'</span><span style="color: #000000;">:
</span><span style="color: #008080;">26</span>     unittest.main(verbosity=2)    <span style="color: #008000;">#</span><span style="color: #008000;">单元测试运行需要unittest.main()，作用是将一个单元测试模块变成可以直接运行的测试脚本</span></pre>
</div>
<p><img src="./images/python+unittest框架第一天unittest之简单认识Test Fixure：测试固件【8月17更新】7.png" alt="" /></p>
<p>顺序的问题我们清楚了，可是如果我们真的有上百条案了，当测试结果和上面的图一样的时候，我们还是会懵逼，比如测试结果第二条失败，那么第二条的测试内容测试点是什么？如果有上百条的test_baidu_00N&nbsp; 我们会记不住的，所以我们再次优化：我们在测试案例的方法中添加了注释</p>
<div class="cnblogs_code">
<pre><code><span style="color: #008080;"> 1</span> <span style="color: #0000ff;">import</span> unittest                     <span style="color: #008000;">#</span><span style="color: #008000;">导入unittest</span>
<span style="color: #008080;"> 2</span> <span style="color: #0000ff;">import</span> time as t                    <span style="color: #008000;">#</span><span style="color: #008000;">导入time  设置别名 t</span>
<span style="color: #008080;"> 3</span> <span style="color: #0000ff;">from</span> selenium <span style="color: #0000ff;">import</span> webdriver      <span style="color: #008000;">#</span><span style="color: #008000;">导入selenium中的webdriver</span>
<span style="color: #008080;"> 4</span> 
<span style="color: #008080;"> 5</span> <span style="color: #0000ff;">class</span> page_baidu(unittest.TestCase):       <span style="color: #008000;">#</span><span style="color: #008000;">定义一个类，并继承unittest.TestCase类</span>
<span style="color: #008080;"> 6</span> 
<span style="color: #008080;"> 7</span>     @classmethod                           <span style="color: #008000;">#</span><span style="color: #008000;">使用 @classmethod  装饰器函数，把方法变成类方法，可以直接调用方法，不需要实例化类对象就可以调用方法</span>
<span style="color: #008080;"> 8</span>     <span style="color: #0000ff;">def</span><span style="color: #000000;"> setUp(cls):
</span><span style="color: #008080;"> 9</span>         cls.driver =<span style="color: #000000;"> webdriver.Chrome()
</span><span style="color: #008080;">10</span> <span style="color: #000000;">        cls.driver.maximize_window()
</span><span style="color: #008080;">11</span>         cls.driver.implicitly_wait(15<span style="color: #000000;">)
</span><span style="color: #008080;">12</span>         cls.driver.get(r<span style="color: #800000;">'</span><span style="color: #800000;">http://www.baidu.com</span><span style="color: #800000;">'</span><span style="color: #000000;">)
</span><span style="color: #008080;">13</span>         t.sleep(2<span style="color: #000000;">)
</span><span style="color: #008080;">14</span> <span style="color: #000000;">    @classmethod
</span><span style="color: #008080;">15</span>     <span style="color: #0000ff;">def</span><span style="color: #000000;"> tearDown(cls):
</span><span style="color: #008080;">16</span> <span style="color: #000000;">        cls.driver.quit()
</span><span style="color: #008080;">17</span> 
<span style="color: #008080;">18</span>     <span style="color: #800000;">'''</span><span style="color: #800000;">以下案例是测试百度首页链接</span><span style="color: #800000;">'''</span>
<span style="color: #008080;">19</span>     <span style="color: #0000ff;">def</span> test_baidu_001(self):     <span style="color: #008000;">#</span><span style="color: #008000;">案例001  测试进入百度新闻界面</span>
<span style="color: #008080;">20</span>         <span style="color: #800000;">'''</span><span style="color: #800000;">测试百度首新闻链接</span><span style="color: #800000;">'''</span>
<span style="color: #008080;">21</span>         self.driver.find_element_by_link_text(<span style="color: #800000;">'</span><span style="color: #800000;">新闻</span><span style="color: #800000;">'</span>).click()    <span style="color: #008000;">#</span><span style="color: #008000;">点击百度页面，超链接【新闻】两个字</span>
<span style="color: #008080;">22</span>         t.sleep(2)     <span style="color: #008000;">#</span><span style="color: #008000;">设置强制等待2秒，就是必须等待，用导入的time中的sleep方法，不是全局性，哪里需要设置到哪里，局部的</span>
<span style="color: #008080;">23</span> 
<span style="color: #008080;">24</span>     <span style="color: #0000ff;">def</span> test_baidu_002(self):      <span style="color: #008000;">#</span><span style="color: #008000;">案例002  测试进入百度地图界面</span>
<span style="color: #008080;">25</span>         <span style="color: #800000;">'''</span><span style="color: #800000;">测试百度首地图链接</span><span style="color: #800000;">'''</span>
<span style="color: #008080;">26</span>         self.driver.find_element_by_link_text(<span style="color: #800000;">''</span>).click()   <span style="color: #008000;">#</span><span style="color: #008000;">#点击百度页面，超链接【地图】两个字</span>
<span style="color: #008080;">27</span>         t.sleep(2<span style="color: #000000;">)
</span><span style="color: #008080;">28</span> <span style="color: #000000;">        self.driver.back()
</span><span style="color: #008080;">29</span> 
<span style="color: #008080;">30</span>     <span style="color: #800000;">'''</span><span style="color: #800000;">以下案例是测试百度首页搜索</span><span style="color: #800000;">'''</span>
<span style="color: #008080;">31</span>     <span style="color: #0000ff;">def</span><span style="color: #000000;"> test_baidu_003(self):
</span><span style="color: #008080;">32</span>         <span style="color: #800000;">'''</span><span style="color: #800000;">测试百度首页搜索功能</span><span style="color: #800000;">'''</span>
<span style="color: #008080;">33</span>         self.driver.find_element_by_id(<span style="color: #800000;">'</span><span style="color: #800000;">kw</span><span style="color: #800000;">'</span>).send_keys(<span style="color: #800000;">'</span><span style="color: #800000;">你好朋友</span><span style="color: #800000;">'</span><span style="color: #000000;">)
</span><span style="color: #008080;">34</span> <span style="color: #0000ff;">if</span> <span style="color: #800080;">__name__</span> ==<span style="color: #800000;">'</span><span style="color: #800000;">__main__</span><span style="color: #800000;">'</span><span style="color: #000000;">:
</span><span style="color: #008080;">35</span>     unittest.main(verbosity=2)    <span style="color: #008000;">#</span><span style="color: #008000;">单元测试运行需要unittest.main()，作用是将一个单元测试模块变成可以直接运行的测试脚本</span></pre>
</div>
<p><img src="./images/python+unittest框架第一天unittest之简单认识Test Fixure：测试固件【8月17更新】8.png" alt="" /></p>
<p>这样即使我们有上百条案例，哪里出错后，我们都可以直观的看到，是那个测试点失败了。所以写测试案例的规范一定要遵守，给自己也给后面维护代码的人方便。</p>
<p>unittest组成部分：</p>
<p>TestCase：测试用例，测试用例里面会有很多测试方法，是单元测试中最小维度的测试行为</p>
<p><span style="color: #ff0000;">Test Fixure：测试固件，测试固件是执行测试时的准备工作和收尾工作（打开和关闭浏览器，链接和关闭数据库等等）</span></p>
<p>TestSuite：测试套件,是测试用例的集合</p>
<p>TestRunner：测试运行器，运行测试用例</p>
<p>TestReport：将测试结果呈现给用户，生成测试报告</p>
<p>总结：<span style="color: #ff0000;">测试固件的学习就是这么多了，后续有特殊的地方在单独笔记</span></p>
<p>1、知道了setup() &amp; tearDown() 两个方法的用法</p>
<p>2、了解了setup() &amp; tearDown() 与&nbsp;setupClass() &amp; tearDownClass() 他们之前的区别</p>
<p>3、知道了运行的顺序</p>
<p>4、对案例编写的规范有了一定程度的认识</p>
<p>&nbsp;</p>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>