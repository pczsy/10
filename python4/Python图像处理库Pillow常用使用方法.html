<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修Python图像处理库Pillow常用使用方法' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>Python图像处理库Pillow常用使用方法</center></div><div class='banquan'>原文出处:本文由博客园博主gdjlc提供。<br/>
原文连接:https://www.cnblogs.com/gdjlc/p/11444132.html</div><br>
    <p>PIL(Python Imaging Library)是Python一个强大方便的图像处理库，只支持到Python2.7。<br />Pillow是PIL的一个派生分支，在Python3中用Pillow代替PIL。<br />Pillow官网：<a href="https://pillow.readthedocs.io/en/latest/handbook/index.html" target="_blank">https://pillow.readthedocs.io/en/latest/handbook/index.html</a></p>
<p>下面是使用例子，用法可见代码注释。</p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">from</span> PIL <span style="color: #0000ff;">import</span><span style="color: #000000;"> Image,ImageFilter,ImageGrab,ImageDraw,ImageFont

</span><span style="color: #008000;">#</span><span style="color: #008000;"> 创建图片：宽800*高600，红色</span>
imNew = Image.new(<span style="color: #800000;">'</span><span style="color: #800000;">RGB</span><span style="color: #800000;">'</span>,(800,600),(255<span style="color: #000000;">,0,0))

</span><span style="color: #008000;">#</span><span style="color: #008000;"> 显示图片</span><span style="color: #008000;">
#</span><span style="color: #008000;">imNew.show()</span>

<span style="color: #008000;">#</span><span style="color: #008000;"> 抓取屏幕</span>
imGrab =<span style="color: #000000;"> ImageGrab.grab()
imGrab.save(</span><span style="color: #800000;">'</span><span style="color: #800000;">grab.jpg</span><span style="color: #800000;">'</span>, <span style="color: #800000;">'</span><span style="color: #800000;">jpeg</span><span style="color: #800000;">'</span><span style="color: #000000;">)

</span><span style="color: #008000;">#</span><span style="color: #008000;"> 打开图片</span>
im = Image.open(<span style="color: #800000;">'</span><span style="color: #800000;">1.jpg</span><span style="color: #800000;">'</span><span style="color: #000000;">)

</span><span style="color: #008000;">#</span><span style="color: #008000;"> 复制图片</span>
im1 =<span style="color: #000000;"> im.copy()
im2 </span>=<span style="color: #000000;"> im.copy()
im3 </span>=<span style="color: #000000;"> im.copy()
im4 </span>=<span style="color: #000000;"> im.copy()
im5 </span>=<span style="color: #000000;"> im.copy()
im6 </span>=<span style="color: #000000;"> im.copy()
im7 </span>=<span style="color: #000000;"> im.copy()

</span><span style="color: #008000;">#</span><span style="color: #008000;"> 获得图片宽高:</span>
w, h =<span style="color: #000000;"> im.size
</span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">'</span><span style="color: #800000;">图片宽高:{} * {}</span><span style="color: #800000;">'</span><span style="color: #000000;">.format(w, h))

</span><span style="color: #008000;">#</span><span style="color: #008000;"> 缩略图（图片不会被拉伸，只能缩小）</span>
im.thumbnail((w//2, h//2<span style="color: #000000;">))
im.save(</span><span style="color: #800000;">'</span><span style="color: #800000;">1_thumbnail.jpg</span><span style="color: #800000;">'</span>, <span style="color: #800000;">'</span><span style="color: #800000;">jpeg</span><span style="color: #800000;">'</span><span style="color: #000000;">)

</span><span style="color: #008000;">#</span><span style="color: #008000;"> 缩放（图片可能会被拉伸，可缩小也可放大）</span>
im1 = im1.resize((w//2, h//2<span style="color: #000000;">))
im1.save(</span><span style="color: #800000;">'</span><span style="color: #800000;">1_resize.jpg</span><span style="color: #800000;">'</span>, <span style="color: #800000;">'</span><span style="color: #800000;">jpeg</span><span style="color: #800000;">'</span><span style="color: #000000;">)

</span><span style="color: #008000;">#</span><span style="color: #008000;"> 模糊图片</span>
im2 =<span style="color: #000000;"> im2.filter(ImageFilter.BLUR)
im2.save(</span><span style="color: #800000;">'</span><span style="color: #800000;">1_blur.jpg</span><span style="color: #800000;">'</span>, <span style="color: #800000;">'</span><span style="color: #800000;">jpeg</span><span style="color: #800000;">'</span><span style="color: #000000;">)

</span><span style="color: #008000;">#</span><span style="color: #008000;"> 旋转图片，逆时钟旋转45度</span>
im3 = im3.rotate(45<span style="color: #000000;">)
im3.save(</span><span style="color: #800000;">'</span><span style="color: #800000;">1_rotate.jpg</span><span style="color: #800000;">'</span>, <span style="color: #800000;">'</span><span style="color: #800000;">jpeg</span><span style="color: #800000;">'</span><span style="color: #000000;">)

</span><span style="color: #008000;">#</span><span style="color: #008000;"> 图片转换：左右转换 FLIP_LEFT_RIGHT，上下转换 FLIP_TOP_BOTTOM</span>
im4 =<span style="color: #000000;"> im4.transpose(Image.FLIP_LEFT_RIGHT)
im4.save(</span><span style="color: #800000;">'</span><span style="color: #800000;">1_transpose.jpg</span><span style="color: #800000;">'</span>, <span style="color: #800000;">'</span><span style="color: #800000;">jpeg</span><span style="color: #800000;">'</span><span style="color: #000000;">)

</span><span style="color: #008000;">#</span><span style="color: #008000;"> 图片裁剪</span>
box = (200,200,400,400) <span style="color: #008000;">#</span><span style="color: #008000;">左上角(0,0)，4元组表示坐标位置：左、上、右、下</span>
im5 =<span style="color: #000000;"> im5.crop(box)
im5.save(</span><span style="color: #800000;">'</span><span style="color: #800000;">1_crop.jpg</span><span style="color: #800000;">'</span>, <span style="color: #800000;">'</span><span style="color: #800000;">jpeg</span><span style="color: #800000;">'</span><span style="color: #000000;">)

</span><span style="color: #008000;">#</span><span style="color: #008000;"> 图片上添加文字</span>
draw =<span style="color: #000000;"> ImageDraw.Draw(im6)
</span><span style="color: #008000;">#</span><span style="color: #008000;">truetype设置字体、文字大小</span><span style="color: #008000;">
#</span><span style="color: #008000;">stxingka.ttf华文行楷 simkai.ttf 楷体 simli.ttf 隶书</span>
font = ImageFont.truetype(<span style="color: #800000;">"</span><span style="color: #800000;">C:\\WINDOWS\\Fonts\\stxingka.ttf</span><span style="color: #800000;">"</span>, 20<span style="color: #000000;">) 
draw.text((</span>100,100), (<span style="color: #800000;">'</span><span style="color: #800000;">hello word \n你好，世界</span><span style="color: #800000;">'</span>), fill=<span style="color: #800000;">'</span><span style="color: #800000;">#0000ff</span><span style="color: #800000;">'</span>, font=<span style="color: #000000;">font)
im6.save(</span><span style="color: #800000;">'</span><span style="color: #800000;">1_drawText.jpg</span><span style="color: #800000;">'</span>, <span style="color: #800000;">'</span><span style="color: #800000;">jpeg</span><span style="color: #800000;">'</span><span style="color: #000000;">)

</span><span style="color: #008000;">#</span><span style="color: #008000;"> 图片上添加图片（粘贴图片）</span>
imTmp = Image.new(<span style="color: #800000;">'</span><span style="color: #800000;">RGB</span><span style="color: #800000;">'</span>,(30,30),<span style="color: #800000;">'</span><span style="color: #800000;">blue</span><span style="color: #800000;">'</span><span style="color: #000000;">)
im7.paste(imTmp, (</span>50,50)) <span style="color: #008000;">#</span><span style="color: #008000;">第2个参数为坐标</span>
im7.save(<span style="color: #800000;">'</span><span style="color: #800000;">1_paste.jpg</span><span style="color: #800000;">'</span>,<span style="color: #800000;">'</span><span style="color: #800000;">jpeg</span><span style="color: #800000;">'</span><span style="color: #000000;">)


</span><span style="color: #008000;">#</span><span style="color: #008000;"> 图片横向拼接：拼接上面im6、im7（两张图片大小一样）</span>
im6Width, im6Height =<span style="color: #000000;"> im6.size
imHorizontal </span>= Image.new(<span style="color: #800000;">'</span><span style="color: #800000;">RGB</span><span style="color: #800000;">'</span>, (im6Width * 2<span style="color: #000000;">, im6Height))
imHorizontal.paste(im6, (0,0))
imHorizontal.paste(im7, (im6Width,0))
imHorizontal.save(</span><span style="color: #800000;">'</span><span style="color: #800000;">1_horizontal.jpg</span><span style="color: #800000;">'</span>, <span style="color: #800000;">'</span><span style="color: #800000;">jpeg</span><span style="color: #800000;">'</span><span style="color: #000000;">)

</span><span style="color: #008000;">#</span><span style="color: #008000;"> 图片竖向拼接：拼接上面im6、im7</span>
imVertical = Image.new(<span style="color: #800000;">'</span><span style="color: #800000;">RGB</span><span style="color: #800000;">'</span>, (im6Width, im6Height*2<span style="color: #000000;">))
imVertical.paste(im6, (0,0))
imVertical.paste(im7, (0,im6Height))
imVertical.save(</span><span style="color: #800000;">'</span><span style="color: #800000;">1_vertical.jpg</span><span style="color: #800000;">'</span>, <span style="color: #800000;">'</span><span style="color: #800000;">jpeg</span><span style="color: #800000;">'</span>)</pre>
</div>
<p>&nbsp;</p>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>