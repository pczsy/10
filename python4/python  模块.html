<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修python  模块' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>python  模块</center></div><div class='banquan'>原文出处:本文由博客园博主chenhongyong提供。<br/>
原文连接:https://www.cnblogs.com/chy18883701161/p/11300222.html</div><br>
    <p>&nbsp;</p>
<p>要先导入模块，才能调用用模块中定义的函数（才会有该模块的代码提示）。</p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">import</span>  模块   <span style="color: #008000;">#</span><span style="color: #008000;">导入一个模块</span>

<span style="color: #0000ff;">import</span>  模块1，模块2，....    <span style="color: #008000;">#</span><span style="color: #008000;">同时导入多个模块</span>

<span style="color: #0000ff;">from</span>  模块  <span style="color: #0000ff;">import</span>  部分   <span style="color: #008000;">#</span><span style="color: #008000;">导入一部分</span>

<span style="color: #0000ff;">from</span> 模块  <span style="color: #0000ff;">import</span>  部分1，部分2，部分3....     <span style="color: #008000;">#</span><span style="color: #008000;">导入一个模块的多个部分</span>

<span style="color: #0000ff;">from</span>  模块  <span style="color: #0000ff;">import</span>  *    <span style="color: #008000;">#</span><span style="color: #008000;">导入整个模块</span></pre>
</div>
<p>以上的&nbsp;<span class="cnblogs_code">模块</span>&nbsp;均可换为&nbsp;<span class="cnblogs_code">模块.子模块</span>&nbsp;，表示只导入子模块|从子模块中导入。</p>
<p>&nbsp;</p>
<p>导入之后就可以通过&nbsp; &nbsp;<span class="cnblogs_code">模块名.方法名()</span>&nbsp;&nbsp; 调用模块中的函数了。</p>
<p>&nbsp;</p>
<p>不管导入一个相同模块多少次，只会在第一次时导入。</p>
<p>比如写十行&nbsp;<span class="cnblogs_code"><span style="color: #0000ff;">import</span> math</span>&nbsp;，只有第一个&nbsp;<span class="cnblogs_code"><span style="color: #0000ff;">import</span> math</span>&nbsp;会导入math模块，避免了重复导入模块。</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h3>dir()函数</h3>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">import</span><span style="color: #000000;"> math
</span><span style="color: #0000ff;">print</span><span style="color: #000000;">(dir(math))  

</span><span style="color: #800000;">"""</span><span style="color: #800000;">
dir(模块名)    #列出该模块所有的成员变量、方法。需要先导入对应的模块。以字符串列表的形式返回。dir()是python的内置函数。
</span><span style="color: #800000;">"""</span></pre>
</div>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h2>&nbsp;</h2>
<p>一个python文件（.py）就是一个python模块，一个模块中可以定义多个类，定义多个方法，可以有可执行代码。</p>
<p>新建一个python文件：module1.py</p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">print</span>(<span style="color: #800000;">"</span><span style="color: #800000;">module start</span><span style="color: #800000;">"</span>)  <span style="color: #008000;">#</span><span style="color: #008000;">可执行代码</span>

<span style="color: #0000ff;">class</span> Test:  <span style="color: #008000;">#</span><span style="color: #008000;">定义类</span>
    <span style="color: #0000ff;">def</span><span style="color: #000000;"> out(self):
        </span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">"</span><span style="color: #800000;">test class</span><span style="color: #800000;">"</span><span style="color: #000000;">)

</span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">"</span><span style="color: #800000;">module1 running</span><span style="color: #800000;">"</span>)  <span style="color: #008000;">#</span><span style="color: #008000;">可执行代码</span>

<span style="color: #0000ff;">def</span> module1_test():  <span style="color: #008000;">#</span><span style="color: #008000;">定义方法</span>
    <span style="color: #0000ff;">print</span>(<span style="color: #800000;">"</span><span style="color: #800000;">test function</span><span style="color: #800000;">"</span><span style="color: #000000;">)

</span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">"</span><span style="color: #800000;">module1 over</span><span style="color: #800000;">"</span>)  <span style="color: #008000;">#</span><span style="color: #008000;">可执行代码</span></pre>
</div>
<p>一个模块有2个默认属性：__main__，__name__</p>
<p>&nbsp;</p>
<h3>__main__</h3>
<p>__main__即这个模块中所有的可执行代码。</p>
<p>导入一个模块时，会自动执行这个模块的__main__部分：</p>
<p>新建python文件module2.py</p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">import</span> module1</pre>
</div>
<p>执行module2.py，结果如下：</p>
<div class="cnblogs_code">
<pre><code><span style="color: #000000;">module start
module1 running
module1 over</span></pre>
</div>
<p>导入一个模块时，会自动执行这个模块的__main__部分（所有可执行代码）。</p>
<p>所以我们常常在__main__中做一些这个模块的初始化操作，习惯把这些代码放在文件开头。</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h3>__name__</h3>
<p>如果是在模块的类中、函数中，__name__表示当前执行的python文件的文件名（不带后缀.py）。</p>
<p>如果是在模块的可执行代码（__main__）中，__name__表示当前的模块（.py文件）是主动执行的，还是被调用的。如果__name__的值是"__main__则表示当前模块（.py文件）是主动执行的。</p>
<p>&nbsp;</p>
<p>module1.py如下：</p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">if</span> <span style="color: #800080;">__name__</span>==<span style="color: #800000;">"</span><span style="color: #800000;">__main__</span><span style="color: #800000;">"</span><span style="color: #000000;">:
    </span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">"</span><span style="color: #800000;">主动调用</span><span style="color: #800000;">"</span><span style="color: #000000;">)
</span><span style="color: #0000ff;">else</span><span style="color: #000000;">:
    </span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">"</span><span style="color: #800000;">被动调用</span><span style="color: #800000;">"</span><span style="color: #000000;">)

</span><span style="color: #0000ff;">class</span> Test:  <span style="color: #008000;">#</span><span style="color: #008000;">定义类</span>
    <span style="color: #0000ff;">def</span><span style="color: #000000;"> out(self):
        </span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">"</span><span style="color: #800000;">test class</span><span style="color: #800000;">"</span><span style="color: #000000;">)

</span><span style="color: #0000ff;">def</span> module1_test():  <span style="color: #008000;">#</span><span style="color: #008000;">定义方法</span>
    <span style="color: #0000ff;">print</span>(<span style="color: #800080;">__name__</span>)  <span style="color: #008000;">#</span><span style="color: #008000;">在模块的类、方法中使用</span>
    <span style="color: #0000ff;">print</span>(<span style="color: #800000;">"</span><span style="color: #800000;">test function</span><span style="color: #800000;">"</span>)</pre>
</div>
<p>&nbsp;</p>
<p>module2.py如下：</p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">import</span><span style="color: #000000;"> module1
module1.module1_test()</span></pre>
</div>
<p>&nbsp;</p>
<p>执行module1.py:</p>
<div class="cnblogs_code">
<pre><code>主动调用</pre>
</div>
<p>&nbsp;</p>
<p>执行module2.py:</p>
<div class="cnblogs_code">
<pre><code><span style="color: #000000;">被动调用 
module1
test function</span></pre>
</div>
<p>&nbsp;</p>
<p>有时候我们需要在主动执行时做一种操作，在被调用时做不同的操作，就可以这样来实现：</p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">if</span> <span style="color: #800080;">__name__</span>==<span style="color: #800000;">"</span><span style="color: #800000;">__main__</span><span style="color: #800000;">"</span><span style="color: #000000;">:
    </span><span style="color: #008000;">#</span><span style="color: #008000;">主动调用时做的操作</span>
<span style="color: #0000ff;">else</span><span style="color: #000000;">:
    </span><span style="color: #008000;">#</span><span style="color: #008000;">被动调用时做的操作</span></pre>
</div>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h2>&nbsp;</h2>
<h2>包</h2>
<p>包相当于一个命名空间，各个包中的标识符是独立的，互不干扰。</p>
<p>一个包中可以有多个模块（.py文件），也可以有多个子包。</p>
<p>&nbsp;</p>
<p>一个包（包括子包），都要有__init__.py文件，这是这个包的索引文件（目录文件），相当于书的索引、目录，标识这本书（这个模块）有哪些章节（python文件|模块）。</p>
<p>__init__.py文件有一个属性__all__，即这个包的索引、目录，我们&nbsp;<span class="cnblogs_code"><span style="color: #0000ff;">import</span>&nbsp;包</span>&nbsp;或者&nbsp;<span class="cnblogs_code"><span style="color: #0000ff;">from</span>&nbsp;包&nbsp;<span style="color: #0000ff;">import</span> *</span>&nbsp;时（包可以看做一个大模块），python解释器会找到这个包的__init__.py中的__all__属性，根据其属性值导入这个包中的模块。</p>
<p>&nbsp;</p>
<p>比如包school中有3个py文件（模块）：student.py、teacher.py、leader.py。</p>
<p>__init__.py文件：</p>
<div class="cnblogs_code">
<pre><code><span style="color: #800080;">__all__</span>=[<span style="color: #800000;">"</span><span style="color: #800000;">student</span><span style="color: #800000;">"</span>,<span style="color: #800000;">"</span><span style="color: #800000;">teacher</span><span style="color: #800000;">"</span>]   <span style="color: #008000;">#</span><span style="color: #008000;">字符串列表，py文件名（不带后缀）</span></pre>
</div>
<p>我们&nbsp;<span class="cnblogs_code"><span style="color: #0000ff;">import</span> school</span>&nbsp;或&nbsp;<span class="cnblogs_code"><span style="color: #0000ff;">from</span> school <span style="color: #0000ff;">import</span> *</span>&nbsp;导入整个包时，只会导入student、teacher这2个py文件，不会全部导入。</p>
<p>&nbsp;</p>
<p>一般__init__.py文件是空的，这时默认__all__的值是包下所有py文件（除去__init__.py）的字符串列表，所以会全部导入包下的py文件（模块）。</p>
<p>&nbsp;</p>
<p>习惯把包中的入口文件（我们要执行的py文件，程序入口，相当于c/c++、java中的main()函数），命名为__main__.py</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h3>import的具体用法</h3>
<p>1、不使用包</p>
<ul>
<li>导入整个模块（py文件）：&nbsp;<span class="cnblogs_code"><span style="color: #0000ff;">import</span> py文件名</span>&nbsp; 或&nbsp;<span class="cnblogs_code"><span style="color: #0000ff;">from</span> py文件名 <span style="color: #0000ff;">import</span> *</span>&nbsp;</li>
<li>导入py文件中的某个类：&nbsp;<span class="cnblogs_code"><span style="color: #0000ff;">from</span> py文件名 <span style="color: #0000ff;">import</span> 类名</span>&nbsp;</li>
</ul>
<p>调用函数：&nbsp;<span class="cnblogs_code">py文件名.函数名(参数表)</span>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>2、使用包，不使用子模块</p>
<ul>
<li>导入整个模块（py文件）：&nbsp;<span class="cnblogs_code">import 包名.py文件名&nbsp; 或&nbsp;<span class="cnblogs_code">from 包名.py文件名&nbsp;import&nbsp;*&nbsp;</span></span></li>
<li>导入py文件中的某个类：&nbsp;<span class="cnblogs_code">from 包名.py文件名&nbsp;import&nbsp;类名&nbsp;</span></li>
</ul>
<p>调用函数：&nbsp;<span class="cnblogs_code">包名.py文件名.函数名(参数表)</span>&nbsp;</p>
<p>使用子包时，以&nbsp;<span class="cnblogs_code">包名.子包</span>&nbsp;作为包名即可。</p>
<p>&nbsp;</p>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>