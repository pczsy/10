<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修python_0基础开始_day12' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>python_0基础开始_day12</center></div><div class='banquan'>原文出处:本文由博客园博主年与时驰灬提供。<br/>
原文连接:https://www.cnblogs.com/linglichong/p/11379909.html</div><br>
    <h2 class="md-end-block md-heading"><span class="md-plain md-expand">第十二节</span></h2>
<h3 class="md-end-block md-heading"><span class="md-plain">一，生成器</span></h3>
<ul class="ul-list" data-mark="-">
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">生成器的核心：生成器的本质就是迭代器</span></p>
<ul class="ul-list" data-mark="-">
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">迭代器是python自带的</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">生成器是程序员自己写的一种迭代器</span></p>
</li>
</ul>
</li>
</ul>
<ol class="ol-list" start="">
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">在python中有三种方式来创建生成器：</span></p>
<ul class="ul-list" data-mark="-">
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">基于函数编写</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">推导式方式编写</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">python内置函数或者模块提供（其实1,3两种本质上差不多，都是通过函数的形式生成，只不过1是自己写的生成器函数，3是python提供的生成器函数而已）</span></p>
</li>
</ul>
<pre><code><span><span class="cm-comment"># def func():<br /><span><span class="cm-comment"># &nbsp; &nbsp; print("这是一个函数")<br /><span><span class="cm-comment"># &nbsp; &nbsp; return "函数"<br /><span><span class="cm-comment"># func()<br /><span><span>​<br /><span><span class="cm-keyword">def <span class="cm-def">func():<br /><span> &nbsp; &nbsp;<span class="cm-builtin">print(<span class="cm-string">"这是一个生成器")<br /><span> &nbsp; &nbsp;<span class="cm-keyword">yield <span class="cm-string">"生成器"<br /><span><span class="cm-comment"># 坑<br /><span><span class="cm-variable">func() <span class="cm-comment"># 生成一个生成器<br /><span><span class="cm-builtin">print(<span class="cm-variable">func().<span class="cm-property">__next__()) &nbsp;<span class="cm-comment"># 启动生成器<br /><span><span class="cm-builtin">print(<span class="cm-variable">func().<span class="cm-property">__next__())</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></pre>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">yield与return：</span></p>
<ul class="ul-list" data-mark="-">
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">相同点：</span></p>
<ul class="ul-list" data-mark="-">
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">都是返回内容</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">都可以返回多次（但是return写多个只会执行一个）</span></p>
</li>
</ul>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">不同点：</span></p>
<ul class="ul-list" data-mark="-">
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">return是终止函数，yield是暂停生成器</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">yield能够记录当前执行位置</span></p>
</li>
</ul>
</li>
</ul>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">一个yield对应一个next</span></p>
<pre><code><span><span class="cm-keyword">def <span class="cm-def">func():<br /><span> &nbsp; &nbsp;<span class="cm-variable">msg = <span class="cm-builtin">input(<span class="cm-string">"请输入内容")<br /><span> &nbsp; &nbsp;<span class="cm-keyword">yield <span class="cm-variable">msg<br /><span> &nbsp; &nbsp;<span class="cm-builtin">print(<span class="cm-string">"这是第二次启动")<br /><span> &nbsp; &nbsp;<span class="cm-keyword">yield <span class="cm-string">"生成器2"<br /><span> &nbsp; &nbsp;<span class="cm-keyword">yield <span class="cm-string">"生成器3"<br /><span> &nbsp; &nbsp;<span class="cm-keyword">yield <span class="cm-string">"生成器4"<br /><span><span>​<br /><span><span class="cm-variable">g = <span class="cm-variable">func()<br /><span><span class="cm-builtin">print(<span class="cm-builtin">next(<span class="cm-variable">g))<br /><span><span class="cm-builtin">print(<span class="cm-builtin">next(<span class="cm-variable">g))<br /><span><span class="cm-builtin">print(<span class="cm-builtin">next(<span class="cm-variable">g))<br /><span><span class="cm-builtin">print(<span class="cm-builtin">next(<span class="cm-variable">g))</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></pre>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">可迭代对象，迭代器，生成器的区别：</span></p>
<ul class="ul-list" data-mark="-">
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">可迭代对象：</span></p>
<ul class="ul-list" data-mark="-">
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">优点：list，tuple，str 节省时间，取值方便，使用灵活（具有自己的方法）</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">缺点：大量消耗内存</span></p>
</li>
</ul>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">迭代器：</span></p>
<ul class="ul-list" data-mark="-">
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">优点：节省空间</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">缺点：不能直接查看值，使用不灵活，消耗时间，一次性，不可逆行</span></p>
</li>
</ul>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">生成器：</span></p>
<ul class="ul-list" data-mark="-">
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">优点：节省空间，人为定义</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">缺点：不能直接查看值，消耗时间，一次性，不可逆行</span></p>
</li>
</ul>
</li>
</ul>
<pre><code><span><span class="cm-comment"># 数据类型 <br /><span><span class="cm-comment">#(pyhton3: range() | python2 :xrange()) 都是可迭代对象 __iter__()<br /><span><span class="cm-comment"># 文件句柄是迭代器  __iter__() __next__()<br /><span><span class="cm-comment"># 没有send方法就是一个迭代器,具有send方法的就是一个生成器</span></span></span></span></span></span></span></span></pre>
<p class="md-end-block md-p">&nbsp;</p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">使用场景</span></p>
<ul class="ul-list" data-mark="-">
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">当文件或容器中数据量较大时，建议使用生成器。</span></p>
</li>
</ul>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">区别什么是迭代器,什么是生成器</span></p>
<ul class="ul-list" data-mark="-">
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">迭代器的地址 ：iterator</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">生成器的地址 ：generator</span></p>
</li>
</ul>
</li>
<li class="md-list-item">
<ul class="ul-list" data-mark="-">
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">yield 将可迭代对象一次性返回</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">yield from 将可迭代对象逐个返回</span></p>
</li>
</ul>
<pre><code><span><span class="cm-keyword">def <span class="cm-def">func():<br /><span> &nbsp; &nbsp;<span class="cm-variable">lst = [<span class="cm-number">1,<span class="cm-number">2,<span class="cm-number">3,<span class="cm-number">45,<span class="cm-number">6]<br /><span> &nbsp; &nbsp;<span class="cm-variable">lst1 = [<span class="cm-string">"alex",<span class="cm-string">"wusir",<span class="cm-string">"taibi",<span class="cm-string">"baoyuan"]<br /><span> &nbsp; &nbsp;<span class="cm-keyword">yield <span class="cm-keyword">from <span class="cm-variable">lst<br /><span> &nbsp; &nbsp;<span class="cm-keyword">yield <span class="cm-keyword">from <span class="cm-variable">lst1<br /><span><span>​<br /><span><span class="cm-variable">g = <span class="cm-variable">func()</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></pre>
<p class="md-end-block md-p">&nbsp;</p>
</li>
</ol>
<h3 class="md-end-block md-heading"><span class="md-plain">二，推导式</span></h3>
<ol class="ol-list" start="">
<li class="md-list-item">
<ul class="ul-list" data-mark="-">
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">普通循环</span></p>
<pre><code><span><span class="cm-builtin">print([<span class="cm-variable">i <span class="cm-keyword">for <span class="cm-variable">i <span class="cm-keyword">in <span class="cm-builtin">range(<span class="cm-number">10)]) <span class="cm-comment"># list<br /><span><span class="cm-comment"># print([变量 for循环])<br /><span><span class="cm-builtin">print({<span class="cm-variable">i <span class="cm-keyword">for <span class="cm-variable">i <span class="cm-keyword">in <span class="cm-builtin">range(<span class="cm-number">10)}) <span class="cm-comment"># set<br /><span><span class="cm-comment"># print({变量 for循环})<br /><span><span class="cm-builtin">print({<span class="cm-variable">i: <span class="cm-variable">i<span class="cm-operator">+<span class="cm-number">1 <span class="cm-keyword">for <span class="cm-variable">i <span class="cm-keyword">in <span class="cm-builtin">range(<span class="cm-number">10)}) <span class="cm-comment"># dict<br /><span><span class="cm-comment"># print({键:值 for循环})</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></pre>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">筛选模式</span></p>
<pre><code><span><span class="cm-builtin">print([<span class="cm-variable">i <span class="cm-keyword">for <span class="cm-variable">i <span class="cm-keyword">in <span class="cm-builtin">range(<span class="cm-number">10) <span class="cm-keyword">if <span class="cm-variable">i <span class="cm-operator">&gt; <span class="cm-number">2]) <span class="cm-comment"># list<br /><span><span class="cm-comment"># print([加工后的变量 for循环 加工条件])<br /><span><span class="cm-builtin">print({<span class="cm-variable">i <span class="cm-keyword">for <span class="cm-variable">i <span class="cm-keyword">in <span class="cm-builtin">range(<span class="cm-number">10) <span class="cm-keyword">if <span class="cm-variable">i <span class="cm-operator">% <span class="cm-number">2 == <span class="cm-number">1}) <span class="cm-comment"># set<br /><span><span class="cm-comment"># print({加工后的变量 for循环 加工条件})<br /><span><span class="cm-builtin">print({<span class="cm-variable">i: <span class="cm-variable">i<span class="cm-operator">+<span class="cm-number">1 <span class="cm-keyword">for <span class="cm-variable">i <span class="cm-keyword">in <span class="cm-builtin">range(<span class="cm-number">10) <span class="cm-keyword">if <span class="cm-variable">i <span class="cm-operator">% <span class="cm-number">2 == <span class="cm-number">0}) <span class="cm-comment"># dict<br /><span><span class="cm-comment"># print({加工后的键:值 for循环 加工条件})</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></pre>
</li>
</ul>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">没有元组推导式。</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">生成器推导式</span></p>
<ul class="ul-list" data-mark="-">
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">普通模式</span></p>
</li>
</ul>
<pre><code><span><span class="cm-variable">tu = (<span class="cm-variable">i <span class="cm-keyword">for <span class="cm-variable">i <span class="cm-keyword">in <span class="cm-builtin">range(<span class="cm-number">10)) <br /><span><span class="cm-builtin">print(<span class="cm-variable">（变量 <span class="cm-keyword">for<span class="cm-variable">循环）)</span></span></span></span></span></span></span></span></span></span></span></span></span></pre>
<ul class="ul-list" data-mark="-">
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">筛选模式</span></p>
</li>
</ul>
<pre><code><span><span class="cm-variable">tu = (<span class="cm-variable">i <span class="cm-keyword">for <span class="cm-variable">i <span class="cm-keyword">in <span class="cm-builtin">range(<span class="cm-number">10) <span class="cm-keyword">if <span class="cm-variable">i <span class="cm-operator">&gt; <span class="cm-number">5)<br /><span><span class="cm-builtin">print((<span class="cm-variable">加工后的变量 <span class="cm-keyword">for<span class="cm-variable">循环 <span class="cm-variable">加工条件))</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></pre>
</li>
</ol>
<h3 class="md-end-block md-heading"><span class="md-plain">三，内置函数Ⅰ</span></h3>
<ol class="ol-list" start="">
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">了解即可</span></p>
<ul class="ul-list" data-mark="-">
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">type()：运算字符串中的算数</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">eval()：运行字符串中的代码</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">hash()：区分可变和不可变数据类型</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">help()：查看帮助信息</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">callable()：查看对象是否可调用</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">float()：查看浮点数</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">complex()：复数</span></p>
</li>
<li class="md-list-item">
<ul class="ul-list" data-mark="-">
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">bin()：十进制转二进制</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">oct()：十进制转八进制</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">hex()：十进制转十六进制</span></p>
</li>
</ul>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">divmod(除数,被除数)：（商，余）</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">round(小数,保留位数)：保留小数位</span></p>
</li>
<li class="md-list-item">
<ul class="ul-list" data-mark="-">
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">pow()：两个参数求幂</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">pow(2,2,3)：两个参数求幂后的余</span></p>
</li>
</ul>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">bytes(str,encoding="utf-8")：将字符串进行编码</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">ord()：通过元素获取当前表位的序号</span></p>
</li>
<li class="md-list-item md-focus-container">
<p class="md-end-block md-p md-focus"><span class="md-plain md-expand">chr()：通过表位序号查找元素</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">repr()：查看数据的原生态</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">all()：判断容器中的元素是否都为真</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">any()：判断容器中的元素是否有一个为真</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">locals()：查看当前空间变量</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">globals()：查看全局空间变量</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">format()：</span></p>
</li>
<li class="md-list-item">
<p><span class="md-plain">&nbsp;</span></p>
</li>
</ul>
</li>
</ol>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>