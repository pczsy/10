<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修Python学习日记(十四) 正则表达式和re模块' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>Python学习日记(十四) 正则表达式和re模块</center></div><div class='banquan'>原文出处:本文由博客园博主Fantac提供。<br/>
原文连接:https://www.cnblogs.com/Fantac/p/11403187.html</div><br>
    <p><span style="font-family: 幼圆; font-size: 14pt;"><strong><span style="font-size: 18pt;">正则表达式：</span></strong></span></p>
<p><span style="font-family: 宋体; font-size: 18px;">它是字符串的一种匹配模式,用来处理字符串,可以极大地减轻处理一些复杂字符串的代码量</span></p>
<p><span style="font-family: 宋体; font-size: 18px; color: #800080;"><span style="font-family: 幼圆;"><strong>字符组</strong></span>:<span style="color: #000000;">它是在同一位置可能出现的各种字符组成了一个字符组,用[]表示,但是它的结果只能是一个数字或者一个大写字母或小写字母等</span></span></p>
<p><span style="color: #000000; font-family: 宋体;"><span style="font-size: 18px;">下面测试以该网站为例http://tool.chinaz.com/regex/</span></span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #008000;">#</span><span style="color: #008000;">正则表达式              匹配字符串             　匹配结果</span><span style="color: #008000;">
#</span><span style="color: #008000;">[0-9]                     9                     9       [0-9]的写法就相当于在用[0123456789]</span><span style="color: #008000;">
#</span><span style="color: #008000;">[0123456789]              0                     0</span><span style="color: #008000;">
#</span><span style="color: #008000;">[a-z]                     1                    None     这里只匹配小写字符a-z而不匹配数字</span><span style="color: #008000;">
#</span><span style="color: #008000;">[a-z]                     z                     z</span><span style="color: #008000;">
#</span><span style="color: #008000;">[A-Z]                     A                     A       这里只匹配大写字符串</span><span style="color: #008000;">
#</span><span style="color: #008000;">[A-Z0-5a-c]              A6b                   A、b     这里的数字范围只有到0-5所以没匹配到6</span></pre>
</div>
<p><strong><span style="color: #800080; font-family: 幼圆; font-size: 18px;">元字符:</span></strong></p>
<p><span style="font-family: 宋体; background-color: #ffcc99;"><strong><span style="font-size: 18px;">1.'.' 匹配除换行符以外的任意字符</span></strong></span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #008000;">#</span><span style="color: #008000;">正则表达式              匹配字符串               匹配结果</span><span style="color: #008000;">
#</span><span style="color: #008000;">    .                     a                     a  </span><span style="color: #008000;">
#</span><span style="color: #008000;">    .                     1                     1</span><span style="color: #008000;">
#</span><span style="color: #008000;">    .                     &amp;                     &amp;</span><span style="color: #008000;">
#</span><span style="color: #008000;">    .                   换行符                  None </span></pre>
</div>
<p><span style="background-color: #ffcc99;"><strong><span style="font-family: 宋体; font-size: 18px;">2.'\w' 匹配字母或下划线或数字--word</span></strong></span></p>
<p><span style="font-family: 宋体; font-size: 18px;">等价于[A-Z0-9a-z_]</span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #008000;">#</span><span style="color: #008000;">正则表达式              匹配字符串               匹配结果</span><span style="color: #008000;">
#</span><span style="color: #008000;">    \w                    a                     a</span><span style="color: #008000;">
#</span><span style="color: #008000;">    \w                    1                     1</span><span style="color: #008000;">
#</span><span style="color: #008000;">    \w                    &amp;                    None</span><span style="color: #008000;">
#</span><span style="color: #008000;">    \w                  换行符                  None</span><span style="color: #008000;">
#</span><span style="color: #008000;">    \w                    _                     _</span></pre>
</div>
<p><span style="font-family: 宋体; font-size: 18px; background-color: #ffcc99;"><strong>3.'\s' 匹配任意的空白符--space</strong></span></p>
<p><span style="font-family: 宋体; font-size: 18px;">匹配字符串如果什么都不写也会匹配到一个结果,这里的空白符有空格、tab键、回车等空白字符</span></p>
<p><span style="background-color: #ffcc99;"><strong><span style="font-family: 宋体; font-size: 18px;">4.'\d' 匹配任意的数字--digit</span></strong></span></p>
<p><span style="background-color: #ffffff;"><strong><span style="font-family: 宋体; font-size: 18px;">等价于[0-9]</span></strong></span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #008000;">#</span><span style="color: #008000;">正则表达式              匹配字符串             匹配结果</span><span style="color: #008000;">
#</span><span style="color: #008000;">    \d                    a                  None</span><span style="color: #008000;">
#</span><span style="color: #008000;">    \d                    1                   1</span><span style="color: #008000;">
#</span><span style="color: #008000;">    \d                    &amp;                  None</span></pre>
</div>
<p><span style="font-family: 宋体; font-size: 18px; background-color: #ffcc99;"><strong>5.'\W' 匹配非字母或数字下划线</strong></span></p>
<p><span style="font-family: 宋体; font-size: 18px;">和'\w'的结果相反,且空白字符也可以匹配,如果用[\w\W]就相当于全局匹配的效果;等价于[^A-Z0-9a-z_]</span></p>
<p><span style="background-color: #ffcc99;"><strong><span style="font-family: 宋体; font-size: 18px;">6.'\D' 匹配非字符</span></strong></span></p>
<p><span style="font-family: 宋体; font-size: 18px;">和'\d'的结果相反,且空白字符也可以匹配;等价于[^0-9]</span></p>
<p><span style="background-color: #ffcc99;"><strong><span style="font-family: 宋体; font-size: 18px;">7.'\S' 匹配非空白字符</span></strong></span></p>
<p><span style="font-family: 宋体; font-size: 18px;">和'\s'的结果相反,除了空白字符串其他都匹配</span></p>
<p><span style="background-color: #ffcc99;"><strong><span style="font-family: 宋体; font-size: 18px;">8.'\n' 匹配一个换行符</span></strong></span></p>
<p><span style="background-color: #ffcc99;"><strong><span style="font-family: 宋体; font-size: 18px;">9.'\t' 匹配一个制表符(tab)</span></strong></span></p>
<p><span style="background-color: #ffcc99;"><strong><span style="font-family: 宋体; font-size: 18px;">10.'\b' 匹配一个单词的结尾</span></strong></span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #008000;">#</span><span style="color: #008000;">正则表达式              匹配字符串             匹配结果</span><span style="color: #008000;">
#</span><span style="color: #008000;">    .\b                  abx                  x        匹配一个字符并返回它的末尾字符</span><span style="color: #008000;">
#</span><span style="color: #008000;">    b\b                  abb                  b        匹配一个字符串如果它的结尾是b就返回</span><span style="color: #008000;">
#</span><span style="color: #008000;">    b\b                  aaa                 None</span></pre>
</div>
<p><span style="font-family: 宋体; font-size: 18px;"><strong>11.'\f' 匹配一个换页符</strong></span></p>
<p><span style="font-family: 宋体; font-size: 18px;"><strong>12.'\r' 匹配一个回车符</strong></span></p>
<p><span style="font-family: 宋体; font-size: 18px;"><strong>13.'\v' 匹配一个垂直制表符</strong></span></p>
<p><span style="font-family: 宋体; font-size: 18px; background-color: #ffcc99;"><strong>14.'\B' 匹配一个非单词边界</strong></span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #008000;">#</span><span style="color: #008000;">正则表达式              匹配字符串             匹配结果</span><span style="color: #008000;">
#</span><span style="color: #008000;">    v\B                  vers                 v</span><span style="color: #008000;">
#</span><span style="color: #008000;">   ve\B                  vers                 ve</span><span style="color: #008000;">
#</span><span style="color: #008000;">    s\B                  vers                None</span></pre>
</div>
<p><span style="font-family: 宋体; font-size: 18px;"><strong>15.'\num' 匹配一个正整数</strong></span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #008000;">#</span><span style="color: #008000;">正则表达式              匹配字符串             匹配结果</span><span style="color: #008000;">
#</span><span style="color: #008000;">   (.)\1                 1122               11、22        匹配连续相邻的两个字符</span></pre>
</div>
<p><span style="font-family: 宋体; font-size: 18px;"><strong>16.'^' 匹配字符串开始</strong></span></p>
<p><span style="font-family: 宋体;"><span style="font-family: 宋体;"><span style="font-size: 18px;">相当于startswith()</span></span></span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #008000;">#</span><span style="color: #008000;">正则表达式              匹配字符串             匹配结果</span><span style="color: #008000;">
#</span><span style="color: #008000;">  ^[A-Z]                A456A                 A</span></pre>
</div>
<p><span style="font-family: 宋体; font-size: 18px;"><strong>17.'$' 匹配字符串结束</strong></span></p>
<p><span style="font-family: 宋体; font-size: 18px;">相当于endswith()</span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #008000;">#</span><span style="color: #008000;">正则表达式              匹配字符串             匹配结果</span><span style="color: #008000;">
#</span><span style="color: #008000;">  [A-Z]$                 ASD                  D</span></pre>
</div>
<p><span style="font-family: 宋体; font-size: 18px; background-color: #ffcc99;"><strong>18.'a|b' 匹配字符串a或b</strong></span></p>
<p><span style="font-family: 宋体; font-size: 18px;">先看左边符不符合条件,若符合则优先匹配左边,否则匹配右边</span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #008000;">#</span><span style="color: #008000;">正则表达式              匹配字符串             匹配结果</span><span style="color: #008000;">
#</span><span style="color: #008000;">  123|5               789a12352              123、5</span><span style="color: #008000;">
#</span><span style="color: #008000;">(ab|c)[0-9]            5ac5ab6              c5、ab6</span></pre>
</div>
<p><span style="font-family: 宋体; font-size: 18px; background-color: #ffff99;"><strong>19.'()' 匹配括号内的表达式也表示一个组</strong></span></p>
<p><span style="font-family: 宋体; font-size: 18px;">如果要匹配左括号'('就要用'\('语法,右括号')'就要用'\)'</span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #008000;">#</span><span style="color: #008000;">正则表达式              匹配字符串             匹配结果</span><span style="color: #008000;">
#</span><span style="color: #008000;">  ([a-z])               aswss            a、s、w、s、s</span></pre>
</div>
<p><span style="font-family: 宋体; font-size: 18px; background-color: #ffff99;"><strong>20.'[...]' 匹配字符组的字符</strong></span></p>
<p><span style="font-family: 宋体; font-size: 18px; background-color: #ffff99;"><strong>21.&lsquo;[^...]&rsquo;匹配除了字符组中字符的所有字符</strong></span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #008000;">#</span><span style="color: #008000;">正则表达式              匹配字符串             匹配结果</span><span style="color: #008000;">
#</span><span style="color: #008000;">  [^abc]               erasdbc            e、r、s、d</span></pre>
</div>
<p><span style="font-family: 幼圆; font-size: 18px; color: #993366;"><strong>量词:</strong></span></p>
<p><span style="color: #000000; font-family: 宋体;"><span style="font-size: 18px;">用于约束前一个正则匹配的规则,要放在规则的后面</span></span></p>
<p><span style="font-family: 幼圆; font-size: 18px; color: #000000;"><strong>1.'*' 重复零次或多次</strong></span></p>
<p><span style="font-family: 幼圆; font-size: 18px; color: #000000;">0次就是不是正则表示里需要的元素也会算一次</span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #008000;">#</span><span style="color: #008000;">正则表达式              匹配字符串             匹配次数</span><span style="color: #008000;">
#</span><span style="color: #008000;">   [a]*                abaacaaa               6</span><span style="color: #008000;">
#</span><span style="color: #008000;">  [a-z]*                 abc                  2</span><span style="color: #008000;">
#</span><span style="color: #008000;">   []*                                        1</span></pre>
</div>
<p><span style="font-family: 幼圆; font-size: 18px; color: #000000;"><strong>2.'+' 重复一次或更多次</strong></span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #008000;">#</span><span style="color: #008000;">正则表达式              匹配字符串       　　　 匹配次数</span><span style="color: #008000;">
#</span><span style="color: #008000;">   [a]+                abaacaaa               3</span><span style="color: #008000;">
#</span><span style="color: #008000;">  [a-z]+                 abc                  1</span><span style="color: #008000;">
#</span><span style="color: #008000;">   []+                                        0</span></pre>
</div>
<p><span style="font-family: 幼圆; font-size: 18px; color: #000000;"><strong>3.'?' 重复零次或一次</strong></span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #008000;">#</span><span style="color: #008000;">正则表达式              匹配字符串       　　　 匹配次数</span><span style="color: #008000;">
#</span><span style="color: #008000;">   [a]？               abaacaaa           　　 9</span><span style="color: #008000;">
#</span><span style="color: #008000;">  [a-z]？                abc                  4</span><span style="color: #008000;">
#</span><span style="color: #008000;">   []？                                       1</span></pre>
</div>
<p><span style="font-family: 幼圆; font-size: 18px; color: #000000;"><strong>4.'{n}' 重复n次</strong></span></p>
<p><span style="font-family: 幼圆; font-size: 18px; color: #000000;"><strong>5.'{n,}' 重复n次或更多次</strong></span></p>
<p><span style="font-family: 幼圆; font-size: 18px; color: #000000;"><strong>6.'{n,m}' 重复n次到m次</strong></span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #008000;">#</span><span style="color: #008000;">正则表达式              匹配字符串             匹配次数            匹配结果</span><span style="color: #008000;">
#</span><span style="color: #008000;"> [a]{2,5}           aaaaaaaaaaaaa             3           aaaaa、aaaaa、aaa</span><span style="color: #008000;">
#</span><span style="color: #008000;">[a]{2,5}?           aaaaaaaaaaaaa             6         aa、aa、aa、aa、aa、aa　　　　　　　　?放在最后的作用是取最小的次数</span></pre>
</div>
<p><span style="font-family: 宋体; font-size: 18px;"><strong><span style="color: #993366;">用法注意:</span></strong></span></p>
<p><span style="font-family: 宋体; font-size: 18px; color: #000000;"><strong>1..^$</strong></span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #008000;">#</span><span style="color: #008000;">正则表达式              匹配字符串             匹配结果</span><span style="color: #008000;">
#</span><span style="color: #008000;">    a.                 abacadaf          ab、ac、ad、af       匹配以a为开头的字符串</span><span style="color: #008000;">
#</span><span style="color: #008000;">   ^a.                 abacadaf               ab             只匹配一个从字符串中以a开头的字符串</span><span style="color: #008000;">
#</span><span style="color: #008000;">   a.$                 abacadaf               af             只匹配一个从字符串中以a结尾的字符串</span></pre>
</div>
<p><span style="font-family: 宋体; font-size: 18px;"><strong>2.*+?{ }</strong></span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #008000;">#</span><span style="color: #008000;">正则表达式              匹配字符串             匹配结果</span><span style="color: #008000;">
#</span><span style="color: #008000;">   一.?             一二一二三一二三四      一二、一二、一二　　　　 匹配一后面的一个任意字符</span><span style="color: #008000;">
#</span><span style="color: #008000;">   一.*             一二一二三一二三四     一二一二三一二三四　　　　 匹配一后面的0或多个任意字符   </span><span style="color: #008000;">
#</span><span style="color: #008000;">   一.+             一二一二三一二三四     一二一二三一二三四　　　　 匹配一后面的1或多个任意字符</span><span style="color: #008000;">
#</span><span style="color: #008000;"> 一.{2,4}           一二一二三一二三四     一二一二三、一二三四　　　 匹配一后面2-4个字符</span><span style="color: #008000;">
#</span><span style="color: #008000;"> 一.{2,4}?          一二一二三一二三四       一二一、一二三　　　　　匹配一后面2个字符</span></pre>
</div>
<p><span style="font-family: 宋体; font-size: 18px;">*+?的匹配规则都属于贪婪匹配,即尽可能多的匹配,而在规则的最后加?会变成惰性匹配,即尽可能少的匹配</span></p>
<p><strong><span style="font-family: 宋体; font-size: 18px;">3.字符集[ ][^]</span></strong></p>
<div class="cnblogs_code">
<pre><code><span style="color: #008000;">#</span><span style="color: #008000;">正则表达式              匹配字符串              匹配结果</span><span style="color: #008000;">
#</span><span style="color: #008000;">  a[bcd]*            ab|abc|abcd          ab、abc、abcd</span><span style="color: #008000;">
#</span><span style="color: #008000;">  a[^|]*             ab|abc|abcd          ab、abc、abcd</span><span style="color: #008000;">
#</span><span style="color: #008000;">   [\d]               123a56bc            1、2、3、5、6</span><span style="color: #008000;">
#</span><span style="color: #008000;">   [\d]+              123a56bc               123、56</span></pre>
</div>
<p><span style="font-family: 宋体; font-size: 18px;"><strong>4.转义符\</strong></span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #008000;">#</span><span style="color: #008000;">正则表达式              匹配字符串              匹配结果</span><span style="color: #008000;">
#</span><span style="color: #008000;">    \n                   \n                   None</span><span style="color: #008000;">
#</span><span style="color: #008000;">   \\n                   \n                    \n         这里的第一个\充当转义的作用</span><span style="color: #008000;">
#</span><span style="color: #008000;">  \\\\n                 \\n                   \\n         每需要转义一个\都要在前面写一个\</span><span style="color: #008000;">
#</span><span style="color: #008000;">  r\\\\n                r\n                   r\n         加r会让整个结果不转义</span></pre>
</div>
<p><span style="font-family: 宋体; font-size: 18px;"><strong>5.非贪婪匹配</strong></span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #008000;">#</span><span style="color: #008000;">正则表达式              匹配字符串               匹配结果</span><span style="color: #008000;">
#</span><span style="color: #008000;"> a[a-z]*?              aaaaaaa         a、a、a、a、a、a、a(7次)</span><span style="color: #008000;">
#</span><span style="color: #008000;"> a[a-z]+?              aaaaaaa             aa、aa、aa(3次)</span><span style="color: #008000;">
#</span><span style="color: #008000;"> a[a-z]??              aaaaaaa         a、a、a、a、a、a、a(7次)</span><span style="color: #008000;">
#</span><span style="color: #008000;">a[a-z]{2,4}?           aaaaaaa              aaa、aaa(2次)</span><span style="color: #008000;">
#</span><span style="color: #008000;">a[a-z]{2,}?            aaaaaaa              aaa、aaa(2次)</span></pre>
</div>
<p><span style="font-family: 宋体; font-size: 18px;">'.*?x&rsquo;的作用是直到找到x就停止</span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #008000;">#</span><span style="color: #008000;">正则表达式              匹配字符串               匹配结果</span><span style="color: #008000;">
#</span><span style="color: #008000;">  .*?a              45bjswakaabaa      45bjswa、ka、a、ba、a</span></pre>
</div>
<p><span style="font-family: 宋体; font-size: 18px;"><strong>6.身份证号是一个长度为15或18的字符串,如果是15位则全部是数字组成,首位不能为0,如果18位,则前17位全是数字,末尾可能是x或数字</strong></span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #008000;">#</span><span style="color: #008000;">            正则表达式                         匹配字符串                     匹配结果</span><span style="color: #008000;">
#</span><span style="color: #008000;">^([1-9]\d{16}[0-9x]|[1-9]\d{14})$       122345688989788                122345688989788</span><span style="color: #008000;">
#</span><span style="color: #008000;">^([1-9]\d{16}[0-9x]|[1-9]\d{14})$      12234568898978811x             12234568898978811x</span></pre>
</div>
<p>&nbsp;</p>
<p><strong><span style="font-family: 幼圆; font-size: 18pt;">re模块:</span></strong></p>
<p><span style="background-color: #ffffff; color: #993366;"><strong><span style="font-family: 宋体; font-size: 18px;">常用方法:</span></strong></span></p>
<p><span style="background-color: #ffffff; color: #000000;"><strong><span style="font-family: 宋体; font-size: 18px;">1.findall()</span></strong></span></p>
<p><span style="background-color: #ffffff; color: #000000;"><span style="font-family: 宋体; font-size: 18px;">返回所有满足匹配条件的结果并放在一个列表中</span></span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">import</span><span style="color: #000000;"> re
ret </span>= re.findall(<span style="color: #800000;">'</span><span style="color: #800000;">[a-z0-9]</span><span style="color: #800000;">'</span>,<span style="color: #800000;">'</span><span style="color: #800000;">aAbBcC123&amp;</span><span style="color: #800000;">'</span><span style="color: #000000;">)
</span><span style="color: #0000ff;">print</span>(ret)                      　　　　　　　　　　　　　　　　　　　　<span style="color: #008000;">#</span><span style="color: #008000;">['a', 'b', 'c', '1', '2', '3']</span></pre>
</div>
<p><span style="font-family: 宋体; font-size: 18px;">优先级:</span></p>
<p><span style="font-family: 宋体; font-size: 18px;">这里的问号具有取消分组优先级的作用</span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">import</span><span style="color: #000000;"> re
ret </span>= re.findall(<span style="color: #800000;">'</span><span style="color: #800000;">www.(baidu|google).com</span><span style="color: #800000;">'</span>, <span style="color: #800000;">'</span><span style="color: #800000;">www.google.com</span><span style="color: #800000;">'</span><span style="color: #000000;">)
</span><span style="color: #0000ff;">print</span>(ret)      <span style="color: #008000;">#</span><span style="color: #008000;">['google']</span>
ret = re.findall(<span style="color: #800000;">'</span><span style="color: #800000;">www.(?:baidu|google).com</span><span style="color: #800000;">'</span>, <span style="color: #800000;">'</span><span style="color: #800000;">www.google.com</span><span style="color: #800000;">'</span><span style="color: #000000;">)
</span><span style="color: #0000ff;">print</span>(ret)      <span style="color: #008000;">#</span><span style="color: #008000;">['www.google.com']</span></pre>
</div>
<p><span style="font-family: 宋体; font-size: 18px;"><strong>2.search()</strong></span></p>
<p><span style="font-family: 宋体;"><span style="font-size: 18px;">在字符串中从左到右找到一个符合匹配标准的就返回一个对象,如果ret没有匹配到就返回None</span></span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">import</span><span style="color: #000000;"> re
ret </span>= re.search(<span style="color: #800000;">'</span><span style="color: #800000;">[a]+</span><span style="color: #800000;">'</span>,<span style="color: #800000;">'</span><span style="color: #800000;">12aaa78a8aa</span><span style="color: #800000;">'</span><span style="color: #000000;">)
</span><span style="color: #0000ff;">print</span>(ret)                  <span style="color: #008000;">#</span><span style="color: #008000;">&lt;re.Match object; span=(2, 5), match='aaa'&gt;</span>
<span style="color: #0000ff;">print</span>(ret.group())          <span style="color: #008000;">#</span><span style="color: #008000;">aaa</span>
ret2 = re.search(<span style="color: #800000;">'</span><span style="color: #800000;">[A-Z]+</span><span style="color: #800000;">'</span>,<span style="color: #800000;">'</span><span style="color: #800000;">12aaa78a8aa</span><span style="color: #800000;">'</span><span style="color: #000000;">)
</span><span style="color: #0000ff;">print</span>(ret2)                 <span style="color: #008000;">#</span><span style="color: #008000;">None</span>
<span style="color: #0000ff;">print</span>(ret2.group())         <span style="color: #008000;">#</span><span style="color: #008000;">AttributeError: 'NoneType' object has no attribute 'group'</span></pre>
</div>
<p><span style="font-family: 宋体; font-size: 18px;">增加一个判断,如果有匹配成功就返回匹配的字符串,没成功就不执行</span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">import</span><span style="color: #000000;"> re
ret </span>= re.search(<span style="color: #800000;">'</span><span style="color: #800000;">[a]+</span><span style="color: #800000;">'</span>,<span style="color: #800000;">'</span><span style="color: #800000;">12aaa78a8aa</span><span style="color: #800000;">'</span><span style="color: #000000;">)
</span><span style="color: #0000ff;">if</span><span style="color: #000000;"> ret:
    </span><span style="color: #0000ff;">print</span>(ret.group())      <span style="color: #008000;">#</span><span style="color: #008000;">aaa</span></pre>
</div>
<p><span style="font-family: 宋体;"><span style="font-size: 18px;">注意:</span></span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">import</span><span style="color: #000000;"> re
ret </span>= re.search(<span style="color: #800000;">'</span><span style="color: #800000;">^[0-9](\d{5})(\d{2})?$</span><span style="color: #800000;">'</span>,<span style="color: #800000;">'</span><span style="color: #800000;">11534512</span><span style="color: #800000;">'</span><span style="color: #000000;">)
</span><span style="color: #0000ff;">print</span>(ret.group())      <span style="color: #008000;">#</span><span style="color: #008000;">11534512</span>
<span style="color: #0000ff;">print</span>(ret.group(1))     <span style="color: #008000;">#</span><span style="color: #008000;">15345　　　　拿到每一个分组的数值</span>
<span style="color: #0000ff;">print</span>(ret.group(2))     <span style="color: #008000;">#</span><span style="color: #008000;">12</span></pre>
</div>
<p><strong><span style="font-family: 宋体; font-size: 18px;">3.match()</span></strong></p>
<p><span style="font-family: 宋体; font-size: 18px;">这个方法就是从开头开始匹配,如果正则规则能够匹配的上开头,那么就返回一个对象,结果中的内容要group()方法才能显示,如果没有匹配上就返回None,调用group()就会报错</span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">import</span><span style="color: #000000;"> re
ret </span>= re.match(<span style="color: #800000;">'</span><span style="color: #800000;">[0-9a-z]+</span><span style="color: #800000;">'</span>,<span style="color: #800000;">'</span><span style="color: #800000;">abc123A33a</span><span style="color: #800000;">'</span><span style="color: #000000;">)                                 
</span><span style="color: #0000ff;">print</span>(ret)                  <span style="color: #008000;">#</span><span style="color: #008000;">&lt;re.Match object; span=(0, 6), match='abc123'&gt;</span>
<span style="color: #0000ff;">if</span><span style="color: #000000;"> ret: 
    </span><span style="color: #0000ff;">print</span>(ret.group())      <span style="color: #008000;">#</span><span style="color: #008000;">abc123</span></pre>
</div>
<p><strong><span style="font-family: 宋体; font-size: 18px;">4.split()</span></strong></p>
<p><span style="font-family: 宋体; font-size: 18px;">先按'a'分割得到''和'bcd',再对''和'bcd'分别按'b'分割得到''和'cd',分割完的字符会消失</span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">import</span><span style="color: #000000;"> re
ret </span>= re.split(<span style="color: #800000;">'</span><span style="color: #800000;">[ab]</span><span style="color: #800000;">'</span>,<span style="color: #800000;">'</span><span style="color: #800000;">abcd</span><span style="color: #800000;">'</span><span style="color: #000000;">)
</span><span style="color: #0000ff;">print</span>(ret)               <span style="color: #008000;">#</span><span style="color: #008000;">['', '', 'cd']</span></pre>
</div>
<p><span style="font-size: 18px;"><span style="font-family: 宋体;">优先级:</span></span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">import</span><span style="color: #000000;"> re
ret1 </span>= re.split(<span style="color: #800000;">'</span><span style="color: #800000;">\d+</span><span style="color: #800000;">'</span>,<span style="color: #800000;">'</span><span style="color: #800000;">abc1abcsw22asww3312a</span><span style="color: #800000;">'</span><span style="color: #000000;">)
</span><span style="color: #0000ff;">print</span>(ret1)             <span style="color: #008000;">#</span><span style="color: #008000;">['abc', 'abcsw', 'asww', 'a']</span>
ret2 = re.split(<span style="color: #800000;">'</span><span style="color: #800000;">(\d+)</span><span style="color: #800000;">'</span>,<span style="color: #800000;">'</span><span style="color: #800000;">abc1abcsw22asww3312a</span><span style="color: #800000;">'</span><span style="color: #000000;">)
</span><span style="color: #0000ff;">print</span>(ret2)             <span style="color: #008000;">#</span><span style="color: #008000;">['abc', '1', 'abcsw', '22', 'asww', '3312', 'a']     加上了括号之后能够保留匹配项,没加括号则不保留匹配项</span></pre>
</div>
<p><span style="font-size: 18px;"><strong><span style="font-family: 宋体;">5.sub()</span></strong></span></p>
<p><span style="font-size: 18px;"><span style="font-family: 宋体;">将正则规则匹配到的英文小写字母替换成'&amp;',后面的5表示只替换5次</span></span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">import</span><span style="color: #000000;"> re
ret </span>= re.sub(<span style="color: #800000;">'</span><span style="color: #800000;">[a-z]</span><span style="color: #800000;">'</span>,<span style="color: #800000;">'</span><span style="color: #800000;">&amp;</span><span style="color: #800000;">'</span>,<span style="color: #800000;">'</span><span style="color: #800000;">eva3sdww4asd22H3</span><span style="color: #800000;">'</span>,5<span style="color: #000000;">)
</span><span style="color: #0000ff;">print</span>(ret)          　　　　<span style="color: #008000;">#</span><span style="color: #008000;">&amp;&amp;&amp;3&amp;&amp;ww4asd22H3</span></pre>
</div>
<p><span style="font-family: 宋体; font-size: 18px;"><strong>6.subn()</strong></span></p>
<p><span style="font-family: 宋体; font-size: 18px;">和sub执行效果几乎相同,结果会返回替换后的字符串和替换次数</span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">import</span><span style="color: #000000;"> re
ret </span>= re.subn(<span style="color: #800000;">'</span><span style="color: #800000;">[a-z]</span><span style="color: #800000;">'</span>,<span style="color: #800000;">'</span><span style="color: #800000;">&amp;</span><span style="color: #800000;">'</span>,<span style="color: #800000;">'</span><span style="color: #800000;">eva3sdww4asd22H3</span><span style="color: #800000;">'</span>,5<span style="color: #000000;">)
</span><span style="color: #0000ff;">print</span>(ret)               <span style="color: #008000;">#</span><span style="color: #008000;">('&amp;&amp;&amp;3&amp;&amp;ww4asd22H3', 5)</span></pre>
</div>
<p><span style="font-family: 宋体; font-size: 18px;"><strong>7.compile()</strong></span></p>
<p><span style="font-family: 宋体; font-size: 18px;">当一个正则规则需要被反复的调用且它的正则表达式很长,它就需要用到compile()</span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">import</span><span style="color: #000000;"> re
obj </span>= re.compile(<span style="color: #800000;">'</span><span style="color: #800000;">\d{3,5}</span><span style="color: #800000;">'</span>)     <span style="color: #008000;">#</span><span style="color: #008000;">将正则表达式编译成一个正则表达式对象,规则要匹配3-5个数字</span>
ret = obj.search(<span style="color: #800000;">'</span><span style="color: #800000;">abc12gha12432j1222</span><span style="color: #800000;">'</span><span style="color: #000000;">)
</span><span style="color: #0000ff;">print</span>(ret.group())              <span style="color: #008000;">#</span><span style="color: #008000;">12432</span>
ret = obj.search(<span style="color: #800000;">'</span><span style="color: #800000;">easda22132aasdw22sdaw</span><span style="color: #800000;">'</span><span style="color: #000000;">)
</span><span style="color: #0000ff;">print</span>(ret.group())              <span style="color: #008000;">#</span><span style="color: #008000;">22132</span></pre>
</div>
<p><span style="font-family: 宋体; font-size: 18px;"><strong>8.finditer()</strong></span></p>
<p><span style="font-family: 宋体; font-size: 18px;">结果可以返回一个存放结果的迭代器</span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">import</span><span style="color: #000000;"> re
ret </span>= re.finditer(<span style="color: #800000;">'</span><span style="color: #800000;">[a-z]{2,3}</span><span style="color: #800000;">'</span>,<span style="color: #800000;">'</span><span style="color: #800000;">12abs23saw7a8sddw</span><span style="color: #800000;">'</span><span style="color: #000000;">)
</span><span style="color: #0000ff;">print</span>(ret)       　　　　　　　　　　  <span style="color: #008000;">#</span><span style="color: #008000;">&lt;callable_iterator object at 0x00000000027A2160&gt;</span>
<span style="color: #0000ff;">print</span>([i.group() <span style="color: #0000ff;">for</span> i <span style="color: #0000ff;">in</span> ret])     <span style="color: #008000;">#</span><span style="color: #008000;">['abs', 'saw', 'sdd']</span></pre>
</div>
<p><span style="font-family: 宋体; font-size: 18px;"><strong>9.分组命名</strong></span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">import</span><span style="color: #000000;"> re
ret </span>= re.search(<span style="color: #800000;">"</span><span style="color: #800000;">&lt;(?P&lt;tag_name&gt;\w+)&gt;\w+&lt;/(?P=tag_name)&gt;</span><span style="color: #800000;">"</span>,<span style="color: #800000;">"</span><span style="color: #800000;">&lt;h1&gt;page&lt;/h1&gt;</span><span style="color: #800000;">"</span><span style="color: #000000;">)　　　#在分组中利用?&lt;name&gt;的形式给分组取名字
</span><span style="color: #0000ff;">print</span>(ret.group(<span style="color: #800000;">'</span><span style="color: #800000;">tag_name</span><span style="color: #800000;">'</span>))        <span style="color: #008000;">#</span><span style="color: #008000;">h1　　　　</span>
<span style="color: #0000ff;">print</span>(ret.group())                  <span style="color: #008000;">#</span><span style="color: #008000;">&lt;h1&gt;page&lt;/h1&gt;</span></pre>
</div>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">import</span><span style="color: #000000;"> re
ret </span>= re.search(r<span style="color: #800000;">"</span><span style="color: #800000;">&lt;(\w+)&gt;\w+&lt;/\1&gt;</span><span style="color: #800000;">"</span>,<span style="color: #800000;">"</span><span style="color: #800000;">&lt;h1&gt;page&lt;/h1&gt;</span><span style="color: #800000;">"</span><span style="color: #000000;">)　　　　　　　　　　　　　　　　#在分组中不想写名字的话可以用\序号来找到对应的组,表示要找的内容和前面组内容一致
</span><span style="color: #0000ff;">print</span>(ret.group(1))     <span style="color: #008000;">#</span><span style="color: #008000;">h1</span>
<span style="color: #0000ff;">print</span>(ret.group())      <span style="color: #008000;">#</span><span style="color: #008000;">&lt;h1&gt;page&lt;/h1&gt;</span></pre>
</div>
<p><span style="font-family: 宋体; font-size: 18px;"><strong>10.flags参数</strong></span></p>
<pre><code><span style="font-family: 宋体; font-size: 18px;">re.I(IGNORECASE):忽略大小写，括号内是完整的写法
re.M(MULTILINE):多行模式，改变^和$的行为
<span style="color: #ff0000;">re.S(DOTALL)</span>:点可以匹配任意字符，包括换行符
re.L(LOCALE):做本地化识别的匹配，表示特殊字符集 \w, \W, \b, \B, \s, \S 依赖于当前环境，不推荐使用
re.U(UNICODE):使用\w \W \s \S \d \D使用取决于unicode定义的字符属性。在python3中默认使用该flag
re.X(VERBOSE):冗长模式，该模式下pattern字符串可以是多行的，忽略空白字符，并可以添加注释</span></pre>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>