<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修python应用文件读取写登录注册' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>python应用文件读取写登录注册</center></div><div class='banquan'>原文出处:本文由博客园博主红桃五提供。<br/>
原文连接:https://www.cnblogs.com/hong1227/p/11570564.html</div><br>
    <pre><code>#!/usr/bin/python3<br /># -*- coding: utf-8 -*-<br /># Author: zhw<br />#读取文件中的内容<br />def open_file(filename ,file_type , *args):<br />    #读取文件中的数据<br />    if file_type == 'r':<br />        flie_list = []<br />        with open(filename,file_type) as sub_all:<br />            for file_line in sub_all:<br />                flie_list.append(file_line.strip())<br />            #print(flie_list)<br />            return flie_list<br />    #读取文件中的用户号<br />    elif file_type == 'ru':<br />        flie_list = []<br />        with open(filename,'r') as sub_all:<br />            for file_line in sub_all:<br />                file_l = file_line.split('|')<br />                user_no = file_l[0]<br />                flie_list.append(user_no.strip())<br />            #print(flie_list)<br />            return flie_list<br />    #写入文件<br />    elif file_type == 'a+':<br />        data = args[0]<br />        with open(filename, file_type) as sub_all:<br />            sub_all.write(data +"\n")<br />    else:<br />        print('您输入的格式没有，请检查')<br /><br />class User(object):<br />    def __init__(self, user_no, user_pw):<br />        self.user_no = user_no<br />        self.user_pw = user_pw<br />        self.file = 'login.log'<br />    @property<br />    #检查账号是否已经存在<br />    def check_user(self):<br />        flie_list = open_file(self.file, 'ru')<br />        if self.user_no in flie_list:<br />            return '1'<br />        else:<br />            return '0'<br />    #注册账号<br />    def regist(self):<br />        user_info = '%s|%s' % (self.user_no, self.user_pw)<br />        open_file(self.file, 'a+',user_info)<br />        #return'注册成功'<br />    #账号登录<br />    def login(self):<br />        flie_list = open_file(self.file, 'r')<br />        user_info = '%s|%s' % (self.user_no, self.user_pw)<br />        if user_info in flie_list:<br />            return '1'<br />        else:<br />            return '0'<br /><br /><br />def return_more(args):<br />    pass<br /><br />#循环验证登录，循环注册账号<br />while True:<br />    print('请选择\n  '<br />          '1. 注册\n'<br />          '2. 登录\n'<br />          '3. 退出')<br />    choose = input('请选择').strip()<br />    if choose == '1':<br /><br />        for i in range(3):<br />            user_no = input('请输入注册账号：').strip()<br />            user_pw = ''<br />            user = User(user_no,user_pw)<br />            #检查用户号是否存在<br />            return_more = user.check_user<br />            if return_more == '0':<br />                user_pw = input('请输入注册密码：').strip()<br />                user = User(user_no, user_pw)<br />                return_more = user.regist()<br />                print(return_more)<br />                break<br />            else:<br />                print('您输入的账号已经存在，请选择其他账号')<br />        #print('您输入的错误次数太多，已退出！')<br />    elif choose == '2':<br />         for i in range(3):<br />             user_no = input('请输入登录账号：').strip()<br />             user_pw = input('请输入登录密码').strip()<br />             user = User(user_no, user_pw)<br />             #用户登录<br />             return_mk = user.login()<br />             if return_mk =='0':<br />                 print("登录失败，请重新输入")<br />             else:<br />                 print('登录成功')<br />                 break<br />    elif choose == '3':<br />        break<br />    else:<br />        print('输入序号有无，请重新输入')<br /><br /></pre>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>