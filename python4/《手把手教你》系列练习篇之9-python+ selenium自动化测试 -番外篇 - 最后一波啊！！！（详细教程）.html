<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='ç”µè„‘,ç”µè„‘è®²è§£,ç”µè„‘æŠ€æœ¯,ç¼–ç¨‹,ç”µè„‘æ•…éšœç»´ä¿®ã€Šæ‰‹æŠŠæ‰‹æ•™ä½ ã€‹ç³»åˆ—ç»ƒä¹ ç¯‡ä¹‹9-python+ seleniumè‡ªåŠ¨åŒ–æµ‹è¯• -ç•ªå¤–ç¯‡ - æœ€åä¸€æ³¢å•Šï¼ï¼ï¼ï¼ˆè¯¦ç»†æ•™ç¨‹ï¼‰' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>é¦–é¡µ</a></li>
</div><div onclick='hidden1()' >åˆ†äº«</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>ã€Šæ‰‹æŠŠæ‰‹æ•™ä½ ã€‹ç³»åˆ—ç»ƒä¹ ç¯‡ä¹‹9-python+ seleniumè‡ªåŠ¨åŒ–æµ‹è¯• -ç•ªå¤–ç¯‡ - æœ€åä¸€æ³¢å•Šï¼ï¼ï¼ï¼ˆè¯¦ç»†æ•™ç¨‹ï¼‰</center></div><div class='banquan'>åŸæ–‡å‡ºå¤„:æœ¬æ–‡ç”±åšå®¢å›­åšä¸»åŒ—äº¬-å®å“¥æä¾›ã€‚<br/>
åŸæ–‡è¿æ¥:https://www.cnblogs.com/du-hong/p/12010213.html</div><br>
    <h3>1. ç®€ä»‹</h3>
<p>&nbsp;ã€€ã€€æœ¬æ¥ä¸Šä¸€ç¯‡å°±æ˜¯ç»ƒä¹ ç¯‡çš„æœ€åä¸€ç¯‡æ–‡ç« äº†ï¼Œä½†æ˜¯æœ‰çš„å°ä¼™ä¼´ç§ä¸‹åæ˜ è¯´æ˜¯åšäº†é‚£ä¹ˆå¤šç»ƒä¹ ï¼Œæ²¡æœ‰ä¸€ä¸ªæ¯”è¾ƒç»¼åˆçš„demoç»ƒç»ƒæ‰‹ã€‚å› æ­¤å®å“¥åœ¨è¿™é‡Œåˆè¡¥å­˜äº†ä¸€äº›å¸¸è§çš„çŸ¥è¯†ç‚¹è¿›è¡Œç»ƒä¹ ï¼Œåœ¨æ–‡ç« æœ€åä¹Ÿé€šè¿‡å®ä¾‹ç»™å°ä¼™ä¼´ä»¬æˆ–è€…ç«¥é‹ä»¬è¿›è¡Œäº†ä¸€ä¸ªç™»å½•æ¨¡å—çš„è‡ªåŠ¨åŒ–æµ‹è¯•çš„å®ä¾‹ï¼Œå…¶ä»–çš„ä½ å¯ä»¥ç…§çŒ«ç”»è™åœ°è½»æ¾çš„æå®šå’Œå®ç°ã€‚</p>
<h3 class="postTitle">2. python-webè‡ªåŠ¨åŒ–-ä¸‰ç§ç­‰å¾…æ–¹å¼</h3>
<div class="postBody">
<div id="cnblogs_post_body" class="blogpost-body ">
<p>å½“æœ‰å…ƒç´ å®šä½ä¸åˆ°æ—¶ï¼Œæ¯”å¦‚ä¸‹æ‹‰æ¡†ï¼Œå¼¹å‡ºæ¡†ç­‰å„ç§å®šä½ä¸åˆ°æ—¶ï¼›</p>
<p>ä¸€èˆ¬æ˜¯ä¸¤ç§é—®é¢˜ï¼š1 ã€æœ‰frame ï¼›2ã€æ²¡æœ‰åŠ ç­‰å¾…</p>
<p>ä¸‹é¢å­¦ä¹ ä¸‰ç§ç­‰å¾…æ–¹å¼ï¼š</p>
<h4>2.1 å¼ºåˆ¶ç­‰å¾… sleepï¼ˆxxï¼‰æˆ–è€…Time.sleep</h4>
<p><strong>æ˜¯åœ¨ç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­ä½¿ç”¨timeæ¨¡å—ä¸­çš„sleepè¿›è¡Œä»£ç çš„ä¼‘çœ è¿›è¡Œå¼ºåˆ¶ç­‰å¾…ï¼Œæ˜¯æ˜¾å¼ç­‰å¾…ä¸­çš„ä¸€ç§æç«¯æƒ…å†µã€‚</strong></p>
<p>è¿™ç§æ–¹æ³•ç®€å•ç²—æš´ï¼Œä¸ç®¡æµè§ˆå™¨æ˜¯å¦åŠ è½½å®Œï¼Œç¨‹åºéƒ½è¦ç­‰å¾…è§„å®šçš„xxæ—¶é—´ï¼Œæ—¶é—´åˆ°äº†æ‰ç»§ç»­æ‰§è¡Œä¸‹é¢çš„ä»£ç ã€‚</p>
<p>ä¸å»ºè®®æ€»æ˜¯ç”¨è¿™ç§ç­‰å¾…æ–¹å¼ï¼Œä¼šä¸¥é‡å½±å“ç¨‹åºçš„æ‰§è¡Œé€Ÿåº¦ã€‚é€šè¿‡timeæ¨¡å—ä¸­sleepè¿›è¡Œä»£ç çš„æš‚åœï¼Œä½†æ˜¯å®é™…ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œå¦‚æœéƒ½ä»¥sleepè¿›è¡Œæ§åˆ¶ä¸¥é‡å½±å“äº†ç¨‹åºçš„è¿è¡Œã€‚</p>
<h5>2.1.1 å‚è€ƒä»£ç 1</h5>
<div class="cnblogs_code">
<pre><code><span style="color: #008000;">#</span><span style="color: #008000;"> coding=utf-8ğŸ”¥</span>

<span style="color: #008000;">#</span><span style="color: #008000;"> 1.å…ˆè®¾ç½®ç¼–ç ï¼Œutf-8å¯æ”¯æŒä¸­è‹±æ–‡ï¼Œå¦‚ä¸Šï¼Œä¸€èˆ¬æ”¾åœ¨ç¬¬ä¸€è¡Œ</span>

<span style="color: #008000;">#</span><span style="color: #008000;"> 2.æ³¨é‡Šï¼šåŒ…æ‹¬è®°å½•åˆ›å»ºæ—¶é—´ï¼Œåˆ›å»ºäººï¼Œé¡¹ç›®åç§°ã€‚</span>
<span style="color: #800000;">'''</span><span style="color: #800000;">
Created on 2019-12-10
@author: åŒ—äº¬-å®å“¥   QQäº¤æµç¾¤ï¼š705269076
Project: ã€Šæ‰‹æŠŠæ‰‹æ•™ä½ ã€‹ç³»åˆ—ç»ƒä¹ ç¯‡ä¹‹9-python+ seleniumè‡ªåŠ¨åŒ–æµ‹è¯•
</span><span style="color: #800000;">'''</span>

<span style="color: #008000;">#</span><span style="color: #008000;"> 3.å¯¼å…¥æ¨¡å—</span>

<span style="color: #0000ff;">import</span><span style="color: #000000;"> time

</span><span style="color: #008000;">#</span><span style="color: #008000;"> å¼ºåˆ¶ç­‰å¾…&mdash;&mdash;ä»£ç ä¼‘çœ </span>

<span style="color: #0000ff;">from</span> selenium <span style="color: #0000ff;">import</span><span style="color: #000000;"> webdriver

driver </span>=<span style="color: #000000;"> webdriver.Chrome()
driver.get(</span><span style="color: #800000;">"</span><span style="color: #800000;">https://www.baidu.com</span><span style="color: #800000;">"</span><span style="color: #000000;">)
time.sleep(</span>3<span style="color: #000000;">)

driver.quit()</span></pre>
</div>
<h5>2.1.2 å‚è€ƒä»£ç 2</h5>
<div class="cnblogs_code">
<pre><code><span style="color: #008000;">#</span><span style="color: #008000;"> coding=utf-8ğŸ”¥</span>

<span style="color: #008000;">#</span><span style="color: #008000;"> 1.å…ˆè®¾ç½®ç¼–ç ï¼Œutf-8å¯æ”¯æŒä¸­è‹±æ–‡ï¼Œå¦‚ä¸Šï¼Œä¸€èˆ¬æ”¾åœ¨ç¬¬ä¸€è¡Œ</span>

<span style="color: #008000;">#</span><span style="color: #008000;"> 2.æ³¨é‡Šï¼šåŒ…æ‹¬è®°å½•åˆ›å»ºæ—¶é—´ï¼Œåˆ›å»ºäººï¼Œé¡¹ç›®åç§°ã€‚</span>
<span style="color: #800000;">'''</span><span style="color: #800000;">
Created on 2019-12-10
@author: åŒ—äº¬-å®å“¥   QQäº¤æµç¾¤ï¼š705269076
Project: ã€Šæ‰‹æŠŠæ‰‹æ•™ä½ ã€‹ç³»åˆ—ç»ƒä¹ ç¯‡ä¹‹9-python+ seleniumè‡ªåŠ¨åŒ–æµ‹è¯•
</span><span style="color: #800000;">'''</span>

<span style="color: #008000;">#</span><span style="color: #008000;"> 3.å¯¼å…¥æ¨¡å—</span>

<span style="color: #0000ff;">from</span> selenium <span style="color: #0000ff;">import</span><span style="color: #000000;"> webdriver
</span><span style="color: #0000ff;">from</span> time <span style="color: #0000ff;">import</span><span style="color: #000000;"> sleep
driver </span>=<span style="color: #000000;"> webdriver.Chrome()
driver.get(</span><span style="color: #800000;">'</span><span style="color: #800000;">https://www.baidu.com/</span><span style="color: #800000;">'</span><span style="color: #000000;">)
sleep(</span>3)<span style="color: #008000;">#</span><span style="color: #008000;">å¼ºåˆ¶æ€§ç­‰å¾…3så†æ‰§è¡Œä»¥ä¸‹ä»£ç </span>
<span style="color: #0000ff;">print</span><span style="color: #000000;">(driver.current_url)
driver.quit()</span><span style="color: #008000;">#</span><span style="color: #008000;">é€€å‡ºé©±åŠ¨ï¼Œå…³é—­æ‰€æœ‰çª—å£</span></pre>
</div>
<h4>2.2 éšæ€§ç­‰å¾… implicitly_wait(xx)</h4>
<p>è¿™ç§æ–¹æ³•æ˜¯è®¾ç½®ä¸€ä¸ªæœ€é•¿çš„ç­‰å¾…æ—¶é—´ï¼Œå¦‚æœåœ¨è§„å®šæ—¶é—´å†…ç½‘é¡µå…¨éƒ¨å…ƒç´ åŠ è½½å®Œæˆï¼Œåˆ™æ‰§è¡Œä¸‹ä¸€æ­¥ï¼Œå¦åˆ™ä¸€ç›´ç­‰å¾…æ—¶é—´æˆªæ­¢æ‰æ‰§è¡Œä¸‹ä¸€æ­¥ã€‚æ¯”å¼ºåˆ¶æ€§ç­‰å¾…æ™ºèƒ½äº›</p>
<p>ï¼éšæ€§ç­‰å¾…å¯¹æ•´ä¸ªdriverçš„å‘¨æœŸéƒ½èµ·ä½œç”¨ï¼Œæ‰€ä»¥åªè¦è®¾ç½®ä¸€æ¬¡å³å¯</p>
<div class="postBody">
<div id="cnblogs_post_body" class="blogpost-body ">
<h5>2.2.1 å‚è€ƒä»£ç 1</h5>
<div class="cnblogs_code">
<pre><code># coding=utf-8ğŸ”¥

# 1.å…ˆè®¾ç½®ç¼–ç ï¼Œutf-8å¯æ”¯æŒä¸­è‹±æ–‡ï¼Œå¦‚ä¸Šï¼Œä¸€èˆ¬æ”¾åœ¨ç¬¬ä¸€è¡Œ

# 2.æ³¨é‡Šï¼šåŒ…æ‹¬è®°å½•åˆ›å»ºæ—¶é—´ï¼Œåˆ›å»ºäººï¼Œé¡¹ç›®åç§°ã€‚
'''
Created on 2019-12-10
@author: åŒ—äº¬-å®å“¥   QQäº¤æµç¾¤ï¼š705269076
Project: ã€Šæ‰‹æŠŠæ‰‹æ•™ä½ ã€‹ç³»åˆ—ç»ƒä¹ ç¯‡ä¹‹9-python+ seleniumè‡ªåŠ¨åŒ–æµ‹è¯•
'''

# 3.å¯¼å…¥æ¨¡å—

from selenium import<span> webdriver
from selenium.common.exceptions import<span> NoSuchElementException
from time import<span> ctime

driver =<span> webdriver.Firefox()

# è®¾ç½®éšå¼ç­‰å¾…ä¸º10ç§’
driver.implicitly_wait(10<span>)
driver.get("http://www.baidu.com"<span>)

try<span>:
    print<span>(ctime())
    driver.find_element_by_id("kw22").send_keys('selenium'<span>)
except<span> NoSuchElementException as e:
    print<span>(e)
finally<span>:
    print<span>(ctime())
    driver.quit()</span></span></span></span></span></span></span></span></span></span></span></span></span></pre>
</div>
</div>
</div>
<p>è¿™é‡Œå¯ä»¥çœ‹åˆ°åœ¨10ç§’å†…æ²¡æœ‰æ‰¾åˆ°æƒ³è¦æ‰¾åˆ°çš„å…ƒç´ ï¼Œä½†æ˜¯ä¾æ—§æ‰§è¡Œäº†10ç§’ï¼Œç„¶åæŠ¥é”™ï¼Œå¦‚æœä¿®æ”¹ä»£ç ä¸ºå¯ä»¥æ‰¾åˆ°ï¼Œä»£ç æ‰§è¡Œéå¸¸è¿…é€Ÿã€‚</p>
<p>implicitly_wait()é»˜è®¤å‚æ•°çš„å•ä½ä¸ºç§’ï¼Œæœ¬ä¾‹ä¸­è®¾ç½®ç­‰å¾…æ—¶é•¿ä¸º10ç§’ã€‚é¦–å…ˆè¿™10ç§’å¹¶éä¸€ä¸ªå›ºå®šçš„ç­‰å¾…æ—¶é—´ï¼Œå®ƒå¹¶ä¸å½±å“è„šæœ¬çš„æ‰§è¡Œé€Ÿåº¦ã€‚å…¶æ¬¡ï¼Œå®ƒå¹¶ä¸é’ˆå¯¹é¡µé¢ä¸Šçš„æŸä¸€å…ƒç´ è¿›è¡Œç­‰å¾…ã€‚å½“è„šæœ¬æ‰§è¡Œåˆ°æŸä¸ªå…ƒç´ å®šä½æ—¶ï¼Œå¦‚æœå…ƒç´ å¯ä»¥å®šä½ï¼Œåˆ™ç»§ç»­æ‰§è¡Œï¼›å¦‚æœå…ƒç´ å®šä½</p>
<p>ä¸åˆ°ï¼Œåˆ™å®ƒå°†ä»¥è½®è¯¢çš„æ–¹å¼ä¸æ–­åœ°åˆ¤æ–­å…ƒç´ æ˜¯å¦è¢«å®šä½åˆ°ã€‚å‡è®¾åœ¨ç¬¬6ç§’å®šä½åˆ°äº†å…ƒç´ åˆ™ç»§ç»­æ‰§è¡Œï¼Œè‹¥ç›´åˆ°è¶…å‡ºè®¾ç½®æ—¶é•¿ï¼ˆ10ç§’ï¼‰è¿˜æ²¡æœ‰å®šä½åˆ°å…ƒç´ ï¼Œåˆ™æŠ›å‡ºå¼‚å¸¸ã€‚</p>
<h5>2.2.2 å‚è€ƒä»£ç 2</h5>
<div class="cnblogs_code">
<pre><code><span style="color: #008000;">#</span><span style="color: #008000;"> coding=utf-8ğŸ”¥</span>

<span style="color: #008000;">#</span><span style="color: #008000;"> 1.å…ˆè®¾ç½®ç¼–ç ï¼Œutf-8å¯æ”¯æŒä¸­è‹±æ–‡ï¼Œå¦‚ä¸Šï¼Œä¸€èˆ¬æ”¾åœ¨ç¬¬ä¸€è¡Œ</span>

<span style="color: #008000;">#</span><span style="color: #008000;"> 2.æ³¨é‡Šï¼šåŒ…æ‹¬è®°å½•åˆ›å»ºæ—¶é—´ï¼Œåˆ›å»ºäººï¼Œé¡¹ç›®åç§°ã€‚</span>
<span style="color: #800000;">'''</span><span style="color: #800000;">
Created on 2019-12-10
@author: åŒ—äº¬-å®å“¥   QQäº¤æµç¾¤ï¼š705269076
Project: ã€Šæ‰‹æŠŠæ‰‹æ•™ä½ ã€‹ç³»åˆ—ç»ƒä¹ ç¯‡ä¹‹9-python+ seleniumè‡ªåŠ¨åŒ–æµ‹è¯•
</span><span style="color: #800000;">'''</span>

<span style="color: #008000;">#</span><span style="color: #008000;"> 3.å¯¼å…¥æ¨¡å—</span>

<span style="color: #0000ff;">from</span> selenium <span style="color: #0000ff;">import</span><span style="color: #000000;"> webdriver
driver </span>=<span style="color: #000000;"> webdriver.Chrome()
driver.get(</span><span style="color: #800000;">'</span><span style="color: #800000;">https://www.baidu.com/</span><span style="color: #800000;">'</span><span style="color: #000000;">)
driver.implicitly_wait(</span>30)<span style="color: #008000;">#</span><span style="color: #008000;">éšæ€§ç­‰å¾…,æœ€é•¿30s</span>
<span style="color: #0000ff;">print</span><span style="color: #000000;">(driver.current_url)
driver.quit()</span></pre>
</div>
<h4>2.3.æ˜¾æ€§ç­‰å¾… WebDriverWait</h4>
<p>WebDriverWaité…åˆè¯¥ç±»çš„until()å’Œuntil_not()æ–¹æ³•ï¼Œæ ¹æ®æ¡ä»¶çµæ´»çš„ç­‰å¾…</p>
<p>ç¨‹åºæ¯éš”xxç§’çœ‹ä¸€çœ¼ï¼Œå¦‚æœæ¡ä»¶æˆç«‹äº†ï¼Œåˆ™æ‰§è¡Œä¸‹ä¸€æ­¥ï¼Œå¦åˆ™ç»§ç»­ç­‰å¾…ï¼Œç›´åˆ°è¶…è¿‡è®¾ç½®çš„æœ€é•¿æ—¶é—´ï¼Œç„¶åæŠ›å‡ºTimeoutExceptionã€‚</p>
<p>æ˜¾å¼ç­‰å¾…æ˜¯ä½ åœ¨ä»£ç ä¸­å®šä¹‰ç­‰å¾…ä¸€å®šæ¡ä»¶å‘ç”Ÿåå†è¿›ä¸€æ­¥æ‰§è¡Œä½ çš„ä»£ç ã€‚</p>
<p>A. ä½¿ç”¨å‰ï¼Œå…ˆå¼•ç”¨ç›¸å…³åº“</p>
<p>B. ç¡®å®šå…ƒç´ çš„å®šä½è¡¨è¾¾å¼</p>
<p>C.&nbsp; ä½¿ç”¨expected_conditionså¯¹åº”çš„æ–¹æ³•æ¥ç”Ÿæˆåˆ¤æ–­æ¡ä»¶</p>
<div class="cnblogs_code">
<pre><code>WebDriverWait(driver,10,1<span style="color: #000000;">).until(EC.visibility_of_element_located((By.ID,ele_locator)))
WebDriverWait(driver,</span>10,1).until(EC.visibility_of_element_located((By.XPATH,ele_locator)))</pre>
</div>
<p>D.&nbsp; è°ƒç”¨WebDriverWaitç±»è®¾ç½®ç­‰å¾…æ€»æ—¶é•¿ã€è½®è¯¢å‘¨æœŸ</p>
<h5>2.3.1 å‚è€ƒä»£ç 1</h5>
<div class="cnblogs_code">
<pre><code><span style="color: #008000;">#</span><span style="color: #008000;"> coding=utf-8ğŸ”¥</span>

<span style="color: #008000;">#</span><span style="color: #008000;"> 1.å…ˆè®¾ç½®ç¼–ç ï¼Œutf-8å¯æ”¯æŒä¸­è‹±æ–‡ï¼Œå¦‚ä¸Šï¼Œä¸€èˆ¬æ”¾åœ¨ç¬¬ä¸€è¡Œ</span>

<span style="color: #008000;">#</span><span style="color: #008000;"> 2.æ³¨é‡Šï¼šåŒ…æ‹¬è®°å½•åˆ›å»ºæ—¶é—´ï¼Œåˆ›å»ºäººï¼Œé¡¹ç›®åç§°ã€‚</span>
<span style="color: #800000;">'''</span><span style="color: #800000;">
Created on 2019-12-10
@author: åŒ—äº¬-å®å“¥   QQäº¤æµç¾¤ï¼š705269076
Project: ã€Šæ‰‹æŠŠæ‰‹æ•™ä½ ã€‹ç³»åˆ—ç»ƒä¹ ç¯‡ä¹‹9-python+ seleniumè‡ªåŠ¨åŒ–æµ‹è¯•
</span><span style="color: #800000;">'''</span>

<span style="color: #008000;">#</span><span style="color: #008000;"> 3.å¯¼å…¥æ¨¡å—</span>

<span style="color: #008000;">#</span><span style="color: #008000;">A. ä½¿ç”¨å‰ï¼Œå…ˆå¼•ç”¨ç›¸å…³åº“</span>
<span style="color: #0000ff;">from</span> selenium <span style="color: #0000ff;">import</span><span style="color: #000000;"> webdriver
</span><span style="color: #0000ff;">from</span> selenium.webdriver.support.wait <span style="color: #0000ff;">import</span><span style="color: #000000;"> WebDriverWait
</span><span style="color: #0000ff;">from</span> selenium.webdriver.support <span style="color: #0000ff;">import</span><span style="color: #000000;"> expected_conditions as EC
</span><span style="color: #0000ff;">from</span> selenium.webdriver.common.by <span style="color: #0000ff;">import</span><span style="color: #000000;"> By
 
driver </span>= webdriver.Chrome()<span style="color: #008000;">#</span><span style="color: #008000;">æ‰“å¼€Chromeæµè§ˆå™¨</span>
driver.get(<span style="color: #800000;">'</span><span style="color: #800000;">https://www.baidu.com/</span><span style="color: #800000;">'</span>)<span style="color: #008000;">#</span><span style="color: #008000;">æ‰“å¼€ç™¾åº¦</span>
driver.find_element_by_xpath(<span style="color: #800000;">'</span><span style="color: #800000;">//div[@id="u1"]//a[@name="tj_login"]</span><span style="color: #800000;">'</span>).click()<span style="color: #008000;">#</span><span style="color: #008000;">ç‚¹å‡»ã€ç™»å½•ã€‘ï¼›click() æ–¹æ³•ï¼Œå¯æ¨¡æ‹Ÿåœ¨æŒ‰é’®ä¸Šçš„ä¸€æ¬¡é¼ æ ‡å•å‡»ã€‚</span><span style="color: #008000;">
#</span><span style="color: #008000;"> B. ç¡®å®šå…ƒç´ çš„å®šä½è¡¨è¾¾å¼</span>
ele_locator = <span style="color: #800000;">"</span><span style="color: #800000;">TANGRAM__PSP_10__footerULoginBtn</span><span style="color: #800000;">"</span><span style="color: #008000;">#</span><span style="color: #008000;">é€šè¿‡id,ç¡®å®š&lsquo;ç”¨æˆ·åç™»å½•&rsquo;å…ƒç´ </span>
 
<span style="color: #008000;">#</span><span style="color: #008000;"> C.  ä½¿ç”¨expected_conditionså¯¹åº”çš„æ–¹æ³•æ¥ç”Ÿæˆåˆ¤æ–­æ¡ä»¶</span><span style="color: #008000;">
#</span><span style="color: #008000;"> EC.æ–¹æ³•å(å®šä½æ–¹å¼,å®šä½è¡¨è¾¾å¼)</span><span style="color: #008000;">
#</span><span style="color: #008000;"> EC.visibility_of_element_located(By.ID,ele_locator)#å…ƒç´ å¯è§</span>
 
<span style="color: #008000;">#</span><span style="color: #008000;"> D.  è°ƒç”¨WebDriverWaitç±»è®¾ç½®ç­‰å¾…æ€»æ—¶é•¿ã€è½®è¯¢å‘¨æœŸ</span><span style="color: #008000;">
#</span><span style="color: #008000;"> WebDriverWait(driver, è¶…æ—¶æ—¶é•¿, è°ƒç”¨é¢‘ç‡ï¼ˆé»˜è®¤0.5sï¼‰).until(å¯æ‰§è¡Œæ–¹æ³•, è¶…æ—¶æ—¶è¿”å›çš„ä¿¡æ¯)</span><span style="color: #008000;">
#</span><span style="color: #008000;"> ç­‰å¾…10ç§’é’Ÿï¼Œæ¯éš”1ç§’å»æŸ¥çœ‹å¯¹åº”çš„å…ƒç´ æ˜¯å¦å¯è§ï¼›å¦‚æœå¯è§ï¼Œç»§ç»­ä¸‹ä¸€æ­¥æ“ä½œï¼›å¦‚æœä¸å¯è§ï¼Œåˆ™ç»§ç»­ç­‰å¾…ï¼Œç›´åˆ°10sç»“æŸï¼Œå¦‚æœå…ƒç´ è¿˜æ˜¯ä¸å¯è§ï¼Œåˆ™æŠ›å‡ºè¶…æ—¶å¼‚å¸¸</span>
WebDriverWait(driver,10,1<span style="color: #000000;">).until(EC.visibility_of_element_located((By.ID,ele_locator)))

driver.find_element_by_id(</span><span style="color: #800000;">'</span><span style="color: #800000;">TANGRAM__PSP_10__footerULoginBtn</span><span style="color: #800000;">'</span>).click()<span style="color: #008000;">#</span><span style="color: #008000;">ç‚¹å‡»ã€ç”¨æˆ·åç™»å½•ã€‘</span>
<span style="color: #000000;"> 
driver.close()</span><span style="color: #008000;">#</span><span style="color: #008000;">å…³é—­å½“å‰çª—å£</span></pre>
</div>
<h5>2.3.2 å‚è€ƒä»£ç 2</h5>
<div class="cnblogs_code">
<pre><code># coding=utf-8ğŸ”¥

# 1.å…ˆè®¾ç½®ç¼–ç ï¼Œutf-8å¯æ”¯æŒä¸­è‹±æ–‡ï¼Œå¦‚ä¸Šï¼Œä¸€èˆ¬æ”¾åœ¨ç¬¬ä¸€è¡Œ

# 2.æ³¨é‡Šï¼šåŒ…æ‹¬è®°å½•åˆ›å»ºæ—¶é—´ï¼Œåˆ›å»ºäººï¼Œé¡¹ç›®åç§°ã€‚
'''
Created on 2019-12-10
@author: åŒ—äº¬-å®å“¥   QQäº¤æµç¾¤ï¼š705269076
Project: ã€Šæ‰‹æŠŠæ‰‹æ•™ä½ ã€‹ç³»åˆ—ç»ƒä¹ ç¯‡ä¹‹9-python+ seleniumè‡ªåŠ¨åŒ–æµ‹è¯•
'''

# 3.å¯¼å…¥æ¨¡å—

from time import<span> ctime
from selenium import<span> webdriver
from selenium.webdriver.common.by import<span> By
from selenium.webdriver.support.ui import<span> WebDriverWait
from selenium.webdriver.support import<span> expected_conditions as EC

dr =<span> webdriver.Chrome()
dr.get('https://www.baidu.com'<span>)

try<span>:
    print<span>(ctime())
    element = WebDriverWait(dr, 10<span>).until(
        EC.presence_of_element_located((By.ID, "kw"<span>))
    )
    # WebDriverWait(driver=self.driver, timeout=300, poll_frequency=0.5,  ignored_exceptions=None)
    # driverï¼šæµè§ˆå™¨é©±åŠ¨
    # timeoutï¼šæœ€é•¿è¶…æ—¶ç­‰å¾…æ—¶é—´
    # poll_frequencyï¼šæ£€æµ‹çš„æ—¶é—´é—´éš”ï¼Œé»˜è®¤ä¸º500ms
    # ignore_exceptionï¼šè¶…æ—¶åæŠ›å‡ºçš„å¼‚å¸¸ä¿¡æ¯ï¼Œé»˜è®¤æƒ…å†µä¸‹æŠ› NoSuchElementException å¼‚å¸¸
    print("æˆ‘å·²æ‰¾åˆ°"<span>)
finally<span>:
    print<span>(ctime())
    dr.quit()</span></span></span></span></span></span></span></span></span></span></span></span></span></span></pre>
</div>
<p>æ‰§è¡Œç»“æœï¼š</p>
<p><img src="./images/ã€Šæ‰‹æŠŠæ‰‹æ•™ä½ ã€‹ç³»åˆ—ç»ƒä¹ ç¯‡ä¹‹9-python+ seleniumè‡ªåŠ¨åŒ–æµ‹è¯• -ç•ªå¤–ç¯‡ - æœ€åä¸€æ³¢å•Šï¼ï¼ï¼ï¼ˆè¯¦ç»†æ•™ç¨‹ï¼‰0.png" alt="" /></p>
<p>ä»¥ä¸Šä»£ç æ‰§è¡Œåå°±å‘ç°ï¼Œæ•´æ®µä»£ç æ‰§è¡Œé€Ÿåº¦éå¸¸å¿«ï¼Œå³ä½¿æˆ‘åœ¨WebDriverWaitä¸­è®¾ç½®10ç§’ï¼Œä¹Ÿä¸ä¼šç­‰å¾…10ç§’çš„æƒ…å†µï¼Œå› ä¸ºåœ¨ä¸åˆ°ä¸€ç§’å†…ï¼Œå·²ç»å®Œæˆäº†åŠ è½½å¹¶å®šä½idä¸º&ldquo;kw&rdquo;çš„å…ƒç´ ã€‚</p>
<p>é€šè¿‡WebDriverWait å’Œ ExpectedCondition ç»„åˆä½¿ç”¨ï¼Œè®©æˆ‘ä»¬çš„ä»£ç æ‰§è¡Œåªéœ€è¦ç­‰å¾…éœ€è¦çš„æ—¶é•¿ï¼Œè€Œä¸æ˜¯å›ºå®šçš„æ—¶é•¿ï¼Œè¿™æ ·æœ€å¤§é™åº¦çš„èŠ‚çœæ—¶é—´ã€‚</p>
<p>&nbsp;æ­¤å¤–ExpectedConditionç±»ä¸­æä¾›äº†å¾ˆå¤šé¢„æœŸæ¡ä»¶åˆ¤æ–­æ–¹æ³•ï¼Œçœå»äº†å†åˆ›å»ºåŒ…çš„åŠŸå¤«ï¼š</p>
<div class="cnblogs_code">
<pre><code><span style="color: #800000;">"""</span><span style="color: #800000;">
title_isï¼šåˆ¤æ–­å½“å‰é¡µé¢çš„titleæ˜¯å¦ç­‰äºé¢„æœŸ
title_containsï¼šåˆ¤æ–­å½“å‰é¡µé¢çš„titleæ˜¯å¦åŒ…å«é¢„æœŸå­—ç¬¦ä¸²
presence_of_element_locatedï¼šåˆ¤æ–­æŸä¸ªå…ƒç´ æ˜¯å¦è¢«åŠ åˆ°äº†domæ ‘é‡Œï¼Œå¹¶ä¸ä»£è¡¨è¯¥å…ƒç´ ä¸€å®šå¯è§
visibility_of_element_locatedï¼šåˆ¤æ–­æŸä¸ªå…ƒç´ æ˜¯å¦å¯è§. å¯è§ä»£è¡¨å…ƒç´ ééšè—ï¼Œå¹¶ä¸”å…ƒç´ çš„å®½å’Œé«˜éƒ½ä¸ç­‰äº0
visibility_ofï¼šè·Ÿä¸Šé¢çš„æ–¹æ³•åšä¸€æ ·çš„äº‹æƒ…ï¼Œåªæ˜¯ä¸Šé¢çš„æ–¹æ³•è¦ä¼ å…¥locatorï¼Œè¿™ä¸ªæ–¹æ³•ç›´æ¥ä¼ å®šä½åˆ°çš„elementå°±å¥½äº†
presence_of_all_elements_locatedï¼šåˆ¤æ–­æ˜¯å¦è‡³å°‘æœ‰1ä¸ªå…ƒç´ å­˜åœ¨äºdomæ ‘ä¸­ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œå¦‚æœé¡µé¢ä¸Šæœ‰nä¸ªå…ƒç´ çš„classéƒ½æ˜¯'column-md-3'ï¼Œé‚£ä¹ˆåªè¦æœ‰1ä¸ªå…ƒç´ å­˜åœ¨ï¼Œè¿™ä¸ªæ–¹æ³•å°±è¿”å›True
text_to_be_present_in_elementï¼šåˆ¤æ–­æŸä¸ªå…ƒç´ ä¸­çš„textæ˜¯å¦ åŒ…å« äº†é¢„æœŸçš„å­—ç¬¦ä¸²
text_to_be_present_in_element_valueï¼šåˆ¤æ–­æŸä¸ªå…ƒç´ ä¸­çš„valueå±æ€§æ˜¯å¦åŒ…å«äº†é¢„æœŸçš„å­—ç¬¦ä¸²
frame_to_be_available_and_switch_to_itï¼šåˆ¤æ–­è¯¥frameæ˜¯å¦å¯ä»¥switchè¿›å»ï¼Œå¦‚æœå¯ä»¥çš„è¯ï¼Œè¿”å›Trueå¹¶ä¸”switchè¿›å»ï¼Œå¦åˆ™è¿”å›False
invisibility_of_element_locatedï¼šåˆ¤æ–­æŸä¸ªå…ƒç´ ä¸­æ˜¯å¦ä¸å­˜åœ¨äºdomæ ‘æˆ–ä¸å¯è§
element_to_be_clickable - it is Displayed and Enabledï¼šåˆ¤æ–­æŸä¸ªå…ƒç´ ä¸­æ˜¯å¦å¯è§å¹¶ä¸”æ˜¯enableçš„ï¼Œè¿™æ ·çš„è¯æ‰å«clickable
staleness_ofï¼šç­‰æŸä¸ªå…ƒç´ ä»domæ ‘ä¸­ç§»é™¤ï¼Œæ³¨æ„ï¼Œè¿™ä¸ªæ–¹æ³•ä¹Ÿæ˜¯è¿”å›Trueæˆ–False
element_to_be_selectedï¼šåˆ¤æ–­æŸä¸ªå…ƒç´ æ˜¯å¦è¢«é€‰ä¸­äº†,ä¸€èˆ¬ç”¨åœ¨ä¸‹æ‹‰åˆ—è¡¨
element_located_to_be_selected
element_selection_state_to_beï¼šåˆ¤æ–­æŸä¸ªå…ƒç´ çš„é€‰ä¸­çŠ¶æ€æ˜¯å¦ç¬¦åˆé¢„æœŸ
element_located_selection_state_to_beï¼šè·Ÿä¸Šé¢çš„æ–¹æ³•ä½œç”¨ä¸€æ ·ï¼Œåªæ˜¯ä¸Šé¢çš„æ–¹æ³•ä¼ å…¥å®šä½åˆ°çš„elementï¼Œè€Œè¿™ä¸ªæ–¹æ³•ä¼ å…¥locator
alert_is_presentï¼šåˆ¤æ–­é¡µé¢ä¸Šæ˜¯å¦å­˜åœ¨alert
</span><span style="color: #800000;">"""</span></pre>
</div>
<p>å¦å¤–è¿™é‡Œä½¿ç”¨äº†until()å‡½æ•°ä¹Ÿå¯ä»¥ä½¿ç”¨until_not()</p>
<div>
<p>ã€€ã€€until_not(method, message='')</p>
<p>ã€€ã€€è°ƒç”¨è¯¥æ–¹æ³•ä½“æä¾›çš„å›è°ƒå‡½æ•°ä½œä¸ºä¸€ä¸ªå‚æ•°ï¼Œç›´åˆ°è¿”å›å€¼ä¸ºFalse</p>
<p>ã€€ã€€until(method, message='')</p>
<p>ã€€ã€€è°ƒç”¨è¯¥æ–¹æ³•ä½“æä¾›çš„å›è°ƒå‡½æ•°ä½œä¸ºä¸€ä¸ªå‚æ•°ï¼Œç›´åˆ°è¿”å›å€¼ä¸ºTrue</p>
<h3>3. ä¸‹æ‹‰æ¡†orå¼¹æ¡†</h3>
</div>
</div>
</div>
<p>é€šå¸¸æƒ…å†µä¸‹ï¼Œåœ¨ç½‘é¡µä¸­ä¼šæœ‰ä¸€äº›ä¸‹æ‹‰æ¡†è¿›è¡Œé€‰æ‹©æˆ–è€…ç»™ä½ ä¸€ä¸ªå¼¹æ¡†å‘Šè¯‰ä½ éœ€è¦è¿›è¡Œç¡®è®¤ï¼Œé‡åˆ°è¿™æ ·çš„æƒ…å†µå¦‚ä½•è§£å†³å‘¢ï¼Œå®å“¥åœ¨è¿™é‡Œå°±æ¥ç®€å•åœ°è¯´ä¸€è¯´&hellip;&hellip;&lsquo;&rsquo;</p>
<h4>3.1 ä»£ç å®ç°ï¼š</h4>
<p><img src="./images/ã€Šæ‰‹æŠŠæ‰‹æ•™ä½ ã€‹ç³»åˆ—ç»ƒä¹ ç¯‡ä¹‹9-python+ seleniumè‡ªåŠ¨åŒ–æµ‹è¯• -ç•ªå¤–ç¯‡ - æœ€åä¸€æ³¢å•Šï¼ï¼ï¼ï¼ˆè¯¦ç»†æ•™ç¨‹ï¼‰1.png" alt="" /></p>
<h4>3.2 å‚è€ƒä»£ç ï¼š</h4>
<div class="cnblogs_code">
<pre><code><span style="color: #008000;">#</span><span style="color: #008000;"> coding=utf-8ğŸ”¥</span>

<span style="color: #008000;">#</span><span style="color: #008000;"> 1.å…ˆè®¾ç½®ç¼–ç ï¼Œutf-8å¯æ”¯æŒä¸­è‹±æ–‡ï¼Œå¦‚ä¸Šï¼Œä¸€èˆ¬æ”¾åœ¨ç¬¬ä¸€è¡Œ</span>

<span style="color: #008000;">#</span><span style="color: #008000;"> 2.æ³¨é‡Šï¼šåŒ…æ‹¬è®°å½•åˆ›å»ºæ—¶é—´ï¼Œåˆ›å»ºäººï¼Œé¡¹ç›®åç§°ã€‚</span>
<span style="color: #800000;">'''</span><span style="color: #800000;">
Created on 2019-12-09
@author: åŒ—äº¬-å®å“¥   QQäº¤æµç¾¤ï¼š705269076
Project: python+ seleniumè‡ªåŠ¨åŒ–æµ‹è¯•ç»ƒä¹ ç¯‡8
</span><span style="color: #800000;">'''</span>

<span style="color: #008000;">#</span><span style="color: #008000;"> 3.å¯¼å…¥æ¨¡å—</span>

<span style="color: #0000ff;">import</span><span style="color: #000000;"> time

</span><span style="color: #0000ff;">from</span> selenium <span style="color: #0000ff;">import</span><span style="color: #000000;"> webdriver
</span><span style="color: #0000ff;">from</span> selenium.webdriver.common.by <span style="color: #0000ff;">import</span><span style="color: #000000;"> By
</span><span style="color: #0000ff;">from</span> selenium.webdriver.common.keys <span style="color: #0000ff;">import</span><span style="color: #000000;"> Keys
</span><span style="color: #0000ff;">from</span> selenium.webdriver.common.action_chains <span style="color: #0000ff;">import</span><span style="color: #000000;"> ActionChains
</span><span style="color: #0000ff;">from</span> selenium.webdriver.support.select <span style="color: #0000ff;">import</span><span style="color: #000000;"> Select


driver </span>=<span style="color: #000000;"> webdriver.Chrome()
driver.get(</span><span style="color: #800000;">"</span><span style="color: #800000;">https://www.baidu.com</span><span style="color: #800000;">"</span><span style="color: #000000;">)
time.sleep(</span>5<span style="color: #000000;">)

</span><span style="color: #008000;">#</span><span style="color: #008000;"> driver.find_element(By.ID, "kw").send_keys("selenium&amp;python")</span><span style="color: #008000;">
#</span><span style="color: #008000;"> driver.find_element(By.ID, "su").click()</span><span style="color: #008000;">
#</span><span style="color: #008000;"> driver.find_element(By.XPATH, '/html/body/div[1]/div[5]/div[1]/div[2]/div[1]/div[2]/div[1]').click()</span><span style="color: #008000;">
#</span><span style="color: #008000;"> driver.find_element(By.XPATH, '/html/body/div[1]/div[5]/div[1]/div[2]/div[1]/div[1]/span[2]').click()</span><span style="color: #008000;">
#</span><span style="color: #008000;"> æŠ˜è…¾åŠå¤©æ‰å‘ç°å®šä½å‡ºæ¥çš„ä¸æ˜¯ä¸‹æ‹‰æ¡†&hellip;&hellip;</span>
driver.find_element(By.LINK_TEXT, <span style="color: #800000;">'</span><span style="color: #800000;">è®¾ç½®</span><span style="color: #800000;">'</span><span style="color: #000000;">).click()
driver.find_element(By.LINK_TEXT, </span><span style="color: #800000;">'</span><span style="color: #800000;">æœç´¢è®¾ç½®</span><span style="color: #800000;">'</span><span style="color: #000000;">).click()
time.sleep(</span>2<span style="color: #000000;">)

sel </span>= driver.find_element(By.XPATH, <span style="color: #800000;">'</span><span style="color: #800000;">//*[@id="nr"]</span><span style="color: #800000;">'</span>)  <span style="color: #008000;">#</span><span style="color: #008000;"> å®šä½ä¸‹æ‹‰æ¡†</span>
Select(sel).select_by_value(<span style="color: #800000;">'</span><span style="color: #800000;">50</span><span style="color: #800000;">'</span>)  <span style="color: #008000;">#</span><span style="color: #008000;"> é€šè¿‡valueçš„å€¼è¿›è¡Œé€‰å®šæ¡ç›®</span>
driver.find_element(By.CLASS_NAME, <span style="color: #800000;">'</span><span style="color: #800000;">prefpanelgo</span><span style="color: #800000;">'</span><span style="color: #000000;">).click()
time.sleep(</span>2<span style="color: #000000;">)
driver.switch_to.alert.accept()  </span><span style="color: #008000;">#</span><span style="color: #008000;"> æ­¤å¤„åŒæ„è­¦å‘Šæ¡†æç¤ºå†…å®¹</span>
time.sleep(2<span style="color: #000000;">)

driver.quit()</span></pre>
</div>
<h4>3.3 è¿è¡Œç»“æœï¼š</h4>
<p>è¿è¡Œä»£ç åï¼Œæ§åˆ¶å°æ‰“å°å¦‚ä¸‹å›¾çš„ç»“æœ</p>
<p><img src="./images/ã€Šæ‰‹æŠŠæ‰‹æ•™ä½ ã€‹ç³»åˆ—ç»ƒä¹ ç¯‡ä¹‹9-python+ seleniumè‡ªåŠ¨åŒ–æµ‹è¯• -ç•ªå¤–ç¯‡ - æœ€åä¸€æ³¢å•Šï¼ï¼ï¼ï¼ˆè¯¦ç»†æ•™ç¨‹ï¼‰2.png" alt="" /></p>
<h4>3.4 æµè§ˆå™¨</h4>
<p>æµè§ˆå™¨è·³è½¬åˆ°è®¾ç½®é¡µé¢ï¼Œä¼šæç¤º&ldquo;å·²è®°å½•ä¸‹æ‚¨çš„åå¥½&rdquo;</p>
<p><img src="./images/ã€Šæ‰‹æŠŠæ‰‹æ•™ä½ ã€‹ç³»åˆ—ç»ƒä¹ ç¯‡ä¹‹9-python+ seleniumè‡ªåŠ¨åŒ–æµ‹è¯• -ç•ªå¤–ç¯‡ - æœ€åä¸€æ³¢å•Šï¼ï¼ï¼ï¼ˆè¯¦ç»†æ•™ç¨‹ï¼‰3.png" alt="" /></p>
<p>åœ¨ç™¾åº¦é¦–é¡µæƒ³è¦è¿›è¡Œè®¾ç½®æ¯æ¬¡æœç´¢é¡µé¢æ˜¾ç¤ºçš„æ•°ç›®ï¼Œå°±ä¼šæœ‰ä¸€ä¸ªä¸‹æ‹‰æ¡†è¿›è¡Œé€‰æ‹©ï¼Œè¿™é‡Œå¯ä»¥å¯¼å…¥Selectè¿™ä¸ªæ¨¡å—è¿›è¡Œå¯¹ä¸‹æ‹‰æ¡†è¿›è¡Œé€‰æ‹©ï¼Œé€šå¸¸ä¸‹æ‹‰æ¡†çš„åˆ—è¡¨æ˜¯åŒ…å«ä¸€ä¸ªå€¼çš„ï¼Œè¿™æ ·å°±å¯ä»¥é€šè¿‡valueæ¥é€‰å®šï¼Œå®Œæˆè®¾ç½®ä¹‹åï¼Œå½“ç„¶æ˜¯è¦ä¿å­˜è®¾ç½®å•¦ï¼Œç‚¹å‡»ä¿å­˜å‘ç°ï¼Œå±…ç„¶æœ‰</p>
<p>ä¸€ä¸ªå¼¹æ¡†ï¼Œè¿™å¯å¦‚ä½•æ˜¯å¥½ï¼Œåˆ‡æ¢è‡³alertä¹‹åæ¥å—å§&hellip;&hellip;</p>
<p>é€šè¿‡åœ¨ç¼–è¾‘å™¨ä¸­çš„æç¤ºï¼Œæˆ‘ä»¬åŒæ ·å¯ä»¥ç»™å¼¹æ¡†å‘é€ä¸€ä¸ªå€¼ï¼Œå½“ç„¶è¿™é‡Œè®¾ç½®ä¸­å¹¶æ²¡æœ‰å‡ºç°è¿™ç±»æƒ…å†µã€‚</p>
<p>è¿™æ¬¡å¯¹ä¸‹æ‹‰æ¡†å’Œå¼¹æ¡†çš„å¤„ç†è¿‡ç¨‹ä¸­ï¼ŒæŠ˜è…¾äº†ä¸çŸ­æ—¶é—´ï¼ŒåŸå› å°±æ˜¯å…ƒç´ ç­‰å¾…çš„é—®é¢˜ï¼Œä¸‹å›è¦ä»”ç»†ç ”ç©¶ä¸‹å…ƒç´ ç­‰å¾…çš„é—®é¢˜äº†ã€‚</p>
<h3>4. è‡ªåŠ¨åŒ–æµ‹è¯•demo</h3>
<p>ä½¿ç”¨seleniumè¿›è¡Œæµ‹è¯•ï¼Œå½“ç„¶æ˜¯éœ€è¦è¿›è¡ŒéªŒè¯çš„ï¼Œæ­¤æ—¶ç»“åˆpythonçš„æ–­è¨€å‡½æ•°å°±å˜å¾—éå¸¸æœ‰ç”¨äº†ã€‚æµ‹è¯•ä¸­è®¾å®šå¥½é¢„æœŸï¼Œå½“å®é™…æƒ…å†µä¸é¢„æœŸæœ‰å·®åˆ«ï¼Œç»™å‡ºé”™è¯¯ä¿¡æ¯ï¼Œå¥½åƒæ­£æ˜¯æ‰€å¸Œæœ›çš„ã€‚</p>
<p>æ¥ä¸€æ®µç®€å•çš„ä»£ç çœ‹ä¸‹æ–­è¨€çš„åŸºæœ¬ä½¿ç”¨:</p>
<div class="cnblogs_code">
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a title="å¤åˆ¶ä»£ç "><img src="./images/ã€Šæ‰‹æŠŠæ‰‹æ•™ä½ ã€‹ç³»åˆ—ç»ƒä¹ ç¯‡ä¹‹9-python+ seleniumè‡ªåŠ¨åŒ–æµ‹è¯• -ç•ªå¤–ç¯‡ - æœ€åä¸€æ³¢å•Šï¼ï¼ï¼ï¼ˆè¯¦ç»†æ•™ç¨‹ï¼‰4.png" alt="å¤åˆ¶ä»£ç " /></a></span></div>
<pre><code><span data-darkreader-inline-color="">#<span data-darkreader-inline-color=""> coding:utf-8

<span data-darkreader-inline-color="">import<span data-darkreader-inline-color=""> time

<span data-darkreader-inline-color="">from selenium <span data-darkreader-inline-color="">import<span data-darkreader-inline-color=""> webdriver

dr =<span data-darkreader-inline-color=""> webdriver.Chrome()
dr.maximize_window()

dr.get(<span data-darkreader-inline-color="">"<span data-darkreader-inline-color="">https://www.baidu.com<span data-darkreader-inline-color="">"<span data-darkreader-inline-color="">)
<span data-darkreader-inline-color="">print<span data-darkreader-inline-color="">(dr.title)

<span data-darkreader-inline-color="">try<span data-darkreader-inline-color="">:
    <span data-darkreader-inline-color="">assert (dr.title == <span data-darkreader-inline-color="">"<span data-darkreader-inline-color="">ç™¾åº¦ï¼Œä½ å°±çŸ¥é“<span data-darkreader-inline-color="">"<span data-darkreader-inline-color="">)
<span data-darkreader-inline-color="">except<span data-darkreader-inline-color="">:
    <span data-darkreader-inline-color="">print(<span data-darkreader-inline-color="">'<span data-darkreader-inline-color="">æ ‡é¢˜é”™è¯¯ï¼Œè¯·æŸ¥çœ‹é”™è¯¯ä¿¡æ¯<span data-darkreader-inline-color="">'<span data-darkreader-inline-color="">)

time.sleep(5<span data-darkreader-inline-color="">)
dr.quit()</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a title="å¤åˆ¶ä»£ç "><img src="./images/ã€Šæ‰‹æŠŠæ‰‹æ•™ä½ ã€‹ç³»åˆ—ç»ƒä¹ ç¯‡ä¹‹9-python+ seleniumè‡ªåŠ¨åŒ–æµ‹è¯• -ç•ªå¤–ç¯‡ - æœ€åä¸€æ³¢å•Šï¼ï¼ï¼ï¼ˆè¯¦ç»†æ•™ç¨‹ï¼‰4.png" alt="å¤åˆ¶ä»£ç " /></a></span></div>
</div>
<p>è·å–é¡µé¢çš„titleæ˜¯å¦ç¬¦åˆæˆ‘ä»¬çš„é¢„æœŸï¼Œå½“æ‰“å¼€çš„ç½‘é¡µtitleä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ï¼Œä¸ä»…ä»å‡½æ•°assertçš„æç¤ºä¿¡æ¯çœ‹åˆ°åŸå› ï¼Œä¹Ÿå¯è¾“å‡ºç®€å•çš„æç¤ºä¿¡æ¯ã€‚</p>
<p>Webç™»å½•æµ‹è¯•æ˜¯å¾ˆå¸¸è§çš„æµ‹è¯•ï¼Œæ‰‹åŠ¨æµ‹è¯•å¤§å®¶å†ç†Ÿæ‚‰ä¸è¿‡äº†ï¼Œé‚£å¦‚ä½•è¿›è¡Œè‡ªåŠ¨åŒ–ç™»å½•æµ‹è¯•å‘¢ï¼æœ¬æ–‡å°±åŸºäºpython+seleniumç»“åˆunittestå•å…ƒæµ‹è¯•æ¡†æ¶æ¥è¿›è¡Œä¸€æ¬¡ç®€å•ä½†æ¯”è¾ƒå®Œæ•´çš„cnblogè‡ªåŠ¨åŒ–ç™»å½•æµ‹è¯•ï¼Œå¯æä¾›ç‚¹å‚è€ƒï¼ä¸‹é¢å°±åŒ…æ‹¬æµ‹è¯•ä»£ç å’Œæ¯ç§æµ‹è¯•æƒ…å†µçš„æˆªå›¾ã€‚</p>
<p>&nbsp;å¦ä¸€ç§æ–¹å¼æ˜¯ç»“åˆpythonæµ‹è¯•æ¡†æ¶unittestè¿›è¡ŒéªŒè¯ã€‚ä»¥ä¸‹çš„ä»£ç åªæ˜¯ä¸ºäº†æ¼”ç¤ºï¼š</p>
<div class="cnblogs_code">
<pre><code><span style="color: #008000;">#</span><span style="color: #008000;"> coding=utf-8ğŸ”¥</span>

<span style="color: #008000;">#</span><span style="color: #008000;"> 1.å…ˆè®¾ç½®ç¼–ç ï¼Œutf-8å¯æ”¯æŒä¸­è‹±æ–‡ï¼Œå¦‚ä¸Šï¼Œä¸€èˆ¬æ”¾åœ¨ç¬¬ä¸€è¡Œ</span>

<span style="color: #008000;">#</span><span style="color: #008000;"> 2.æ³¨é‡Šï¼šåŒ…æ‹¬è®°å½•åˆ›å»ºæ—¶é—´ï¼Œåˆ›å»ºäººï¼Œé¡¹ç›®åç§°ã€‚</span>
<span style="color: #800000;">'''</span><span style="color: #800000;">
Created on 2019-12-10
@author: åŒ—äº¬-å®å“¥   QQäº¤æµç¾¤ï¼š705269076
Project: python+ seleniumè‡ªåŠ¨åŒ–æµ‹è¯•ç»ƒä¹ ç¯‡9
</span><span style="color: #800000;">'''</span>

<span style="color: #008000;">#</span><span style="color: #008000;"> 3.å¯¼å…¥æ¨¡å—</span>

<span style="color: #0000ff;">import</span><span style="color: #000000;"> unittest
</span><span style="color: #0000ff;">from</span> selenium <span style="color: #0000ff;">import</span><span style="color: #000000;"> webdriver
</span><span style="color: #0000ff;">from</span> time <span style="color: #0000ff;">import</span><span style="color: #000000;"> sleep
</span><span style="color: #800000;">'''</span><span style="color: #800000;">
cnblogçš„ç™»å½•æµ‹è¯•ï¼Œåˆ†ä¸‹é¢å‡ ç§æƒ…å†µï¼š
(1)ç”¨æˆ·åã€å¯†ç æ­£ç¡®
(2)ç”¨æˆ·åæ­£ç¡®ã€å¯†ç ä¸æ­£ç¡®
(3)ç”¨æˆ·åæ­£ç¡®ã€å¯†ç ä¸ºç©º
(4)ç”¨æˆ·åé”™è¯¯ã€å¯†ç æ­£ç¡®
(5)ç”¨æˆ·åä¸ºç©ºã€å¯†ç æ­£ç¡®ï¼ˆè¿˜æœ‰ç”¨æˆ·åå’Œå¯†ç å‡ä¸ºç©ºæ—¶ä¸æ­¤æƒ…å†µæ˜¯ä¸€æ ·çš„ï¼Œè¿™é‡Œå°±ä¸å•ç‹¬æµ‹è¯•äº†ï¼‰
</span><span style="color: #800000;">'''</span>

<span style="color: #0000ff;">class</span><span style="color: #000000;"> LoginCase(unittest.TestCase):

    </span><span style="color: #0000ff;">def</span><span style="color: #000000;"> setUp(self):
        self.dr </span>=<span style="color: #000000;"> webdriver.Chrome()
        self.dr.maximize_window()

    </span><span style="color: #008000;">#</span><span style="color: #008000;"> å®šä¹‰ç™»å½•æ–¹æ³•</span>
    <span style="color: #0000ff;">def</span><span style="color: #000000;"> login(self, username, password):
        self.dr.get(</span><span style="color: #800000;">'</span><span style="color: #800000;">https://passport.cnblogs.com/user/signin</span><span style="color: #800000;">'</span>)  <span style="color: #008000;">#</span><span style="color: #008000;"> cnblogç™»å½•é¡µé¢</span>
        self.dr.find_element_by_id(<span style="color: #800000;">'</span><span style="color: #800000;">LoginName</span><span style="color: #800000;">'</span><span style="color: #000000;">).send_keys(username)
        self.dr.find_element_by_id(</span><span style="color: #800000;">'</span><span style="color: #800000;">Password</span><span style="color: #800000;">'</span><span style="color: #000000;">).send_keys(password)
        self.dr.find_element_by_id(</span><span style="color: #800000;">'</span><span style="color: #800000;">submitBtn</span><span style="color: #800000;">'</span><span style="color: #000000;">).click()

    </span><span style="color: #0000ff;">def</span><span style="color: #000000;"> test_login_success(self):
        </span><span style="color: #800000;">'''</span><span style="color: #800000;">ç”¨æˆ·åã€å¯†ç æ­£ç¡®</span><span style="color: #800000;">'''</span><span style="color: #000000;">
        self.login(</span><span style="color: #800000;">'</span><span style="color: #800000;">åŒ—äº¬-å®å“¥</span><span style="color: #800000;">'</span>, <span style="color: #800000;">'</span><span style="color: #800000;">!qaz2wsx</span><span style="color: #800000;">'</span>)  <span style="color: #008000;">#</span><span style="color: #008000;"> æ­£ç¡®ç”¨æˆ·åå’Œå¯†ç </span>
        sleep(3<span style="color: #000000;">)
        link </span>= self.dr.find_element_by_id(<span style="color: #800000;">'</span><span style="color: #800000;">lnk_current_user</span><span style="color: #800000;">'</span><span style="color: #000000;">)
        self.assertTrue(</span><span style="color: #800000;">'</span><span style="color: #800000;">åŒ—äº¬-å®å“¥</span><span style="color: #800000;">'</span> <span style="color: #0000ff;">in</span> link.text)  <span style="color: #008000;">#</span><span style="color: #008000;"> ç”¨assertTrue(x)æ–¹æ³•æ¥æ–­è¨€  bool(x) is True ç™»å½•æˆåŠŸåç”¨æˆ·æ˜µç§°åœ¨lnk_current_useré‡Œ</span>
        self.dr.get_screenshot_as_file(<span style="color: #800000;">"</span><span style="color: #800000;">D:\\cnblogtest\\login_success.jpg</span><span style="color: #800000;">"</span>)  <span style="color: #008000;">#</span><span style="color: #008000;"> æˆªå›¾  å¯è‡ªå®šä¹‰æˆªå›¾åçš„ä¿å­˜ä½ç½®å’Œå›¾ç‰‡å‘½å</span>

    <span style="color: #0000ff;">def</span><span style="color: #000000;"> test_login_pwd_error(self):
        </span><span style="color: #800000;">'''</span><span style="color: #800000;">ç”¨æˆ·åæ­£ç¡®ã€å¯†ç ä¸æ­£ç¡®</span><span style="color: #800000;">'''</span><span style="color: #000000;">
        self.login(</span><span style="color: #800000;">'</span><span style="color: #800000;">åŒ—äº¬-å®å“¥</span><span style="color: #800000;">'</span>, <span style="color: #800000;">'</span><span style="color: #800000;">kemi</span><span style="color: #800000;">'</span>)  <span style="color: #008000;">#</span><span style="color: #008000;"> æ­£ç¡®ç”¨æˆ·åï¼Œé”™è¯¯å¯†ç </span>
        sleep(2<span style="color: #000000;">)
        error_message </span>= self.dr.find_element_by_class_name(<span style="color: #800000;">'</span><span style="color: #800000;">ajax-error-box</span><span style="color: #800000;">'</span><span style="color: #000000;">).text
        self.assertIn(</span><span style="color: #800000;">'</span><span style="color: #800000;">ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯</span><span style="color: #800000;">'</span>, error_message)  <span style="color: #008000;">#</span><span style="color: #008000;"> ç”¨assertIn(a,b)æ–¹æ³•æ¥æ–­è¨€ a in b  'ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯'åœ¨error_messageé‡Œ</span>
        self.dr.get_screenshot_as_file(<span style="color: #800000;">"</span><span style="color: #800000;">D:\\cnblogtest\\login_pwd_error.jpg</span><span style="color: #800000;">"</span><span style="color: #000000;">)

    </span><span style="color: #0000ff;">def</span><span style="color: #000000;"> test_login_pwd_null(self):
        </span><span style="color: #800000;">'''</span><span style="color: #800000;">ç”¨æˆ·åæ­£ç¡®ã€å¯†ç ä¸ºç©º</span><span style="color: #800000;">'''</span><span style="color: #000000;">
        self.login(</span><span style="color: #800000;">'</span><span style="color: #800000;">åŒ—äº¬-å®å“¥</span><span style="color: #800000;">'</span>, <span style="color: #800000;">''</span>)  <span style="color: #008000;">#</span><span style="color: #008000;"> å¯†ç ä¸ºç©º</span>
        error_message = self.dr.find_element_by_id(<span style="color: #800000;">'</span><span style="color: #800000;">Password-error</span><span style="color: #800000;">'</span><span style="color: #000000;">).text
        self.assertEqual(error_message, </span><span style="color: #800000;">'</span><span style="color: #800000;">è¯·è¾“å…¥å¯†ç </span><span style="color: #800000;">'</span>)  <span style="color: #008000;">#</span><span style="color: #008000;"> ç”¨assertEqual(a,b)æ–¹æ³•æ¥æ–­è¨€  a == b  è¯·è¾“å…¥å¯†ç ç­‰äºerror_message</span>
        self.dr.get_screenshot_as_file(<span style="color: #800000;">"</span><span style="color: #800000;">D:\\cnblogtest\\login_pwd_null.jpg</span><span style="color: #800000;">"</span><span style="color: #000000;">)

    </span><span style="color: #0000ff;">def</span><span style="color: #000000;"> test_login_user_error(self):
        </span><span style="color: #800000;">'''</span><span style="color: #800000;">ç”¨æˆ·åé”™è¯¯ã€å¯†ç æ­£ç¡®</span><span style="color: #800000;">'''</span><span style="color: #000000;">
        self.login(</span><span style="color: #800000;">'</span><span style="color: #800000;">åŒ—äº¬-å®å“¥1</span><span style="color: #800000;">'</span>, <span style="color: #800000;">'</span><span style="color: #800000;">!qaz2wsx</span><span style="color: #800000;">'</span>)  <span style="color: #008000;">#</span><span style="color: #008000;"> å¯†ç æ­£ç¡®ï¼Œç”¨æˆ·åé”™è¯¯</span>
        sleep(2<span style="color: #000000;">)
        error_message </span>= self.dr.find_element_by_id(<span style="color: #800000;">'</span><span style="color: #800000;">ajax-error-box</span><span style="color: #800000;">'</span><span style="color: #000000;">).text
        self.assertIn(</span><span style="color: #800000;">'</span><span style="color: #800000;">ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯</span><span style="color: #800000;">'</span>, error_message)  <span style="color: #008000;">#</span><span style="color: #008000;"> ç”¨assertIn(a,b)æ–¹æ³•æ¥æ–­è¨€ a in b</span>
        self.dr.get_screenshot_as_file(<span style="color: #800000;">"</span><span style="color: #800000;">D:\\cnblogtest\\login_user_error.jpg</span><span style="color: #800000;">"</span><span style="color: #000000;">)

    </span><span style="color: #0000ff;">def</span><span style="color: #000000;"> test_login_user_null(self):
        </span><span style="color: #800000;">'''</span><span style="color: #800000;">ç”¨æˆ·åä¸ºç©ºã€å¯†ç æ­£ç¡®</span><span style="color: #800000;">'''</span><span style="color: #000000;">
        self.login(</span><span style="color: #800000;">''</span>, <span style="color: #800000;">'</span><span style="color: #800000;">!qaz2wsx</span><span style="color: #800000;">'</span>)  <span style="color: #008000;">#</span><span style="color: #008000;"> ç”¨æˆ·åä¸ºç©ºï¼Œå¯†ç æ­£ç¡®</span>
        error_message = self.dr.find_element_by_id(<span style="color: #800000;">'</span><span style="color: #800000;">LoginName-error</span><span style="color: #800000;">'</span><span style="color: #000000;">).text
        self.assertEqual(error_message, </span><span style="color: #800000;">'</span><span style="color: #800000;">è¯·è¾“å…¥ç™»å½•ç”¨æˆ·å</span><span style="color: #800000;">'</span>)  <span style="color: #008000;">#</span><span style="color: #008000;"> ç”¨assertEqual(a,b)æ–¹æ³•æ¥æ–­è¨€  a == b</span>
        self.dr.get_screenshot_as_file(<span style="color: #800000;">"</span><span style="color: #800000;">D:\\cnblogtest\\login_user_null.jpg</span><span style="color: #800000;">"</span><span style="color: #000000;">)

    </span><span style="color: #0000ff;">def</span><span style="color: #000000;"> tearDown(self):
        sleep(</span>2<span style="color: #000000;">)
        </span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">'</span><span style="color: #800000;">è‡ªåŠ¨æµ‹è¯•å®Œæ¯•ï¼</span><span style="color: #800000;">'</span><span style="color: #000000;">)
        self.dr.quit()


</span><span style="color: #0000ff;">if</span> <span style="color: #800080;">__name__</span> == <span style="color: #800000;">'</span><span style="color: #800000;">__main__</span><span style="color: #800000;">'</span><span style="color: #000000;">:
    unittest.main()</span></pre>
</div>
<p>é€šè¿‡ä»¥ä¸Šä»£ç ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ä½¿ç”¨seleniumå’Œunittestæ¡†æ¶ç»“åˆï¼Œå·²ç»å¯ä»¥å¯¹ç”¨æˆ·ç™»é™†çš„æ¨¡å—åšä¸€ä¸ªç®€å•çš„è‡ªåŠ¨åŒ–æµ‹è¯•ã€‚</p>
<p><strong>ä½†æ˜¯ç°åœ¨åšå®¢å›­çš„ç™»é™†æœºåˆ¶çš„æ”¹å˜æœ‰å¯èƒ½éƒ¨åˆ†ç”¨ä¾‹ä¸æˆåŠŸï¼Œä½†æ˜¯ä½ çŸ¥é“æ€ä¹ˆåšå°±å¯ä»¥äº†ã€‚</strong></p>
<p>æµ‹è¯•æˆªå›¾å¦‚ä¸‹ï¼š</p>
<p><img src="./images/ã€Šæ‰‹æŠŠæ‰‹æ•™ä½ ã€‹ç³»åˆ—ç»ƒä¹ ç¯‡ä¹‹9-python+ seleniumè‡ªåŠ¨åŒ–æµ‹è¯• -ç•ªå¤–ç¯‡ - æœ€åä¸€æ³¢å•Šï¼ï¼ï¼ï¼ˆè¯¦ç»†æ•™ç¨‹ï¼‰6.png" alt="" /></p>
<p>&nbsp;æ­£ç¡®ç”¨æˆ·åå’Œå¯†ç ç™»å½•æˆåŠŸï¼</p>
<p><img src="./images/ã€Šæ‰‹æŠŠæ‰‹æ•™ä½ ã€‹ç³»åˆ—ç»ƒä¹ ç¯‡ä¹‹9-python+ seleniumè‡ªåŠ¨åŒ–æµ‹è¯• -ç•ªå¤–ç¯‡ - æœ€åä¸€æ³¢å•Šï¼ï¼ï¼ï¼ˆè¯¦ç»†æ•™ç¨‹ï¼‰7.png" alt="" /></p>
<p>&nbsp;ç”¨æˆ·åæ­£ç¡®ï¼Œå¯†ç ä¸ºç©º</p>
<p><img src="./images/ã€Šæ‰‹æŠŠæ‰‹æ•™ä½ ã€‹ç³»åˆ—ç»ƒä¹ ç¯‡ä¹‹9-python+ seleniumè‡ªåŠ¨åŒ–æµ‹è¯• -ç•ªå¤–ç¯‡ - æœ€åä¸€æ³¢å•Šï¼ï¼ï¼ï¼ˆè¯¦ç»†æ•™ç¨‹ï¼‰8.png" alt="" /></p>
<p>&nbsp;ç”¨æˆ·åä¸ºç©ºï¼Œå¯†ç æ­£ç¡®</p>
<p><img src="./images/ã€Šæ‰‹æŠŠæ‰‹æ•™ä½ ã€‹ç³»åˆ—ç»ƒä¹ ç¯‡ä¹‹9-python+ seleniumè‡ªåŠ¨åŒ–æµ‹è¯• -ç•ªå¤–ç¯‡ - æœ€åä¸€æ³¢å•Šï¼ï¼ï¼ï¼ˆè¯¦ç»†æ•™ç¨‹ï¼‰9.png" alt="" /></p>
<h3>5. å°ç»“</h3>
<p>&nbsp;å¥½äº†ï¼Œä»Šå¤©çš„åˆ†äº«å°±åˆ°è¿™é‡Œå§ï¼ï¼ï¼è°¢è°¢å„ä½çš„è€å¿ƒé˜…è¯»ã€‚</p>
<p>&nbsp;</p>
<p style="text-align: center;"><span style="font-size: 18px;"><strong><strong>æ‚¨çš„è‚¯å®šå°±æ˜¯æˆ‘è¿›æ­¥çš„åŠ¨åŠ›ã€‚</strong>å¦‚æœä½ æ„Ÿè§‰è¿˜ä¸é”™ï¼Œå°±è¯·é¼“åŠ±ä¸€ä¸‹å§ï¼è®°å¾—ç‚¹æ³¢&nbsp;<span style="font-size: 18pt; color: #ff0000;">æ¨è</span>&nbsp;ä¸è¦å¿˜è®°å“¦ï¼ï¼ï¼</strong></span></p>
<p><span style="font-size: 18px;">&nbsp;</span></p>
<p><img style="display: block; margin-left: auto; margin-right: auto;" src="./images/ã€Šæ‰‹æŠŠæ‰‹æ•™ä½ ã€‹ç³»åˆ—ç»ƒä¹ ç¯‡ä¹‹9-python+ seleniumè‡ªåŠ¨åŒ–æµ‹è¯• -ç•ªå¤–ç¯‡ - æœ€åä¸€æ³¢å•Šï¼ï¼ï¼ï¼ˆè¯¦ç»†æ•™ç¨‹ï¼‰10.png" alt="" /></p>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>