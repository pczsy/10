<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修写爬虫，不会正则怎么行？' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>写爬虫，不会正则怎么行？</center></div><div class='banquan'>原文出处:本文由博客园博主丹枫无迹提供。<br/>
原文连接:https://www.cnblogs.com/gl1573/p/11363079.html</div><br>
    <div id="output_wrapper_id" class="output_wrapper" style="font-size: 16px; color: #3e3e3e; line-height: 1.6; word-spacing: 0px; letter-spacing: 0px; font-family: 'Helvetica Neue', Helvetica, 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;">
<p id="tocid_0" class="toc" style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px; margin-left: 25px;"><span class="toc_item" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; display: block;"><span class="toc_left" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; margin-left: 25px;"><a style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; text-decoration: none; color: #1e6bb8; overflow-wrap: break-word;" href="#h1">1、正则基础</a></span></span><span class="toc_item" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; display: block;"><span class="toc_left" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; margin-left: 25px;"><span class="toc_left" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; margin-left: 25px;"><a style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; text-decoration: none; color: #1e6bb8; overflow-wrap: break-word;" href="#h11">1.1、基础语法</a></span></span></span><span class="toc_item" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; display: block;"><span class="toc_left" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; margin-left: 25px;"><span class="toc_left" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; margin-left: 25px;"><a style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; text-decoration: none; color: #1e6bb8; overflow-wrap: break-word;" href="#h12">1.2、修饰符</a></span></span></span><span class="toc_item" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; display: block;"><span class="toc_left" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; margin-left: 25px;"><span class="toc_left" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; margin-left: 25px;"><a style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; text-decoration: none; color: #1e6bb8; overflow-wrap: break-word;" href="#h13">1.3、贪婪与懒惰</a></span></span></span><span class="toc_item" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; display: block;"><span class="toc_left" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; margin-left: 25px;"><a style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; text-decoration: none; color: #1e6bb8; overflow-wrap: break-word;" href="#h2">2、正则进阶</a></span></span><span class="toc_item" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; display: block;"><span class="toc_left" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; margin-left: 25px;"><span class="toc_left" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; margin-left: 25px;"><a style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; text-decoration: none; color: #1e6bb8; overflow-wrap: break-word;" href="#h21">2.1、捕获分组</a></span></span></span><span class="toc_item" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; display: block;"><span class="toc_left" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; margin-left: 25px;"><span class="toc_left" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; margin-left: 25px;"><a style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; text-decoration: none; color: #1e6bb8; overflow-wrap: break-word;" href="#h22">2.2、零宽断言</a></span></span></span><span class="toc_item" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; display: block;"><span class="toc_left" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; margin-left: 25px;"><span class="toc_left" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; margin-left: 25px;"><a style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; text-decoration: none; color: #1e6bb8; overflow-wrap: break-word;" href="#h23">2.3、条件匹配</a></span></span></span><span class="toc_item" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; display: block;"><span class="toc_left" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; margin-left: 25px;"><span class="toc_left" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; margin-left: 25px;"><a style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; text-decoration: none; color: #1e6bb8; overflow-wrap: break-word;" href="#h24findall">2.4、findall</a></span></span></span><span class="toc_item" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; display: block;"><span class="toc_left" style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; margin-left: 25px;"><a style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; text-decoration: none; color: #1e6bb8; overflow-wrap: break-word;" href="#h">结语</a></span></span></p>
<blockquote style="line-height: inherit; display: block; padding: 15px 15px 15px 1rem; font-size: 0.9em; margin: 1em 0px; color: #819198; border-left: 6px solid #dce6f0; background: #f2f7fb; overflow: auto; overflow-wrap: normal; word-break: normal;">
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 0px;"><span style="color: #000000;">导读：正则在各语言中的使用是有差异的，本文以 Python 3 为基础。本文主要讲述的是正则的语法，对于 re 模块不做过多描述，只会对一些特殊地方做提示。</span></p>
</blockquote>
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px;">很多人觉得正则很难，在我看来，这些人一定是没有用心。其实正则很简单，根据二八原则，我们只需要懂 20% 的内容就可以解决 80% 的问题了。我曾经有几年几乎每天都跟正则打交道，刚接手项目的时候我对正则也是一无所知，花半小时百度了一下，然后写了几个 demo，就开始正式接手了。三年多时间，我用到的正则鲜有超出我最初半小时百度到的知识的。</p>
<h2 id="h1" style="color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px; font-weight: bold; font-size: 1.4em;"><span style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px;">1、正则基础</span></h2>
<h3 id="h11" style="color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px; font-weight: bold; font-size: 1.3em;"><span style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px;">1.1、基础语法</span></h3>
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px;"><strong style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; font-weight: bold;">（1）常用元字符</strong></p>
<table style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; display: table; width: 100%; text-align: left;">
<thead style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px;">
<tr style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; border-width: 1px 0px 0px; border-right-style: initial; border-bottom-style: initial; border-left-style: initial; border-right-color: initial; border-bottom-color: initial; border-left-color: initial; border-image: initial; border-top-style: solid; border-top-color: #cccccc; background-color: white;"><th style="color: inherit; line-height: inherit; margin: 0px; font-size: 1em; border: 1px solid #cccccc; padding: 0.5em 1em; text-align: left; font-weight: bold; background-color: #f0f0f0;">语法</th><th style="color: inherit; line-height: inherit; margin: 0px; font-size: 1em; border: 1px solid #cccccc; padding: 0.5em 1em; text-align: left; font-weight: bold; background-color: #f0f0f0;">描述</th></tr>
</thead>
<tbody style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; border: 0px;">
<tr style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; border-width: 1px 0px 0px; border-right-style: initial; border-bottom-style: initial; border-left-style: initial; border-right-color: initial; border-bottom-color: initial; border-left-color: initial; border-image: initial; border-top-style: solid; border-top-color: #cccccc; background-color: white;">
<td style="color: inherit; line-height: inherit; margin: 0px; font-size: 1em; border: 1px solid #cccccc; padding: 0.5em 1em; text-align: left;">\b</td>
<td style="color: inherit; line-height: inherit; margin: 0px; font-size: 1em; border: 1px solid #cccccc; padding: 0.5em 1em; text-align: left;">匹配单词的开始或结束</td>
</tr>
<tr style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; border-width: 1px 0px 0px; border-right-style: initial; border-bottom-style: initial; border-left-style: initial; border-right-color: initial; border-bottom-color: initial; border-left-color: initial; border-image: initial; border-top-style: solid; border-top-color: #cccccc; background-color: white;">
<td style="color: inherit; line-height: inherit; margin: 0px; font-size: 1em; border: 1px solid #cccccc; padding: 0.5em 1em; text-align: left;">\d</td>
<td style="color: inherit; line-height: inherit; margin: 0px; font-size: 1em; border: 1px solid #cccccc; padding: 0.5em 1em; text-align: left;">匹配数字</td>
</tr>
<tr style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; border-width: 1px 0px 0px; border-right-style: initial; border-bottom-style: initial; border-left-style: initial; border-right-color: initial; border-bottom-color: initial; border-left-color: initial; border-image: initial; border-top-style: solid; border-top-color: #cccccc; background-color: white;">
<td style="color: inherit; line-height: inherit; margin: 0px; font-size: 1em; border: 1px solid #cccccc; padding: 0.5em 1em; text-align: left;">\s</td>
<td style="color: inherit; line-height: inherit; margin: 0px; font-size: 1em; border: 1px solid #cccccc; padding: 0.5em 1em; text-align: left;">匹配任意不可见字符（空格、换行符、制表符等），等价于[ \f\n\r\t\v]。</td>
</tr>
<tr style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; border-width: 1px 0px 0px; border-right-style: initial; border-bottom-style: initial; border-left-style: initial; border-right-color: initial; border-bottom-color: initial; border-left-color: initial; border-image: initial; border-top-style: solid; border-top-color: #cccccc; background-color: white;">
<td style="color: inherit; line-height: inherit; margin: 0px; font-size: 1em; border: 1px solid #cccccc; padding: 0.5em 1em; text-align: left;">\w</td>
<td style="color: inherit; line-height: inherit; margin: 0px; font-size: 1em; border: 1px solid #cccccc; padding: 0.5em 1em; text-align: left;">匹配任意 Unicode 字符集，包括字母、数字、下划线、汉字等</td>
</tr>
<tr style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; border-width: 1px 0px 0px; border-right-style: initial; border-bottom-style: initial; border-left-style: initial; border-right-color: initial; border-bottom-color: initial; border-left-color: initial; border-image: initial; border-top-style: solid; border-top-color: #cccccc; background-color: white;">
<td style="color: inherit; line-height: inherit; margin: 0px; font-size: 1em; border: 1px solid #cccccc; padding: 0.5em 1em; text-align: left;">.</td>
<td style="color: inherit; line-height: inherit; margin: 0px; font-size: 1em; border: 1px solid #cccccc; padding: 0.5em 1em; text-align: left;">匹配除换行符（\n）以外的任意字符</td>
</tr>
<tr style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; border-width: 1px 0px 0px; border-right-style: initial; border-bottom-style: initial; border-left-style: initial; border-right-color: initial; border-bottom-color: initial; border-left-color: initial; border-image: initial; border-top-style: solid; border-top-color: #cccccc; background-color: white;">
<td style="color: inherit; line-height: inherit; margin: 0px; font-size: 1em; border: 1px solid #cccccc; padding: 0.5em 1em; text-align: left;">^ 或 \A</td>
<td style="color: inherit; line-height: inherit; margin: 0px; font-size: 1em; border: 1px solid #cccccc; padding: 0.5em 1em; text-align: left;">匹配字符串或行的起始位置</td>
</tr>
<tr style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; border-width: 1px 0px 0px; border-right-style: initial; border-bottom-style: initial; border-left-style: initial; border-right-color: initial; border-bottom-color: initial; border-left-color: initial; border-image: initial; border-top-style: solid; border-top-color: #cccccc; background-color: white;">
<td style="color: inherit; line-height: inherit; margin: 0px; font-size: 1em; border: 1px solid #cccccc; padding: 0.5em 1em; text-align: left;">$ 或 \Z</td>
<td style="color: inherit; line-height: inherit; margin: 0px; font-size: 1em; border: 1px solid #cccccc; padding: 0.5em 1em; text-align: left;">匹配字符串或行的结束位置</td>
</tr>
</tbody>
</table>
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px;"><strong style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; font-weight: bold;">（2）限定词（又叫量词）</strong></p>
<table style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; display: table; width: 100%; text-align: left;">
<thead style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px;">
<tr style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; border-width: 1px 0px 0px; border-right-style: initial; border-bottom-style: initial; border-left-style: initial; border-right-color: initial; border-bottom-color: initial; border-left-color: initial; border-image: initial; border-top-style: solid; border-top-color: #cccccc; background-color: white;"><th style="color: inherit; line-height: inherit; margin: 0px; font-size: 1em; border: 1px solid #cccccc; padding: 0.5em 1em; text-align: left; font-weight: bold; background-color: #f0f0f0;">语法</th><th style="color: inherit; line-height: inherit; margin: 0px; font-size: 1em; border: 1px solid #cccccc; padding: 0.5em 1em; text-align: left; font-weight: bold; background-color: #f0f0f0;">描述</th></tr>
</thead>
<tbody style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; border: 0px;">
<tr style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; border-width: 1px 0px 0px; border-right-style: initial; border-bottom-style: initial; border-left-style: initial; border-right-color: initial; border-bottom-color: initial; border-left-color: initial; border-image: initial; border-top-style: solid; border-top-color: #cccccc; background-color: white;">
<td style="color: inherit; line-height: inherit; margin: 0px; font-size: 1em; border: 1px solid #cccccc; padding: 0.5em 1em; text-align: left;">*</td>
<td style="color: inherit; line-height: inherit; margin: 0px; font-size: 1em; border: 1px solid #cccccc; padding: 0.5em 1em; text-align: left;">重复零次或更多次</td>
</tr>
<tr style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; border-width: 1px 0px 0px; border-right-style: initial; border-bottom-style: initial; border-left-style: initial; border-right-color: initial; border-bottom-color: initial; border-left-color: initial; border-image: initial; border-top-style: solid; border-top-color: #cccccc; background-color: white;">
<td style="color: inherit; line-height: inherit; margin: 0px; font-size: 1em; border: 1px solid #cccccc; padding: 0.5em 1em; text-align: left;">+</td>
<td style="color: inherit; line-height: inherit; margin: 0px; font-size: 1em; border: 1px solid #cccccc; padding: 0.5em 1em; text-align: left;">重复一次或更多次</td>
</tr>
<tr style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; border-width: 1px 0px 0px; border-right-style: initial; border-bottom-style: initial; border-left-style: initial; border-right-color: initial; border-bottom-color: initial; border-left-color: initial; border-image: initial; border-top-style: solid; border-top-color: #cccccc; background-color: white;">
<td style="color: inherit; line-height: inherit; margin: 0px; font-size: 1em; border: 1px solid #cccccc; padding: 0.5em 1em; text-align: left;">?</td>
<td style="color: inherit; line-height: inherit; margin: 0px; font-size: 1em; border: 1px solid #cccccc; padding: 0.5em 1em; text-align: left;">重复零次或一次</td>
</tr>
<tr style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; border-width: 1px 0px 0px; border-right-style: initial; border-bottom-style: initial; border-left-style: initial; border-right-color: initial; border-bottom-color: initial; border-left-color: initial; border-image: initial; border-top-style: solid; border-top-color: #cccccc; background-color: white;">
<td style="color: inherit; line-height: inherit; margin: 0px; font-size: 1em; border: 1px solid #cccccc; padding: 0.5em 1em; text-align: left;">{n}</td>
<td style="color: inherit; line-height: inherit; margin: 0px; font-size: 1em; border: 1px solid #cccccc; padding: 0.5em 1em; text-align: left;">重复 n 次</td>
</tr>
<tr style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; border-width: 1px 0px 0px; border-right-style: initial; border-bottom-style: initial; border-left-style: initial; border-right-color: initial; border-bottom-color: initial; border-left-color: initial; border-image: initial; border-top-style: solid; border-top-color: #cccccc; background-color: white;">
<td style="color: inherit; line-height: inherit; margin: 0px; font-size: 1em; border: 1px solid #cccccc; padding: 0.5em 1em; text-align: left;">{n,}</td>
<td style="color: inherit; line-height: inherit; margin: 0px; font-size: 1em; border: 1px solid #cccccc; padding: 0.5em 1em; text-align: left;">重复 n 次或更多次</td>
</tr>
<tr style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; border-width: 1px 0px 0px; border-right-style: initial; border-bottom-style: initial; border-left-style: initial; border-right-color: initial; border-bottom-color: initial; border-left-color: initial; border-image: initial; border-top-style: solid; border-top-color: #cccccc; background-color: white;">
<td style="color: inherit; line-height: inherit; margin: 0px; font-size: 1em; border: 1px solid #cccccc; padding: 0.5em 1em; text-align: left;">{n,m}</td>
<td style="color: inherit; line-height: inherit; margin: 0px; font-size: 1em; border: 1px solid #cccccc; padding: 0.5em 1em; text-align: left;">重复 n 到 m 次</td>
</tr>
</tbody>
</table>
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px;"><strong style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; font-weight: bold;">（3）常用反义词</strong></p>
<table style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; display: table; width: 100%; text-align: left;">
<thead style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px;">
<tr style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; border-width: 1px 0px 0px; border-right-style: initial; border-bottom-style: initial; border-left-style: initial; border-right-color: initial; border-bottom-color: initial; border-left-color: initial; border-image: initial; border-top-style: solid; border-top-color: #cccccc; background-color: white;"><th style="color: inherit; line-height: inherit; margin: 0px; font-size: 1em; border: 1px solid #cccccc; padding: 0.5em 1em; text-align: left; font-weight: bold; background-color: #f0f0f0;">语法</th><th style="color: inherit; line-height: inherit; margin: 0px; font-size: 1em; border: 1px solid #cccccc; padding: 0.5em 1em; text-align: left; font-weight: bold; background-color: #f0f0f0;">描述</th></tr>
</thead>
<tbody style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; border: 0px;">
<tr style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; border-width: 1px 0px 0px; border-right-style: initial; border-bottom-style: initial; border-left-style: initial; border-right-color: initial; border-bottom-color: initial; border-left-color: initial; border-image: initial; border-top-style: solid; border-top-color: #cccccc; background-color: white;">
<td style="color: inherit; line-height: inherit; margin: 0px; font-size: 1em; border: 1px solid #cccccc; padding: 0.5em 1em; text-align: left;">\B</td>
<td style="color: inherit; line-height: inherit; margin: 0px; font-size: 1em; border: 1px solid #cccccc; padding: 0.5em 1em; text-align: left;">匹配非单词的开始或结束</td>
</tr>
<tr style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; border-width: 1px 0px 0px; border-right-style: initial; border-bottom-style: initial; border-left-style: initial; border-right-color: initial; border-bottom-color: initial; border-left-color: initial; border-image: initial; border-top-style: solid; border-top-color: #cccccc; background-color: white;">
<td style="color: inherit; line-height: inherit; margin: 0px; font-size: 1em; border: 1px solid #cccccc; padding: 0.5em 1em; text-align: left;">\D</td>
<td style="color: inherit; line-height: inherit; margin: 0px; font-size: 1em; border: 1px solid #cccccc; padding: 0.5em 1em; text-align: left;">匹配非数字</td>
</tr>
<tr style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; border-width: 1px 0px 0px; border-right-style: initial; border-bottom-style: initial; border-left-style: initial; border-right-color: initial; border-bottom-color: initial; border-left-color: initial; border-image: initial; border-top-style: solid; border-top-color: #cccccc; background-color: white;">
<td style="color: inherit; line-height: inherit; margin: 0px; font-size: 1em; border: 1px solid #cccccc; padding: 0.5em 1em; text-align: left;">\S</td>
<td style="color: inherit; line-height: inherit; margin: 0px; font-size: 1em; border: 1px solid #cccccc; padding: 0.5em 1em; text-align: left;">匹配任意可见字符， [^ \f\n\r\t\v]</td>
</tr>
<tr style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; border-width: 1px 0px 0px; border-right-style: initial; border-bottom-style: initial; border-left-style: initial; border-right-color: initial; border-bottom-color: initial; border-left-color: initial; border-image: initial; border-top-style: solid; border-top-color: #cccccc; background-color: white;">
<td style="color: inherit; line-height: inherit; margin: 0px; font-size: 1em; border: 1px solid #cccccc; padding: 0.5em 1em; text-align: left;">\W</td>
<td style="color: inherit; line-height: inherit; margin: 0px; font-size: 1em; border: 1px solid #cccccc; padding: 0.5em 1em; text-align: left;">匹配任意非 Unicode 字符集</td>
</tr>
<tr style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; border-width: 1px 0px 0px; border-right-style: initial; border-bottom-style: initial; border-left-style: initial; border-right-color: initial; border-bottom-color: initial; border-left-color: initial; border-image: initial; border-top-style: solid; border-top-color: #cccccc; background-color: white;">
<td style="color: inherit; line-height: inherit; margin: 0px; font-size: 1em; border: 1px solid #cccccc; padding: 0.5em 1em; text-align: left;"><span style="color: #000000;"><a style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; text-decoration: none; color: #1e6bb8; overflow-wrap: break-word;" href="#footnote-abc"><span style="color: #000000;"><sup style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px;">[^abc]</sup></span></a></span></td>
<td style="color: inherit; line-height: inherit; margin: 0px; font-size: 1em; border: 1px solid #cccccc; padding: 0.5em 1em; text-align: left;">除 a、b、c 以外的任意字符</td>
</tr>
</tbody>
</table>
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px;"><strong style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; font-weight: bold;">（4）字符族</strong></p>
<table style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; display: table; width: 100%; text-align: left;">
<thead style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px;">
<tr style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; border-width: 1px 0px 0px; border-right-style: initial; border-bottom-style: initial; border-left-style: initial; border-right-color: initial; border-bottom-color: initial; border-left-color: initial; border-image: initial; border-top-style: solid; border-top-color: #cccccc; background-color: white;"><th style="color: inherit; line-height: inherit; margin: 0px; font-size: 1em; border: 1px solid #cccccc; padding: 0.5em 1em; text-align: left; font-weight: bold; background-color: #f0f0f0;">语法</th><th style="color: inherit; line-height: inherit; margin: 0px; font-size: 1em; border: 1px solid #cccccc; padding: 0.5em 1em; text-align: left; font-weight: bold; background-color: #f0f0f0;">描述</th></tr>
</thead>
<tbody style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; border: 0px;">
<tr style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; border-width: 1px 0px 0px; border-right-style: initial; border-bottom-style: initial; border-left-style: initial; border-right-color: initial; border-bottom-color: initial; border-left-color: initial; border-image: initial; border-top-style: solid; border-top-color: #cccccc; background-color: white;">
<td style="color: inherit; line-height: inherit; margin: 0px; font-size: 1em; border: 1px solid #cccccc; padding: 0.5em 1em; text-align: left;">[abc]</td>
<td style="color: inherit; line-height: inherit; margin: 0px; font-size: 1em; border: 1px solid #cccccc; padding: 0.5em 1em; text-align: left;">a、b 或 c</td>
</tr>
<tr style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; border-width: 1px 0px 0px; border-right-style: initial; border-bottom-style: initial; border-left-style: initial; border-right-color: initial; border-bottom-color: initial; border-left-color: initial; border-image: initial; border-top-style: solid; border-top-color: #cccccc; background-color: white;">
<td style="color: inherit; line-height: inherit; margin: 0px; font-size: 1em; border: 1px solid #cccccc; padding: 0.5em 1em; text-align: left;"><span style="color: #000000;"><a style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; text-decoration: none; color: #1e6bb8; overflow-wrap: break-word;" href="#footnote-abc"><span style="color: #000000;"><sup style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px;">[^abc]</sup></span></a></span></td>
<td style="color: inherit; line-height: inherit; margin: 0px; font-size: 1em; border: 1px solid #cccccc; padding: 0.5em 1em; text-align: left;">除 a、b、c 以外的任意字符</td>
</tr>
<tr style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; border-width: 1px 0px 0px; border-right-style: initial; border-bottom-style: initial; border-left-style: initial; border-right-color: initial; border-bottom-color: initial; border-left-color: initial; border-image: initial; border-top-style: solid; border-top-color: #cccccc; background-color: white;">
<td style="color: inherit; line-height: inherit; margin: 0px; font-size: 1em; border: 1px solid #cccccc; padding: 0.5em 1em; text-align: left;">[a-zA-Z]</td>
<td style="color: inherit; line-height: inherit; margin: 0px; font-size: 1em; border: 1px solid #cccccc; padding: 0.5em 1em; text-align: left;">a 到 z 或 A 到 Z</td>
</tr>
<tr style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; border-width: 1px 0px 0px; border-right-style: initial; border-bottom-style: initial; border-left-style: initial; border-right-color: initial; border-bottom-color: initial; border-left-color: initial; border-image: initial; border-top-style: solid; border-top-color: #cccccc; background-color: white;">
<td style="color: inherit; line-height: inherit; margin: 0px; font-size: 1em; border: 1px solid #cccccc; padding: 0.5em 1em; text-align: left;">[a-d[m-p]]</td>
<td style="color: inherit; line-height: inherit; margin: 0px; font-size: 1em; border: 1px solid #cccccc; padding: 0.5em 1em; text-align: left;">a 到 d 或 m 到 p，即 [a-dm-p]（并集）</td>
</tr>
<tr style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; border-width: 1px 0px 0px; border-right-style: initial; border-bottom-style: initial; border-left-style: initial; border-right-color: initial; border-bottom-color: initial; border-left-color: initial; border-image: initial; border-top-style: solid; border-top-color: #cccccc; background-color: white;">
<td style="color: inherit; line-height: inherit; margin: 0px; font-size: 1em; border: 1px solid #cccccc; padding: 0.5em 1em; text-align: left;">[a-z&amp;&amp;[def]]</td>
<td style="color: inherit; line-height: inherit; margin: 0px; font-size: 1em; border: 1px solid #cccccc; padding: 0.5em 1em; text-align: left;">d、e 或 f（交集）</td>
</tr>
<tr style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; border-width: 1px 0px 0px; border-right-style: initial; border-bottom-style: initial; border-left-style: initial; border-right-color: initial; border-bottom-color: initial; border-left-color: initial; border-image: initial; border-top-style: solid; border-top-color: #cccccc; background-color: white;">
<td style="color: inherit; line-height: inherit; margin: 0px; font-size: 1em; border: 1px solid #cccccc; padding: 0.5em 1em; text-align: left;">[a-z&amp;&amp;[^bc]]</td>
<td style="color: inherit; line-height: inherit; margin: 0px; font-size: 1em; border: 1px solid #cccccc; padding: 0.5em 1em; text-align: left;">a 到 z，除了 b 和 c：[ad-z]（减去）</td>
</tr>
<tr style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; border-width: 1px 0px 0px; border-right-style: initial; border-bottom-style: initial; border-left-style: initial; border-right-color: initial; border-bottom-color: initial; border-left-color: initial; border-image: initial; border-top-style: solid; border-top-color: #cccccc; background-color: white;">
<td style="color: inherit; line-height: inherit; margin: 0px; font-size: 1em; border: 1px solid #cccccc; padding: 0.5em 1em; text-align: left;">[a-z&amp;&amp;[^m-p]]</td>
<td style="color: inherit; line-height: inherit; margin: 0px; font-size: 1em; border: 1px solid #cccccc; padding: 0.5em 1em; text-align: left;">a 到 z，减去 m 到 p：[a-lq-z]（减去）</td>
</tr>
</tbody>
</table>
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px;">以上便是正则的基础内容，下面来写两个例子看下：</p>
<pre><code><code>s&nbsp;=&nbsp;<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #d69d85; word-wrap: inherit !important; word-break: inherit !important;">'123abc你好'</span><br />re.search(<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #d69d85; word-wrap: inherit !important; word-break: inherit !important;">'\d+'</span>,&nbsp;s).<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #569cd6; word-wrap: inherit !important; word-break: inherit !important;">group</span>()<br />re.search(<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #d69d85; word-wrap: inherit !important; word-break: inherit !important;">'\w+'</span>,&nbsp;s).<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #569cd6; word-wrap: inherit !important; word-break: inherit !important;">group</span>()<br /></code></pre>
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px;"><strong style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; font-weight: bold;">结果：</strong></p>
<pre><code><code class="hljs" style="overflow-wrap: break-word; margin: 0px 2px; line-height: 18px; font-size: 14px; font-weight: normal; word-spacing: 0px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; overflow-x: auto; padding: 0.5em; background: #1e1e1e; color: #dcdcdc; white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important; display: -webkit-box !important;">123<br />123abc你好<br /></code></pre>
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px;">是不是很简单？</p>
<img style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; display: block; margin: 0px auto; max-width: 100%;" title="" src="./images/写爬虫，不会正则怎么行？0.png" alt="" />
<h3 id="h12" style="color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px; font-weight: bold; font-size: 1.3em;"><span style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px;">1.2、修饰符</span></h3>
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px;">修饰符在各语言中也是有差异的。</p>
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px;">Python 中的修饰符：</p>
<table style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; display: table; width: 100%; text-align: left;">
<thead style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px;">
<tr style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; border-width: 1px 0px 0px; border-right-style: initial; border-bottom-style: initial; border-left-style: initial; border-right-color: initial; border-bottom-color: initial; border-left-color: initial; border-image: initial; border-top-style: solid; border-top-color: #cccccc; background-color: white;"><th style="color: inherit; line-height: inherit; margin: 0px; font-size: 1em; border: 1px solid #cccccc; padding: 0.5em 1em; text-align: left; font-weight: bold; background-color: #f0f0f0;">修饰符</th><th style="color: inherit; line-height: inherit; margin: 0px; font-size: 1em; border: 1px solid #cccccc; padding: 0.5em 1em; text-align: left; font-weight: bold; background-color: #f0f0f0;">描述</th></tr>
</thead>
<tbody style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; border: 0px;">
<tr style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; border-width: 1px 0px 0px; border-right-style: initial; border-bottom-style: initial; border-left-style: initial; border-right-color: initial; border-bottom-color: initial; border-left-color: initial; border-image: initial; border-top-style: solid; border-top-color: #cccccc; background-color: white;">
<td style="color: inherit; line-height: inherit; margin: 0px; font-size: 1em; border: 1px solid #cccccc; padding: 0.5em 1em; text-align: left;">re.A</td>
<td style="color: inherit; line-height: inherit; margin: 0px; font-size: 1em; border: 1px solid #cccccc; padding: 0.5em 1em; text-align: left;">匹配 ASCII字符类，影响 \w, \W, \b, \B, \d, \D</td>
</tr>
<tr style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; border-width: 1px 0px 0px; border-right-style: initial; border-bottom-style: initial; border-left-style: initial; border-right-color: initial; border-bottom-color: initial; border-left-color: initial; border-image: initial; border-top-style: solid; border-top-color: #cccccc; background-color: white;">
<td style="color: inherit; line-height: inherit; margin: 0px; font-size: 1em; border: 1px solid #cccccc; padding: 0.5em 1em; text-align: left;">re.I</td>
<td style="color: inherit; line-height: inherit; margin: 0px; font-size: 1em; border: 1px solid #cccccc; padding: 0.5em 1em; text-align: left;">忽略大小写</td>
</tr>
<tr style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; border-width: 1px 0px 0px; border-right-style: initial; border-bottom-style: initial; border-left-style: initial; border-right-color: initial; border-bottom-color: initial; border-left-color: initial; border-image: initial; border-top-style: solid; border-top-color: #cccccc; background-color: white;">
<td style="color: inherit; line-height: inherit; margin: 0px; font-size: 1em; border: 1px solid #cccccc; padding: 0.5em 1em; text-align: left;">re.L</td>
<td style="color: inherit; line-height: inherit; margin: 0px; font-size: 1em; border: 1px solid #cccccc; padding: 0.5em 1em; text-align: left;">做本地化识别匹配（这个极少极少使用）</td>
</tr>
<tr style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; border-width: 1px 0px 0px; border-right-style: initial; border-bottom-style: initial; border-left-style: initial; border-right-color: initial; border-bottom-color: initial; border-left-color: initial; border-image: initial; border-top-style: solid; border-top-color: #cccccc; background-color: white;">
<td style="color: inherit; line-height: inherit; margin: 0px; font-size: 1em; border: 1px solid #cccccc; padding: 0.5em 1em; text-align: left;">re.M</td>
<td style="color: inherit; line-height: inherit; margin: 0px; font-size: 1em; border: 1px solid #cccccc; padding: 0.5em 1em; text-align: left;">多行匹配，影响 和</td>
</tr>
<tr style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; border-width: 1px 0px 0px; border-right-style: initial; border-bottom-style: initial; border-left-style: initial; border-right-color: initial; border-bottom-color: initial; border-left-color: initial; border-image: initial; border-top-style: solid; border-top-color: #cccccc; background-color: white;">
<td style="color: inherit; line-height: inherit; margin: 0px; font-size: 1em; border: 1px solid #cccccc; padding: 0.5em 1em; text-align: left;">re.S</td>
<td style="color: inherit; line-height: inherit; margin: 0px; font-size: 1em; border: 1px solid #cccccc; padding: 0.5em 1em; text-align: left;">使 . 匹配包括换行符（\n）在内的所有字符</td>
</tr>
<tr style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; border-width: 1px 0px 0px; border-right-style: initial; border-bottom-style: initial; border-left-style: initial; border-right-color: initial; border-bottom-color: initial; border-left-color: initial; border-image: initial; border-top-style: solid; border-top-color: #cccccc; background-color: white;">
<td style="color: inherit; line-height: inherit; margin: 0px; font-size: 1em; border: 1px solid #cccccc; padding: 0.5em 1em; text-align: left;">re.U</td>
<td style="color: inherit; line-height: inherit; margin: 0px; font-size: 1em; border: 1px solid #cccccc; padding: 0.5em 1em; text-align: left;">匹配 Unicode 字符集。与 re.A 相对，这是默认设置</td>
</tr>
<tr style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; border-width: 1px 0px 0px; border-right-style: initial; border-bottom-style: initial; border-left-style: initial; border-right-color: initial; border-bottom-color: initial; border-left-color: initial; border-image: initial; border-top-style: solid; border-top-color: #cccccc; background-color: white;">
<td style="color: inherit; line-height: inherit; margin: 0px; font-size: 1em; border: 1px solid #cccccc; padding: 0.5em 1em; text-align: left;">re.X</td>
<td style="color: inherit; line-height: inherit; margin: 0px; font-size: 1em; border: 1px solid #cccccc; padding: 0.5em 1em; text-align: left;">忽略空格和 # 后面的注释以获得看起来更易懂的正则。</td>
</tr>
</tbody>
</table>
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px;"><strong style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; font-weight: bold;">（1）re.A</strong></p>
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px;">修饰符 <code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: #e96900; background: #f8f8f8;">A</code> 使 <code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: #e96900; background: #f8f8f8;">\w</code> 只匹配 ASCII 字符，<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: #e96900; background: #f8f8f8;">\W</code> 匹配非 ASCII 字符。</p>
<pre><code><code>s&nbsp;=&nbsp;<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #d69d85; word-wrap: inherit !important; word-break: inherit !important;">'123abc你好'</span><br />re.search(<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #d69d85; word-wrap: inherit !important; word-break: inherit !important;">'\w+'</span>,&nbsp;s,&nbsp;re.A).<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #569cd6; word-wrap: inherit !important; word-break: inherit !important;">group</span>()<br />re.search(<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #d69d85; word-wrap: inherit !important; word-break: inherit !important;">'\W+'</span>,&nbsp;s,&nbsp;re.A).<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #569cd6; word-wrap: inherit !important; word-break: inherit !important;">group</span>()<br /></code></pre>
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px;"><strong style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; font-weight: bold;">结果：</strong></p>
<pre><code><code class="hljs" style="overflow-wrap: break-word; margin: 0px 2px; line-height: 18px; font-size: 14px; font-weight: normal; word-spacing: 0px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; overflow-x: auto; padding: 0.5em; background: #1e1e1e; color: #dcdcdc; white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important; display: -webkit-box !important;">123abc<br />你好<br /></code></pre>
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px;">但是描述中还有 <code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: #e96900; background: #f8f8f8;">\d</code> 和 <code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: #e96900; background: #f8f8f8;">\D</code>，数字不都是 ASCII 字符吗？这是什么意思？别忘了，还有 <strong style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; font-weight: bold;">全角和半角</strong>！</p>
<pre><code><code>s&nbsp;=&nbsp;<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #d69d85; word-wrap: inherit !important; word-break: inherit !important;">'０１２３４５６７８９'</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-meta" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #9b9b9b; word-wrap: inherit !important; word-break: inherit !important;">#&nbsp;全角数字</span><br />re.search(<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #d69d85; word-wrap: inherit !important; word-break: inherit !important;">'\d+'</span>,&nbsp;s,&nbsp;re.U).<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #569cd6; word-wrap: inherit !important; word-break: inherit !important;">group</span>()<br /></code></pre>
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px;"><strong style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; font-weight: bold;">结果：</strong></p>
<pre><code><code class="hljs" style="overflow-wrap: break-word; margin: 0px 2px; line-height: 18px; font-size: 14px; font-weight: normal; word-spacing: 0px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; overflow-x: auto; padding: 0.5em; background: #1e1e1e; color: #dcdcdc; white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important; display: -webkit-box !important;">０１２３４５６７８９<br /></code></pre>
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px;"><strong style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; font-weight: bold;">（2）re.M</strong><br />多行匹配的模式其实也不常用，很少有一行行规整的数据。</p>
<pre><code><code class="hljs nginx" style="overflow-wrap: break-word; margin: 0px 2px; line-height: 18px; font-size: 14px; font-weight: normal; word-spacing: 0px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; overflow-x: auto; padding: 0.5em; background: #1e1e1e; color: #dcdcdc; white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important; display: -webkit-box !important;"><span class="hljs-attribute" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #9cdcfe; word-wrap: inherit !important; word-break: inherit !important;">s</span>&nbsp;=&nbsp;<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #d69d85; word-wrap: inherit !important; word-break: inherit !important;">'aaa\r\nbbb\r\nccc'</span><br /><br />re.findall(<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #d69d85; word-wrap: inherit !important; word-break: inherit !important;">'^[\s\w]*?$'</span>,&nbsp;s)<br />re.findall(<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #d69d85; word-wrap: inherit !important; word-break: inherit !important;">'^[\s\w]*?$'</span>,&nbsp;s,&nbsp;re.M)<br /></code></pre>
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px;"><strong style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; font-weight: bold;">结果：</strong></p>
<pre><code><code class="hljs bash" style="overflow-wrap: break-word; margin: 0px 2px; line-height: 18px; font-size: 14px; font-weight: normal; word-spacing: 0px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; overflow-x: auto; padding: 0.5em; background: #1e1e1e; color: #dcdcdc; white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important; display: -webkit-box !important;">[<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #d69d85; word-wrap: inherit !important; word-break: inherit !important;">'aaa\r\nbbb\r\nccc'</span>]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #57a64a; font-style: italic; word-wrap: inherit !important; word-break: inherit !important;">#&nbsp;单行模式</span><br />[<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #d69d85; word-wrap: inherit !important; word-break: inherit !important;">'aaa\r'</span>,&nbsp;<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #d69d85; word-wrap: inherit !important; word-break: inherit !important;">'bbb\r'</span>,&nbsp;<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #d69d85; word-wrap: inherit !important; word-break: inherit !important;">'ccc'</span>]&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #57a64a; font-style: italic; word-wrap: inherit !important; word-break: inherit !important;">#&nbsp;多行模式</span><br /></code></pre>
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px;"><strong style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; font-weight: bold;">（3）re.S</strong><br />这个简单，直接看个例子。</p>
<pre><code><code class="hljs nginx" style="overflow-wrap: break-word; margin: 0px 2px; line-height: 18px; font-size: 14px; font-weight: normal; word-spacing: 0px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; overflow-x: auto; padding: 0.5em; background: #1e1e1e; color: #dcdcdc; white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important; display: -webkit-box !important;"><span class="hljs-attribute" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #9cdcfe; word-wrap: inherit !important; word-break: inherit !important;">s</span>&nbsp;=&nbsp;<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #d69d85; word-wrap: inherit !important; word-break: inherit !important;">'aaa\r\nbbb\r\nccc'</span><br /><br />re.findall(<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #d69d85; word-wrap: inherit !important; word-break: inherit !important;">'^.*'</span>,&nbsp;s)<br />re.findall(<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #d69d85; word-wrap: inherit !important; word-break: inherit !important;">'^.*'</span>,&nbsp;s,&nbsp;re.S)<br /></code></pre>
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px;"><strong style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; font-weight: bold;">结果：</strong></p>
<pre><code><code class="hljs json" style="overflow-wrap: break-word; margin: 0px 2px; line-height: 18px; font-size: 14px; font-weight: normal; word-spacing: 0px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; overflow-x: auto; padding: 0.5em; background: #1e1e1e; color: #dcdcdc; white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important; display: -webkit-box !important;">['aaa\r']<br />['aaa\r\nbbb\r\nccc']<br /></code></pre>
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px;"><strong style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; font-weight: bold;">（4）re.X</strong><br />用法如下：</p>
<pre><code><code class="hljs python" style="overflow-wrap: break-word; margin: 0px 2px; line-height: 18px; font-size: 14px; font-weight: normal; word-spacing: 0px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; overflow-x: auto; padding: 0.5em; background: #1e1e1e; color: #dcdcdc; white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important; display: -webkit-box !important;">rc&nbsp;=&nbsp;re.compile(<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #d69d85; word-wrap: inherit !important; word-break: inherit !important;">r"""<br />\d+&nbsp;#&nbsp;匹配数字<br />#&nbsp;和字母<br />[a-zA-Z]+<br />"""</span>,&nbsp;re.X)<br />rc.search(<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #d69d85; word-wrap: inherit !important; word-break: inherit !important;">'123abc'</span>).group()<br /></code></pre>
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px;"><strong style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; font-weight: bold;">结果：</strong></p>
<pre><code><code class="hljs" style="overflow-wrap: break-word; margin: 0px 2px; line-height: 18px; font-size: 14px; font-weight: normal; word-spacing: 0px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; overflow-x: auto; padding: 0.5em; background: #1e1e1e; color: #dcdcdc; white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important; display: -webkit-box !important;">123abc<br /></code></pre>
<blockquote style="line-height: inherit; display: block; padding: 15px 15px 15px 1rem; font-size: 0.9em; margin: 1em 0px; color: #819198; border-left: 6px solid #dce6f0; background: #f2f7fb; overflow: auto; overflow-wrap: normal; word-break: normal;">
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 0px;"><span style="color: #000000;">注意，用了</span> <code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: #e96900; background: #f8f8f8;">X</code> <span style="color: #000000;">修饰符后，正则中的所有空格会被忽略，包括正则里面的原本有用的空格。如果正则中有需要使用空格，只能用</span> <code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: #e96900; background: #f8f8f8;">\s</code> <span style="color: #000000;">代替。</span></p>
</blockquote>
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px;"><strong style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; font-weight: bold;">（5）(?aiLmsux)</strong><br />修饰符不仅可以代码中指定，也可以在正则中指定。<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: #e96900; background: #f8f8f8;">(?aiLmsux)</code> 表示了以上所有的修饰符，具体用的时候需要哪个就在 ? 后面加上对应的字母，示例如下，<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: #e96900; background: #f8f8f8;">(?a)</code> 和 <code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: #e96900; background: #f8f8f8;">re.A</code> 效果是一样的：</p>
<pre><code><code>s&nbsp;=&nbsp;<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #d69d85; word-wrap: inherit !important; word-break: inherit !important;">'123abc你好'</span><br />re.search(<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #d69d85; word-wrap: inherit !important; word-break: inherit !important;">'(?a)\w+'</span>,&nbsp;s).<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #569cd6; word-wrap: inherit !important; word-break: inherit !important;">group</span>()<br />re.search(<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #d69d85; word-wrap: inherit !important; word-break: inherit !important;">'\w+'</span>,&nbsp;s,&nbsp;re.A).<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #569cd6; word-wrap: inherit !important; word-break: inherit !important;">group</span>()<br /></code></pre>
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px;"><strong style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; font-weight: bold;">结果是一样的：</strong></p>
<pre><code><code class="hljs" style="overflow-wrap: break-word; margin: 0px 2px; line-height: 18px; font-size: 14px; font-weight: normal; word-spacing: 0px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; overflow-x: auto; padding: 0.5em; background: #1e1e1e; color: #dcdcdc; white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important; display: -webkit-box !important;">123abc<br />123abc<br /></code></pre>
<h3 id="h13" style="color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px; font-weight: bold; font-size: 1.3em;"><span style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px;">1.3、贪婪与懒惰</span></h3>
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px;">当正则表达式中包含能接受重复的限定符时，通常的行为是（在使整个表达式能得到匹配的前提下）匹配尽可能多的字符。</p>
<pre><code><code>s&nbsp;=&nbsp;<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #d69d85; word-wrap: inherit !important; word-break: inherit !important;">'aabab'</span><br />re.search(<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #d69d85; word-wrap: inherit !important; word-break: inherit !important;">'a.*b'</span>,&nbsp;s).<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #569cd6; word-wrap: inherit !important; word-break: inherit !important;">group</span>()&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-meta" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #9b9b9b; word-wrap: inherit !important; word-break: inherit !important;">#&nbsp;这就是贪婪</span><br />re.search(<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #d69d85; word-wrap: inherit !important; word-break: inherit !important;">'a.*?b'</span>,&nbsp;s).<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #569cd6; word-wrap: inherit !important; word-break: inherit !important;">group</span>()&nbsp;&nbsp;&nbsp;<span class="hljs-meta" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #9b9b9b; word-wrap: inherit !important; word-break: inherit !important;">#&nbsp;这就是懒惰</span><br /></code></pre>
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px;"><strong style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; font-weight: bold;">结果：</strong></p>
<pre><code><code class="hljs nginx" style="overflow-wrap: break-word; margin: 0px 2px; line-height: 18px; font-size: 14px; font-weight: normal; word-spacing: 0px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; overflow-x: auto; padding: 0.5em; background: #1e1e1e; color: #dcdcdc; white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important; display: -webkit-box !important;"><span class="hljs-attribute" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #9cdcfe; word-wrap: inherit !important; word-break: inherit !important;">aabab</span><br />aab<br /></code></pre>
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px;">简单来说：</p>
<ul style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; padding-left: 32px; list-style-type: disc;">
<li style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; margin-bottom: 0.5em;">所谓贪婪，就是尽可能 <strong style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; font-weight: bold;">多</strong> 的匹配；</li>
<li style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; margin-bottom: 0.5em;">所谓懒惰，就是尽可能 <strong style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; font-weight: bold;">少</strong> 的匹配。</li>
<li style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; margin-bottom: 0.5em;"><code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: #e96900; background: #f8f8f8;">*</code>、<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: #e96900; background: #f8f8f8;">+</code>、<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: #e96900; background: #f8f8f8;">{n,}</code> 这些表达式属于贪婪；</li>
<li style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; margin-bottom: 0.5em;"><code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: #e96900; background: #f8f8f8;">*?</code>、<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: #e96900; background: #f8f8f8;">+?</code>、<code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: #e96900; background: #f8f8f8;">{n,}?</code> 这些表达式就是懒惰（在贪婪的基础上加上 <code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: #e96900; background: #f8f8f8;">?</code>）。</li>
</ul>
<h2 id="h2" style="color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px; font-weight: bold; font-size: 1.4em;"><span style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px;">2、正则进阶</span></h2>
<h3 id="h21" style="color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px; font-weight: bold; font-size: 1.3em;"><span style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px;">2.1、捕获分组</span></h3>
<table style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; display: table; width: 100%; text-align: left;">
<thead style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px;">
<tr style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; border-width: 1px 0px 0px; border-right-style: initial; border-bottom-style: initial; border-left-style: initial; border-right-color: initial; border-bottom-color: initial; border-left-color: initial; border-image: initial; border-top-style: solid; border-top-color: #cccccc; background-color: white;"><th style="color: inherit; line-height: inherit; margin: 0px; font-size: 1em; border: 1px solid #cccccc; padding: 0.5em 1em; text-align: left; font-weight: bold; background-color: #f0f0f0;">语法</th><th style="color: inherit; line-height: inherit; margin: 0px; font-size: 1em; border: 1px solid #cccccc; padding: 0.5em 1em; text-align: left; font-weight: bold; background-color: #f0f0f0;">描述</th></tr>
</thead>
<tbody style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; border: 0px;">
<tr style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; border-width: 1px 0px 0px; border-right-style: initial; border-bottom-style: initial; border-left-style: initial; border-right-color: initial; border-bottom-color: initial; border-left-color: initial; border-image: initial; border-top-style: solid; border-top-color: #cccccc; background-color: white;">
<td style="color: inherit; line-height: inherit; margin: 0px; font-size: 1em; border: 1px solid #cccccc; padding: 0.5em 1em; text-align: left;">(exp)</td>
<td style="color: inherit; line-height: inherit; margin: 0px; font-size: 1em; border: 1px solid #cccccc; padding: 0.5em 1em; text-align: left;">匹配exp，并捕获文本到自动命名的组里</td>
</tr>
<tr style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; border-width: 1px 0px 0px; border-right-style: initial; border-bottom-style: initial; border-left-style: initial; border-right-color: initial; border-bottom-color: initial; border-left-color: initial; border-image: initial; border-top-style: solid; border-top-color: #cccccc; background-color: white;">
<td style="color: inherit; line-height: inherit; margin: 0px; font-size: 1em; border: 1px solid #cccccc; padding: 0.5em 1em; text-align: left;">(?Pexp)</td>
<td style="color: inherit; line-height: inherit; margin: 0px; font-size: 1em; border: 1px solid #cccccc; padding: 0.5em 1em; text-align: left;">匹配exp，并捕获文本到名称为 name 的组里</td>
</tr>
<tr style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; border-width: 1px 0px 0px; border-right-style: initial; border-bottom-style: initial; border-left-style: initial; border-right-color: initial; border-bottom-color: initial; border-left-color: initial; border-image: initial; border-top-style: solid; border-top-color: #cccccc; background-color: white;">
<td style="color: inherit; line-height: inherit; margin: 0px; font-size: 1em; border: 1px solid #cccccc; padding: 0.5em 1em; text-align: left;">(?:exp)</td>
<td style="color: inherit; line-height: inherit; margin: 0px; font-size: 1em; border: 1px solid #cccccc; padding: 0.5em 1em; text-align: left;">匹配exp，不捕获匹配的文本，也不给此分组分配组号</td>
</tr>
<tr style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; border-width: 1px 0px 0px; border-right-style: initial; border-bottom-style: initial; border-left-style: initial; border-right-color: initial; border-bottom-color: initial; border-left-color: initial; border-image: initial; border-top-style: solid; border-top-color: #cccccc; background-color: white;">
<td style="color: inherit; line-height: inherit; margin: 0px; font-size: 1em; border: 1px solid #cccccc; padding: 0.5em 1em; text-align: left;">(?P=name)</td>
<td style="color: inherit; line-height: inherit; margin: 0px; font-size: 1em; border: 1px solid #cccccc; padding: 0.5em 1em; text-align: left;">匹配之前由名为 name 的组匹配的文本</td>
</tr>
</tbody>
</table>
<blockquote style="line-height: inherit; display: block; padding: 15px 15px 15px 1rem; font-size: 0.9em; margin: 1em 0px; color: #819198; border-left: 6px solid #dce6f0; background: #f2f7fb; overflow: auto; overflow-wrap: normal; word-break: normal;">
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 0px;"><span style="color: #000000;">注意：在其他语言或者网上的一些正则工具中，分组命名的语法是</span> <code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: #e96900; background: #f8f8f8;">(?&lt;name&gt;exp)</code> <span style="color: #000000;">或</span> <code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: #e96900; background: #f8f8f8;">(?'name'exp)</code> <span style="color: #000000;">，但在 Python 里，这样写会报错：This named group syntax is not supported in this regex dialect。Python 中正确的写法是：</span><code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: #e96900; background: #f8f8f8;">(?P&lt;name&gt;exp)</code></p>
</blockquote>
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px;"><strong style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; font-weight: bold;">示例一：</strong></p>
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px;">分组可以让我们用一条正则提取出多个信息，例如：</p>
<pre><code><code class="hljs markdown" style="overflow-wrap: break-word; margin: 0px 2px; line-height: 18px; font-size: 14px; font-weight: normal; word-spacing: 0px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; overflow-x: auto; padding: 0.5em; background: #1e1e1e; color: #dcdcdc; white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important; display: -webkit-box !important;">s&nbsp;=&nbsp;'姓名：张三；性别：男；电话：138123456789'<br />m&nbsp;=&nbsp;re.search('姓名[<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #d69d85; word-wrap: inherit !important; word-break: inherit !important;">:：</span>](<span class="hljs-link" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #569cd6; text-decoration: underline; word-wrap: inherit !important; word-break: inherit !important;">\w+</span>).*?电话[<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #d69d85; word-wrap: inherit !important; word-break: inherit !important;">:：</span>](<span class="hljs-link" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #569cd6; text-decoration: underline; word-wrap: inherit !important; word-break: inherit !important;">\d{11}</span>)',&nbsp;s)<br />if&nbsp;m:<br />&nbsp;&nbsp;&nbsp;&nbsp;name&nbsp;=&nbsp;m.group(1)<br />&nbsp;&nbsp;&nbsp;&nbsp;phone&nbsp;=&nbsp;m.group(2)<br />&nbsp;&nbsp;&nbsp;&nbsp;print(f'name:{name},&nbsp;phone:{phone}')<br /></code></pre>
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px;"><strong style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; font-weight: bold;">结果：</strong></p>
<pre><code><code class="hljs css" style="overflow-wrap: break-word; margin: 0px 2px; line-height: 18px; font-size: 14px; font-weight: normal; word-spacing: 0px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; overflow-x: auto; padding: 0.5em; background: #1e1e1e; color: #dcdcdc; white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important; display: -webkit-box !important;"><span class="hljs-selector-tag" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #d7ba7d; word-wrap: inherit !important; word-break: inherit !important;">name</span>:张三,&nbsp;<span class="hljs-selector-tag" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #d7ba7d; word-wrap: inherit !important; word-break: inherit !important;">phone</span><span class="hljs-selector-pseudo" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #d7ba7d; word-wrap: inherit !important; word-break: inherit !important;">:13812345678</span><br /></code></pre>
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px;"><strong style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; font-weight: bold;">示例二：</strong></p>
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px;"><code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: #e96900; background: #f8f8f8;">(?P&lt;name&gt;exp)</code> 有时还是会用到的， <code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: #e96900; background: #f8f8f8;">(?P=name)</code> 则很少情况下会用到。我想了一个 <code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: #e96900; background: #f8f8f8;">(?P=name)</code> 的使用示例，给大家看下效果：</p>
<pre><code><code class="hljs python" style="overflow-wrap: break-word; margin: 0px 2px; line-height: 18px; font-size: 14px; font-weight: normal; word-spacing: 0px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; overflow-x: auto; padding: 0.5em; background: #1e1e1e; color: #dcdcdc; white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important; display: -webkit-box !important;">s&nbsp;=&nbsp;<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #d69d85; word-wrap: inherit !important; word-break: inherit !important;">'''<br />&lt;name&gt;张三&lt;/name&gt;<br />&lt;age&gt;30&lt;/age&gt;<br />&lt;phone&gt;138123456789&lt;/phone&gt;<br />'''</span><br /><br />pattern&nbsp;=&nbsp;<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #d69d85; word-wrap: inherit !important; word-break: inherit !important;">r'&lt;(?P&lt;name&gt;.*?)&gt;(.*?)&lt;/(?P=name)&gt;'</span><br />It&nbsp;=&nbsp;re.findall(pattern,&nbsp;s)<br /></code></pre>
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px;"><strong style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; font-weight: bold;">结果：</strong></p>
<pre><code><code class="hljs json" style="overflow-wrap: break-word; margin: 0px 2px; line-height: 18px; font-size: 14px; font-weight: normal; word-spacing: 0px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; overflow-x: auto; padding: 0.5em; background: #1e1e1e; color: #dcdcdc; white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important; display: -webkit-box !important;">[('name',&nbsp;'张三'),&nbsp;('age',&nbsp;'<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #b8d7a3; word-wrap: inherit !important; word-break: inherit !important;">30</span>'),&nbsp;('phone',&nbsp;'<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #b8d7a3; word-wrap: inherit !important; word-break: inherit !important;">138123456789</span>')]<br /></code></pre>
<h3 id="h22" style="color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px; font-weight: bold; font-size: 1.3em;"><span style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px;">2.2、零宽断言</span></h3>
<table style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; display: table; width: 100%; text-align: left;">
<thead style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px;">
<tr style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; border-width: 1px 0px 0px; border-right-style: initial; border-bottom-style: initial; border-left-style: initial; border-right-color: initial; border-bottom-color: initial; border-left-color: initial; border-image: initial; border-top-style: solid; border-top-color: #cccccc; background-color: white;"><th style="color: inherit; line-height: inherit; margin: 0px; font-size: 1em; border: 1px solid #cccccc; padding: 0.5em 1em; text-align: left; font-weight: bold; background-color: #f0f0f0;">语法</th><th style="color: inherit; line-height: inherit; margin: 0px; font-size: 1em; border: 1px solid #cccccc; padding: 0.5em 1em; text-align: left; font-weight: bold; background-color: #f0f0f0;">描述</th></tr>
</thead>
<tbody style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; border: 0px;">
<tr style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; border-width: 1px 0px 0px; border-right-style: initial; border-bottom-style: initial; border-left-style: initial; border-right-color: initial; border-bottom-color: initial; border-left-color: initial; border-image: initial; border-top-style: solid; border-top-color: #cccccc; background-color: white;">
<td style="color: inherit; line-height: inherit; margin: 0px; font-size: 1em; border: 1px solid #cccccc; padding: 0.5em 1em; text-align: left;">(?=exp)</td>
<td style="color: inherit; line-height: inherit; margin: 0px; font-size: 1em; border: 1px solid #cccccc; padding: 0.5em 1em; text-align: left;">匹配exp前面的位置</td>
</tr>
<tr style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; border-width: 1px 0px 0px; border-right-style: initial; border-bottom-style: initial; border-left-style: initial; border-right-color: initial; border-bottom-color: initial; border-left-color: initial; border-image: initial; border-top-style: solid; border-top-color: #cccccc; background-color: white;">
<td style="color: inherit; line-height: inherit; margin: 0px; font-size: 1em; border: 1px solid #cccccc; padding: 0.5em 1em; text-align: left;">(?&lt;=exp)</td>
<td style="color: inherit; line-height: inherit; margin: 0px; font-size: 1em; border: 1px solid #cccccc; padding: 0.5em 1em; text-align: left;">匹配exp后面的位置</td>
</tr>
<tr style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; border-width: 1px 0px 0px; border-right-style: initial; border-bottom-style: initial; border-left-style: initial; border-right-color: initial; border-bottom-color: initial; border-left-color: initial; border-image: initial; border-top-style: solid; border-top-color: #cccccc; background-color: white;">
<td style="color: inherit; line-height: inherit; margin: 0px; font-size: 1em; border: 1px solid #cccccc; padding: 0.5em 1em; text-align: left;">(?!exp)</td>
<td style="color: inherit; line-height: inherit; margin: 0px; font-size: 1em; border: 1px solid #cccccc; padding: 0.5em 1em; text-align: left;">匹配后面跟的不是exp的位置</td>
</tr>
<tr style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; border-width: 1px 0px 0px; border-right-style: initial; border-bottom-style: initial; border-left-style: initial; border-right-color: initial; border-bottom-color: initial; border-left-color: initial; border-image: initial; border-top-style: solid; border-top-color: #cccccc; background-color: white;">
<td style="color: inherit; line-height: inherit; margin: 0px; font-size: 1em; border: 1px solid #cccccc; padding: 0.5em 1em; text-align: left;">(?&lt;!exp)</td>
<td style="color: inherit; line-height: inherit; margin: 0px; font-size: 1em; border: 1px solid #cccccc; padding: 0.5em 1em; text-align: left;">匹配前面不是exp的位置</td>
</tr>
</tbody>
</table>
<blockquote style="line-height: inherit; display: block; padding: 15px 15px 15px 1rem; font-size: 0.9em; margin: 1em 0px; color: #819198; border-left: 6px solid #dce6f0; background: #f2f7fb; overflow: auto; overflow-wrap: normal; word-break: normal;">
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 0px;"><span style="color: #000000;">注意：正则中常用的前项界定</span> <code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: #e96900; background: #f8f8f8;">(?&lt;=exp)</code> <span style="color: #000000;">和前项否定界定</span> <code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: #e96900; background: #f8f8f8;">(?&lt;!exp)</code> <span style="color: #000000;">在 Python 中可能会报错：look-behind requires fixed-width pattern，原因是 python 中 <strong style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; font-weight: bold;">前项界定的表达式必须是定长的</strong>，看如下示例：</span></p>
</blockquote>
<pre><code><code class="hljs bash" style="overflow-wrap: break-word; margin: 0px 2px; line-height: 18px; font-size: 14px; font-weight: normal; word-spacing: 0px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; overflow-x: auto; padding: 0.5em; background: #1e1e1e; color: #dcdcdc; white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important; display: -webkit-box !important;">(?&lt;=aaa)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #57a64a; font-style: italic; word-wrap: inherit !important; word-break: inherit !important;">#&nbsp;正确</span><br />(?&lt;=aaa|bbb)&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #57a64a; font-style: italic; word-wrap: inherit !important; word-break: inherit !important;">#&nbsp;正确</span><br />(?&lt;=aaa|bb)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #57a64a; font-style: italic; word-wrap: inherit !important; word-break: inherit !important;">#&nbsp;错误</span><br />(?&lt;=\d+)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #57a64a; font-style: italic; word-wrap: inherit !important; word-break: inherit !important;">#&nbsp;错误</span><br />(?&lt;=\d{3})&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #57a64a; font-style: italic; word-wrap: inherit !important; word-break: inherit !important;">#&nbsp;正确</span><br /></code></pre>
<h3 id="h23" style="color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px; font-weight: bold; font-size: 1.3em;"><span style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px;">2.3、条件匹配</span></h3>
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px;">这大概是最复杂的正则表达式了。语法如下：</p>
<table style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; display: table; width: 100%; text-align: left;">
<thead style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px;">
<tr style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; border-width: 1px 0px 0px; border-right-style: initial; border-bottom-style: initial; border-left-style: initial; border-right-color: initial; border-bottom-color: initial; border-left-color: initial; border-image: initial; border-top-style: solid; border-top-color: #cccccc; background-color: white;"><th style="color: inherit; line-height: inherit; margin: 0px; font-size: 1em; border: 1px solid #cccccc; padding: 0.5em 1em; text-align: left; font-weight: bold; background-color: #f0f0f0;">语法</th><th style="color: inherit; line-height: inherit; margin: 0px; font-size: 1em; border: 1px solid #cccccc; padding: 0.5em 1em; text-align: left; font-weight: bold; background-color: #f0f0f0;">描述</th></tr>
</thead>
<tbody style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; border: 0px;">
<tr style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; border-width: 1px 0px 0px; border-right-style: initial; border-bottom-style: initial; border-left-style: initial; border-right-color: initial; border-bottom-color: initial; border-left-color: initial; border-image: initial; border-top-style: solid; border-top-color: #cccccc; background-color: white;">
<td style="color: inherit; line-height: inherit; margin: 0px; font-size: 1em; border: 1px solid #cccccc; padding: 0.5em 1em; text-align: left;">(?(id/name)yes|no)</td>
<td style="color: inherit; line-height: inherit; margin: 0px; font-size: 1em; border: 1px solid #cccccc; padding: 0.5em 1em; text-align: left;">如果指定分组存在，则匹配 yes 模式，否则匹配 no 模式</td>
</tr>
</tbody>
</table>
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px;">此语法极少用到，印象中只用过一次。</p>
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px;">以下示例的要求是：如果以 _ 开头，则以字母结尾，否则以数字结尾。</p>
<pre><code><code class="hljs vbnet" style="overflow-wrap: break-word; margin: 0px 2px; line-height: 18px; font-size: 14px; font-weight: normal; word-spacing: 0px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; overflow-x: auto; padding: 0.5em; background: #1e1e1e; color: #dcdcdc; white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important; display: -webkit-box !important;">s1&nbsp;=&nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #57a64a; font-style: italic; word-wrap: inherit !important; word-break: inherit !important;">'_abcd'</span><br />s2&nbsp;=&nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #57a64a; font-style: italic; word-wrap: inherit !important; word-break: inherit !important;">'abc1'</span><br /><br />pattern&nbsp;=&nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #57a64a; font-style: italic; word-wrap: inherit !important; word-break: inherit !important;">'(_)?[a-zA-Z]+(?(1)[a-zA-Z]|\d)'</span><br /><br />re.search(pattern,&nbsp;s1).<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #569cd6; word-wrap: inherit !important; word-break: inherit !important;">group</span>()<br />re.search(pattern,&nbsp;s2).<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #569cd6; word-wrap: inherit !important; word-break: inherit !important;">group</span>()<br /></code></pre>
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px;"><strong style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; font-weight: bold;">结果：</strong></p>
<pre><code><code class="hljs nginx" style="overflow-wrap: break-word; margin: 0px 2px; line-height: 18px; font-size: 14px; font-weight: normal; word-spacing: 0px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; overflow-x: auto; padding: 0.5em; background: #1e1e1e; color: #dcdcdc; white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important; display: -webkit-box !important;"><span class="hljs-attribute" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #9cdcfe; word-wrap: inherit !important; word-break: inherit !important;">_abcd</span><br />abc1<br /></code></pre>
<h3 id="h24findall" style="color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px; font-weight: bold; font-size: 1.3em;"><span style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px;">2.4、findall</span></h3>
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px;">Python 中的 <code style="font-size: inherit; line-height: inherit; overflow-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0px 2px; color: #e96900; background: #f8f8f8;">re.findall</code> 是个比较特别的方法（之所以说它特别，是跟我常用的 C# 做比较，在没看注释之前我想当然的掉坑里去了）。我们看这个方法的官方注释：</p>
<pre><code><code class="hljs vbnet" style="overflow-wrap: break-word; margin: 0px 2px; line-height: 18px; font-size: 14px; font-weight: normal; word-spacing: 0px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; overflow-x: auto; padding: 0.5em; background: #1e1e1e; color: #dcdcdc; white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important; display: -webkit-box !important;"><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #569cd6; word-wrap: inherit !important; word-break: inherit !important;">Return</span>&nbsp;a&nbsp;list&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #569cd6; word-wrap: inherit !important; word-break: inherit !important;">of</span>&nbsp;all&nbsp;non-overlapping&nbsp;matches&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #569cd6; word-wrap: inherit !important; word-break: inherit !important;">in</span>&nbsp;the&nbsp;<span class="hljs-built_in" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #4ec9b0; word-wrap: inherit !important; word-break: inherit !important;">string</span>.<br /><br /><span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #569cd6; word-wrap: inherit !important; word-break: inherit !important;">If</span>&nbsp;one&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #569cd6; word-wrap: inherit !important; word-break: inherit !important;">or</span>&nbsp;more&nbsp;capturing&nbsp;groups&nbsp;are&nbsp;present&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #569cd6; word-wrap: inherit !important; word-break: inherit !important;">in</span>&nbsp;the&nbsp;pattern,&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #569cd6; word-wrap: inherit !important; word-break: inherit !important;">return</span>&nbsp;<br />a&nbsp;list&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #569cd6; word-wrap: inherit !important; word-break: inherit !important;">of</span>&nbsp;groups;&nbsp;this&nbsp;will&nbsp;be&nbsp;a&nbsp;list&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #569cd6; word-wrap: inherit !important; word-break: inherit !important;">of</span>&nbsp;tuples&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #569cd6; word-wrap: inherit !important; word-break: inherit !important;">if</span>&nbsp;the&nbsp;pattern&nbsp;<br />has&nbsp;more&nbsp;than&nbsp;one&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #569cd6; word-wrap: inherit !important; word-break: inherit !important;">group</span>.<br /><br />Empty&nbsp;matches&nbsp;are&nbsp;included&nbsp;<span class="hljs-keyword" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #569cd6; word-wrap: inherit !important; word-break: inherit !important;">in</span>&nbsp;the&nbsp;result.<br /></code></pre>
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px;">简单来说，就是</p>
<ul style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; padding-left: 32px; list-style-type: disc;">
<li style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; margin-bottom: 0.5em;"><span style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px;">如果没有分组，则返回整条正则匹配结果的列表；</span></li>
<li style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; margin-bottom: 0.5em;"><span style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px;">如果有 1 个分组，则返回分组匹配到的结果的列表；</span></li>
<li style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; margin-bottom: 0.5em;"><span style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px;">如果有多个分组，则返回分组匹配到的结果的元组的列表。</span></li>
</ul>
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px;">看下面的例子：</p>
<pre><code><code class="hljs nginx" style="overflow-wrap: break-word; margin: 0px 2px; line-height: 18px; font-size: 14px; font-weight: normal; word-spacing: 0px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; overflow-x: auto; padding: 0.5em; background: #1e1e1e; color: #dcdcdc; white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important; display: -webkit-box !important;"><span class="hljs-attribute" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #9cdcfe; word-wrap: inherit !important; word-break: inherit !important;">s</span>&nbsp;=&nbsp;<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #d69d85; word-wrap: inherit !important; word-break: inherit !important;">'aaa123bbb456ccc'</span><br /><br />re.findall(<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #d69d85; word-wrap: inherit !important; word-break: inherit !important;">'[a-z]+\d+'</span>,&nbsp;s)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #57a64a; font-style: italic; word-wrap: inherit !important; word-break: inherit !important;">#&nbsp;不包含分组</span><br />re.findall(<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #d69d85; word-wrap: inherit !important; word-break: inherit !important;">'[a-z]+(\d+)'</span>,&nbsp;s)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #57a64a; font-style: italic; word-wrap: inherit !important; word-break: inherit !important;">#&nbsp;包含一个分组</span><br />re.findall(<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #d69d85; word-wrap: inherit !important; word-break: inherit !important;">'([a-z]+(\d+))'</span>,&nbsp;s)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #57a64a; font-style: italic; word-wrap: inherit !important; word-break: inherit !important;">#&nbsp;包含多个分组</span><br />re.findall(<span class="hljs-string" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #d69d85; word-wrap: inherit !important; word-break: inherit !important;">'(?:[a-z]+(\d+))'</span>,&nbsp;s)&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #57a64a; font-style: italic; word-wrap: inherit !important; word-break: inherit !important;">#&nbsp;?:&nbsp;不捕获分组匹配结果</span><br /></code></pre>
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px;"><strong style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px; font-weight: bold;">结果：</strong></p>
<pre><code><code class="hljs json" style="overflow-wrap: break-word; margin: 0px 2px; line-height: 18px; font-size: 14px; font-weight: normal; word-spacing: 0px; letter-spacing: 0px; font-family: Consolas, Inconsolata, Courier, monospace; border-radius: 0px; overflow-x: auto; padding: 0.5em; background: #1e1e1e; color: #dcdcdc; white-space: pre !important; word-wrap: normal !important; word-break: normal !important; overflow: auto !important; display: -webkit-box !important;">['aaa123',&nbsp;'bbb456']<br />['<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #b8d7a3; word-wrap: inherit !important; word-break: inherit !important;">123</span>',&nbsp;'<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #b8d7a3; word-wrap: inherit !important; word-break: inherit !important;">456</span>']<br />[('aaa123',&nbsp;'<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #b8d7a3; word-wrap: inherit !important; word-break: inherit !important;">123</span>'),&nbsp;('bbb456',&nbsp;'<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #b8d7a3; word-wrap: inherit !important; word-break: inherit !important;">456</span>')]<br />['<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #b8d7a3; word-wrap: inherit !important; word-break: inherit !important;">123</span>',&nbsp;'<span class="hljs-number" style="font-size: inherit; line-height: inherit; margin: 0px; padding: 0px; color: #b8d7a3; word-wrap: inherit !important; word-break: inherit !important;">456</span>']<br /></code></pre>
<blockquote style="line-height: inherit; display: block; padding: 15px 15px 15px 1rem; font-size: 0.9em; margin: 1em 0px; color: #819198; border-left: 6px solid #dce6f0; background: #f2f7fb; overflow: auto; overflow-wrap: normal; word-break: normal;">
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 0px;"><span style="color: #000000;">零宽断言中讲到 Python 中前项界定必须是定长的，这很不方便，但是配合 findall 有分组时只取分组结果的特性，就可以模拟出非定长前项界定的效果了。</span></p>
</blockquote>
<h2 id="h" style="color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px; font-weight: bold; font-size: 1.4em;"><span style="font-size: inherit; color: inherit; line-height: inherit; margin: 0px; padding: 0px;">结语</span></h2>
<p style="font-size: inherit; color: inherit; line-height: inherit; padding: 0px; margin: 1.5em 0px;">其实正则就像是一个数学公式，会背公式不一定会做题。但其实这公式一点也不难，至少比学校里学的数学简单多了，多练习几次也就会了。</p>
</div>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>