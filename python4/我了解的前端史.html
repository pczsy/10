<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修我了解的前端史' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>我了解的前端史</center></div><div class='banquan'>原文出处:本文由博客园博主apolis提供。<br/>
原文连接:https://www.cnblogs.com/apolis/p/12077495.html</div><br>
    <p>同事邀我写一篇前端技术发展史，用于新员工培训。</p>
<p>在查资料写正式文档之前，我要先写下自己的所知所感，以免到时分不清 什么东西是自己的、什么东西是别人的。</p>
<hr />
<p>1995 年 网景公司想给网页增加一些交互性，花两周时间创造了 javascript，用来控制网页中的元素。</p>
<p>两周时间创造的语言一定精致不到哪儿去。<br />
但巧妙的是 这门语言非常得开放灵活，开发者可以自己定制它。<br />
例如：</p>
<ul>
<li><p>给 <code>String</code> 添加个首字母大写的方法：</p>
<pre><code><code>String.prototype.capitalize = function() {
  return (
    this.charAt(0).toUpperCase() + this.slice(1)
  );
};

&quot;hello&quot;.capitalize(); // Hello</code></pre></li>
<li><p>修改 <code>Date toString</code> 方法：</p>
<pre><code><code>Date.prototype.toString = function() {
  return (
    this.getFullYear() +
    &quot;/&quot; +
    (this.getMonth() + 1) +
    &quot;/&quot; +
    this.getDate()
  );
};

new Date().toString(); // 2019/12/21</code></pre></li>
</ul>
<p>因为这种开放性 javascript 吸收了大量开发者的智慧，变得越来越好。</p>
<blockquote>
<p>这种策略对我很有启发。</p>
<p>一件事我自己搞不定，那可以把它变成大家的事，用集体智慧解决它。<br />
道理简单，但难在放低姿态、保持开放的心态。</p>
</blockquote>
<hr />
<p>吸收了开发者集体智慧后，javascript 标准【准确点是 ECMAScript 标准】发展得很快。</p>
<p>但碰到了一个问题：标准跑到了半山腰，浏览器们还在山脚下。</p>
<p><img src="./images/我了解的前端史0.png" alt="../images/comeon.gif" /></p>
<p>毕竟程序跑在浏览器上，标准再好，浏览器不支持，开发者也没法用。</p>
<p>而且众多浏览器对标准的支持情况也不一样，不仅是 javascript，还包括 html 和 css。<br />
那个年代的招聘要求里都有一条“能解决浏览器兼容性问题”。</p>
<hr />
<p>浏览器兼容性问题让开发者很头疼。“帮开发者解决浏览器兼容性问题”成了各框架的重点任务。</p>
<p>其中玩得最大的是 ExtJS。<br />
html、css、javascript 兼容性问题它全包了。</p>
<p>思路是这样的：</p>
<ol>
<li><p>html、css：开发者不要写了，自然就不需要关心 html、css 兼容性问题了。</p>
<ul>
<li><p>html、css 写法</p>
<pre class="html"><code>&lt;style&gt;
  .large-btn {
    font-size: 2em;
    padding: 10px;
  }
&lt;/style&gt;
&lt;button class=&quot;large-btn&quot;&gt;提交&lt;/button&gt;</code></pre></li>
<li><p>ExtJS 写法</p>
<pre><code><code>{
  xtype: &#39;button&#39;,
  text: &#39;提交&#39;,
  scale: &#39;large&#39;
}</code></pre>
<p>框架再把这个对象转成 Dom。</p>
<blockquote>
<p>了解 React 的同学有没有似曾相识的感觉？<br />
React 把 JSX 表示的虚拟 Dom 转成 Dom。</p>
<p>框架过时了，思想不过时。</p>
</blockquote></li>
</ul></li>
<li><p>javascript：开发者使用 ExtJS 的 api，而不用 ECMAScript 标准的 api。<br />
例如拷贝 b 对象的属性到 a 对象上：</p>
<ul>
<li><p>ECMAScript 标准</p>
<pre><code><code>Object.assign(a, b);</code></pre></li>
<li><p>ExtJS</p>
<pre><code><code>Ext.apply(a, b);</code></pre></li>
</ul></li>
</ol>
<blockquote>
<p>ExtJS 让开发者完全不用考虑浏览器兼容性的问题，大幅提升了开发效率。</p>
<p>但代价是：<br />
开发者和 html、css、javascript 标准被隔离开，<br />
开发者像是在用一门新语言编程，被绑架在这个框架上了。</p>
</blockquote>
<hr />
<p>再后来 babel 出现了，开发者终于可以拥抱最新 ECMAScript 标准了。</p>
<p>babel 的思路是这样：<br />
开发者用最新 ECMAScript 标准去写代码，然后通过 babel 编译，转成浏览器支持的代码。</p>
<hr />
<p>至此，兼容性问题完美解决了。<br />
下面我再从”事件驱动“这个角度来说说技术的变化。</p>
<hr />
<p>早些年前端流行 MVC 框架，MVC 就使用了事件驱动。</p>
<p>事件太灵活。<br />
茴香豆的“茴”有四种写法：</p>
<p><img src="./images/我了解的前端史1.png" alt="../images/hui.gif" /></p>
<p>一个事件的处理 有 N 种方式：</p>
<ul>
<li>可能 <code>Controller</code> 在监听，</li>
<li>可能父元素在监听，</li>
<li>可能兄弟元素在监听，</li>
<li>可能多个地方同时在监听，并且监听器执行顺序还有讲究，</li>
<li>……</li>
</ul>
<p>这些 事件、监听器 的代码散落在很多地方，它们通过 事件传递、变量 联系在一起。<br />
只有把这些代码找全了、调用顺序看清楚了，才能搞明白数据流是怎么走的。</p>
<p><strong>数据流走向不直观</strong> 成了 事件驱动 被人诟病的问题。</p>
<hr />
<p>对于一个问题，有两种常见的处理方式：</p>
<ol>
<li>解决问题，</li>
<li>消灭提出问题的人。</li>
</ol>
<p>下面来看看这两种处理方式的应用。</p>
<hr />
<p>从“解决问题”的思路出发，出现了函数式响应式。</p>
<p>函数式响应式 直接以“数据流走向”为视角编程，<strong>写代码就是画流程图</strong>。</p>
<p>看个计数器的例子：</p>
<p><img src="./images/我了解的前端史2.png" alt="../images/counter.png" /></p>
<p>代码：</p>
<pre><code><code>merge(
  fromEvent(increaseBtn, &quot;click&quot;).pipe(mapTo(1)),
  fromEvent(decreaseBtn, &quot;click&quot;).pipe(mapTo(-1))
)
  .pipe(scan((acc, cur) =&gt; acc + cur, 0))
  .subscribe(
    count =&gt; (resultLabel.innerText = count)
  );</code></pre>
<p>流程图【下图的 <code>e</code> 代表 <code>click event</code>】：</p>
<p><img src="./images/我了解的前端史3.png" alt="../images/counter-flow.png" /></p>
<hr />
<p>以“数据流走向”为视角编程：数据流相关的代码放在了一处，代码写的就是怎么操作数据流。</p>
<p>数据流走向清晰了，但新的问题出现了：</p>
<ol>
<li>流的操作符多、组合方式灵活。每个人习惯不一样，看别人的流很费劲。</li>
<li><p>对于一些场景没有好的解决方案。例如：</p>
<blockquote>
<p>数据流共 10 段，第 10 段需要第 1 段的数据。</p>
</blockquote>
<p>以下解决办法我觉得都不完美：</p>
<ul>
<li>第 1 段的数据一直向下传递。
<ul>
<li>每段流都得小心，不能把前一段流的数据弄丢了。</li>
</ul></li>
<li>用外部变量记录第 1 段的数据。
<ul>
<li>又退回了 MVC 事件驱动的形态。</li>
</ul></li>
<li>第 10 段流再与第 1 段流组合，例如使用 <code>zip</code>、<code>combineLatest</code> 等。
<ul>
<li>tricky，可读性变差。</li>
</ul></li>
</ul></li>
</ol>
<p>因为存在以上问题，工作中我只敢在 ajax 请求 或 小项目 里使用函数式响应式，不敢大范围使用。</p>
<hr />
<p>再来看另一个思路：消灭提出问题的人。</p>
<p>翻译一下：你有问题，我就不用你了，我要另辟蹊径。</p>
<p>典型代表：<br />
React 不通过事件传递数据了，改为通过 <code>props</code> 单向传递数据，只能父到子。</p>
<p>这就好像从 A 处到达 B 处，<br />
事件驱动不限制交通方式，有的人走路、有的人开车、有的人坐飞机……<br />
React 规定大家都得开车去。</p>
<p>开发的自由度变小了，大家编码方式更一致了。<br />
虽然一些场景下代码实现变麻烦了，但以往项目的经验告诉我：<strong>比起写高效的代码，写一致的代码更重要</strong>。</p>
<blockquote>
<p>这也让我对框架有了新的认识，框架可以从两个方面提高开发效率：</p>
<ol>
<li>提供成熟的解决方案，如 组件、路由……少量代码就能完成复杂的功能。</li>
<li>限制开发的自由度，让日后维护和开发新功能变得容易。</li>
</ol>
</blockquote>
<hr />
<p>我以“浏览器兼容性”、“事件驱动 数据流走向不直观”这两个问题入手，谈了前端技术的变化。</p>
<p>大家还有哪些角度呢？欢迎评论交流。</p>

</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>