<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修Python连载25-函数tell&amp;write&amp;writeline$&amp;持久化' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>Python连载25-函数tell&amp;write&amp;writeline$&amp;持久化</center></div><div class='banquan'>原文出处:本文由博客园博主心悦君兮君不知-睿提供。<br/>
原文连接:https://www.cnblogs.com/ruigege0000/p/11235367.html</div><br>
    <p>一、</p>
<p>1.连续打印举例</p>
<p>#打开文件，三个字符一组读出来内容，然后显示在屏幕上，每读一次，停一秒</p>
<p>&nbsp;</p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">import</span><span style="color: #000000;"> time

with open(r</span><span style="color: #800000;">"</span><span style="color: #800000;">test01.txt</span><span style="color: #800000;">"</span>,<span style="color: #800000;">'</span><span style="color: #800000;">r</span><span style="color: #800000;">'</span><span style="color: #000000;">) as f:

    strChar </span>= f.read(3<span style="color: #000000;">)

    </span><span style="color: #0000ff;">while</span><span style="color: #000000;"> strChar:

        </span><span style="color: #0000ff;">print</span><span style="color: #000000;">(strChar)

        time.sleep(</span>1<span style="color: #000000;">)

        strChar </span>= f.read(3)</pre>
</div>
<p>&nbsp;</p>
<p>&nbsp;<img src="./images/Python连载25-函数tell&amp;write&amp;writeline$&amp;持久化0.png" alt="" /></p>
<p>2.tell函数</p>
<p>（1）用法：用来显示文件读写指针的当前位置</p>
<p>（2）格式：文件.tell()</p>
<p>（3）举例：</p>
<div class="cnblogs_code">
<pre><code><span style="color: #000000;"> 

with open(r</span><span style="color: #800000;">"</span><span style="color: #800000;">test01.txt</span><span style="color: #800000;">"</span>,<span style="color: #800000;">'</span><span style="color: #800000;">r</span><span style="color: #800000;">'</span><span style="color: #000000;">) as f:

    strChar2 </span>= f.read(3<span style="color: #000000;">)

    pos </span>=<span style="color: #000000;"> f.tell()

    </span><span style="color: #0000ff;">while</span><span style="color: #000000;"> strChar2:

        </span><span style="color: #0000ff;">print</span><span style="color: #000000;">(pos)

        </span><span style="color: #0000ff;">print</span><span style="color: #000000;">(strChar2)

        strChar2 </span>= f.read(3<span style="color: #000000;">)

        pos </span>= f.tell()</pre>
</div>
<p>&nbsp;</p>
<p><img src="./images/Python连载25-函数tell&amp;write&amp;writeline$&amp;持久化1.png" alt="" /></p>
<p>（4）注意：上面的例子说明了：tell返回数字的单位是byte；read是以字符为单位的</p>
<p>3.文件的写操作 --函数write与writeline</p>
<p>（1）用法：</p>
<p>write(str):把字符串写入文件</p>
<p>writeline(str):把字符串按行写入文件</p>
<p>（2）格式：</p>
<p>文件.write(str)</p>
<p>文件.writelines(str)</p>
<p>（3）区别：</p>
<p>i.write函数参数只能是字符串</p>
<p>ii.writeline函数参数可以是字符串，也可以是字符串序列</p>
<p>&nbsp;</p>
<div class="cnblogs_code">
<pre><code>with open(r<span style="color: #800000;">"</span><span style="color: #800000;">test01.txt</span><span style="color: #800000;">"</span>,<span style="color: #800000;">'</span><span style="color: #800000;">a</span><span style="color: #800000;">'</span><span style="color: #000000;">) as l:

    l.write(</span><span style="color: #800000;">"</span><span style="color: #800000;">优秀1 \n非常优秀1</span><span style="color: #800000;">"</span><span style="color: #000000;">)

    b </span>= [<span style="color: #800000;">"</span><span style="color: #800000;">优秀2</span><span style="color: #800000;">"</span>,<span style="color: #800000;">"</span><span style="color: #800000;">非常优秀2</span><span style="color: #800000;">"</span>,<span style="color: #800000;">"</span><span style="color: #800000;">jsfdk</span><span style="color: #800000;">"</span><span style="color: #000000;">]

    l.writelines(b)</span></pre>
</div>
<p>&nbsp;</p>
<p><img src="./images/Python连载25-函数tell&amp;write&amp;writeline$&amp;持久化2.png" alt="" /></p>
<p>二、持久化 --模块pickle</p>
<p>1.（1）序列化（持久化、落地）：把程序运行中的信息保存在磁盘上</p>
<p>（2）反序列化：序列化+的逆过程</p>
<p>2.函数dump&amp;load</p>
<p>（1）用法：</p>
<p>dump序列化</p>
<p>load反序列化</p>
<p>（2）格式：</p>
<p>pickle.dump(被存文件，存储到的文件)</p>
<p>pickle.load（读取的文件）</p>
<p>（3）例子：</p>
<p>&nbsp;</p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">import</span><span style="color: #000000;"> pickle

with open(r</span><span style="color: #800000;">"</span><span style="color: #800000;">test01.txt</span><span style="color: #800000;">"</span>,<span style="color: #800000;">"</span><span style="color: #800000;">wb</span><span style="color: #800000;">"</span><span style="color: #000000;">) as k:

    age </span>= 24<span style="color: #000000;">

    pickle.dump(age,k)

​

with open(r</span><span style="color: #800000;">"</span><span style="color: #800000;">test01.txt</span><span style="color: #800000;">"</span>,<span style="color: #800000;">"</span><span style="color: #800000;">rb</span><span style="color: #800000;">"</span><span style="color: #000000;">) as j:

    age</span>=<span style="color: #000000;">pickle.load(j)

    </span><span style="color: #0000ff;">print</span>(age)</pre>
</div>
<p><img src="./images/Python连载25-函数tell&amp;write&amp;writeline$&amp;持久化3.png" alt="" /></p>
<p>三、源码</p>
<p>d17_5_datetime_package</p>
<p>地址：https://github.com/ruigege66/Python_learning/blob/master/d17_5_datetime_package</p>
<p>2.CSDN：https://blog.csdn.net/weixin_44630050（心悦君兮君不知-睿）</p>
<p>3.博客园：https://www.cnblogs.com/ruigege0000/</p>
<p>4.欢迎关注微信公众号：傅里叶变换</p>
<p><img src="./images/Python连载25-函数tell&amp;write&amp;writeline$&amp;持久化4.png" alt="" />&nbsp;</p>
<p>&nbsp;</p>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>