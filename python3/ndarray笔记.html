<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修ndarray笔记' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>ndarray笔记</center></div><div class='banquan'>原文出处:本文由博客园博主yg_staring提供。<br/>
原文连接:https://www.cnblogs.com/yang901112/p/11380143.html</div><br>
    <p><span style="font-size: 16px;"><strong>Numpy的介绍</strong></span></p>
<p>1. Ndarray：N-dimensional array, N维数组</p>
<p>2. 一种由相同类型的元素组成的多维数组，元素数量是事先指定好的</p>
<p>例：建立Ndarray多维数组&nbsp; &nbsp; ndarray父类实现矩阵的创建基本方式：</p>
<p>arr = np.array(</p>
<p>&nbsp;&nbsp;&nbsp; [</p>
<p>&nbsp;&nbsp;&nbsp; [1,2,3,4],</p>
<p>&nbsp;&nbsp;&nbsp; [2,3,4,5]</p>
<p>])</p>
<p>这是一个二维数组arr.ndim为2&nbsp; 这个数组的形状arr.shape为（2, 4）即2行4列</p>
<p>这个数组的元素个数np.size为8个，这个数组的数据类型arr.dtype为int32</p>
<p>shape属性--&gt;几行几列</p>
<p>ndim属性--&gt;几维度&nbsp; 向量--&gt;1维度&nbsp; 矩阵--&gt;二维度&nbsp; 数组--&gt;3维度</p>
<p>size属性--&gt;数组元素的个数</p>
<p>dtype--&gt;元素类型</p>
<div class="cnblogs_code">
<pre><code><span style="color: #008080;"> 1</span> <span style="color: #008000;">#</span><span style="color: #008000;"> 矩阵的定义</span>
<span style="color: #008080;"> 2</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> numpy as np
</span><span style="color: #008080;"> 3</span> b = np.array([[1,2,3,4], [2,3,4,5<span style="color: #000000;">]])
</span><span style="color: #008080;"> 4</span> <span style="color: #0000ff;">print</span><span style="color: #000000;">(b)
</span><span style="color: #008080;"> 5</span> <span style="color: #0000ff;">print</span><span style="color: #000000;">(type(b))
</span><span style="color: #008080;"> 6</span> 
<span style="color: #008080;"> 7</span> <span style="color: #008000;">#</span><span style="color: #008000;"> 矩阵的性质几行几列</span>
<span style="color: #008080;"> 8</span> <span style="color: #0000ff;">print</span>(<span style="color: #800000;">'</span><span style="color: #800000;">shape</span><span style="color: #800000;">'</span>,b.shape)  <span style="color: #008000;">#</span><span style="color: #008000;"> (2,4)</span>
<span style="color: #008080;"> 9</span> <span style="color: #008000;">#</span><span style="color: #008000;"> 几维度  向量--&gt;1维度  矩阵--&gt;二维度  数组--&gt;3维度</span>
<span style="color: #008080;">10</span> <span style="color: #0000ff;">print</span>(b.ndim)  <span style="color: #008000;">#</span><span style="color: #008000;"> 2</span>
<span style="color: #008080;">11</span> <span style="color: #008000;">#</span><span style="color: #008000;"> 元素类型</span>
<span style="color: #008080;">12</span> <span style="color: #0000ff;">print</span>(b.dtype)  <span style="color: #008000;">#</span><span style="color: #008000;"> int32</span>
<span style="color: #008080;">13</span> <span style="color: #008000;">#</span><span style="color: #008000;"> 数组元素的个数</span>
<span style="color: #008080;">14</span> <span style="color: #0000ff;">print</span>(b.size)  <span style="color: #008000;">#</span><span style="color: #008000;"> 8 =&gt; 2*4</span>&nbsp;</pre>
</div>
<p>3. 元素的数据类型由dtype(data-type)对象来指定，每个ndarray只有一种dtype类型</p>
<p>例：</p>
<p>np.array(['Python','cctv','ibeifeng','hello world'],dtype='|S4')</p>
<p>输出结果array([b'Pyth', b'cctv', b'ibei', b'hell'], dtype='|S4')</p>
<p>其中S4中的S表示字符串型，4表示每个字符串长度为4，所以输出结果每个数组只有4个字符</p>
<p>&nbsp;&nbsp;arr3 = np.array(['1','2','3','4'],dtype='int')&nbsp; # 表明arr3为整型</p>
<p>&nbsp;&nbsp;# 输出array([1, 2, 3, 4])</p>
<p>&nbsp;&nbsp;arr3 = np.array(['1','2','3','4'],dtype='float')&nbsp; # 表明arr3为浮点型</p>
<p>&nbsp;&nbsp;# 输出array([1., 2., 3., 4.])</p>
<p>&nbsp;</p>
<p>4. 大小固定，创建好数组时一旦指定好大小，就不会再发生改变</p>
<p>&nbsp;&nbsp;数组的形状可以方便的读取数字例如</p>
<p>&nbsp;arr1 = np.array([[[ 1,&nbsp; 2,&nbsp; 3,&nbsp; 4,&nbsp; 5],</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [ 2,&nbsp; 3,&nbsp; 4,&nbsp; 5,&nbsp; 6],</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [ 3,&nbsp; 7,&nbsp; 4,&nbsp; 5,&nbsp; 6],</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;[ 3,&nbsp; 1,&nbsp; 4,&nbsp; 6,&nbsp; 7]],</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;[[11,&nbsp; 2, 23, 54,&nbsp; 5],</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [28, 32, 42, 53, 46],</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [35, 27, 74, 55, 86],</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [63, 61, 44, 64, 87]]])</p>
<p>这个数组的形状为（2,4,5）可以通过arr1[0][1][1]这个形式取到3</p>
<p>&nbsp;</p>
<p><span style="font-size: 16px;"><strong>ndarray的常见创建方式</strong></span></p>
<ol>
<li>array函数：接收一个普通的Python序列，转成ndarray</li>
<li>zeros函数：创建指定长度或形状的全零数组</li>
</ol>
<p>np.zeros((3,4)) 创建3行4列全为0的数组，且默认为float型</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; 3. ones函数：创建指定长度或形状的全1数组</p>
<p>np.ones((3,4)，dtype=int) 创建3行4列全为1的整形数组，如果没有dtype=int，默认为float型</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; 4. empty函数：创建一个没有任何具体值的数组（准确地说是一些未初始化的垃圾值）</p>
<p>&nbsp;&nbsp;&nbsp;np.empty((7,4)) 创建7行4列随机值数组，float型</p>
<p>&nbsp;</p>
<p><span style="font-size: 16px;"><strong>ndarray的其他创建方式</strong></span></p>
<p>1.arrange函数：类似与python的range函数，通过指定开始值、终值和步长来创建一维数组，注意数组不包括终值</p>
<p>&nbsp;np.arange(2,20,3)</p>
<p>&nbsp;# 输出 array([ 2, 5, 8, 11, 14, 17])</p>
<p>2. linspace函数：通过指定开始值、终值和元素个数来创建一维数组，可以通过endpoint关键字指定是否包括终值，缺省设置是包括终值，它创建的是等差数列</p>
<p>np.linspace(2,20,3) 包含20</p>
<p># 输出 array([ 2., 11., 20.])</p>
<p>3.logspace函数：和linspace类似，但它创建的是等比数列</p>
<p>np.logspace(2,20,3)</p>
<p># 输出 array([1.e+02, 1.e+11, 1.e+20])</p>
<p>4.使用随机数填充数组，即使用numpy.random模块的random()函数，数组所包含的元素数量由参数决定</p>
<p>np.random.random((2,3,4))</p>
<p># 输出 array([[[0.40595225, 0.80061568, 0.16821289, 0.05557114],</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [0.96146758, 0.81135374, 0.93132755, 0.11023897],</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;[0.79526355, 0.61563423, 0.78924163, 0.21849418]],</p>
<p>&nbsp;</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;[[0.36029206, 0.883596&nbsp; , 0.60343721, 0.38746385],</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [0.92802328, 0.91256992, 0.61305594, 0.86444498],</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [0.6619579 , 0.55846171, 0.37563522, 0.35721423]]])</p>
<p>&nbsp; &nbsp; np.random.random_sample()生成一位随机数</p>
<p>&nbsp;</p>
<p><span style="font-size: 16px;"><strong>ndarry的shape属性巧算</strong></span></p>
<p>np.arange(2,20,2).reshape((3,-1))&nbsp; # -1 则会自动计算维度</p>
<p># 输出 array([[ 2,&nbsp; 4,&nbsp; 6],</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;[ 8, 10, 12],</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;[14, 16, 18]])</p>
<p>&nbsp;</p>
<p>总结：</p>
<ol>
<li>先规范显示出数组</li>
<li>层层去中括号对，直到无中括号对，每去一层，一个维度，去掉一层[]，后的元素个数（逗号隔开）即该维度的元素个数</li>
</ol>
<p>&nbsp;</p>
<p><span style="font-size: 16px;"><strong>NumPy中的数据类型</strong></span></p>
<p>1. 创建NumPy数组时可以通过dtype属性显示指定数据类型，如果不指定，NumPy会自己推断出合适的数据类型，所以一般无需显示指定</p>
<p>arr2=np.arange(2,10,2)，无需指定可判断为int32型</p>
<p>2. astype方法，可以转换数组的元素数据类型，得到一个新数组</p>
<p>arr3 = arr2.astype('float') # 为float64型</p>
<p># 输出array([2., 4., 6., 8.])</p>
<p>arr4 = arr2.astype('|U2')&nbsp; # 使用unicode编码，每个元素长度为2</p>
<p>#　输出array(['2', '4', '6', '8'], dtype='&lt;U2')</p>
<p>3.数值型dtype的命名方式：一个类型名（比如int、float），后面接着一个用于表示各元素位长的数字</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp; 比如表中的双精度浮点值，即Python中的float对象，需要占用8个字节（即64位），因此该类型在NumPy中就记为float64</p>
<p>4.每种类型有一个相对应的类型代码，即简写方式，参照下面的表</p>
<p>&nbsp;&nbsp;<img src="./images/ndarray笔记0.png" alt="" width="608" height="295" /></p>
<p><img src="./images/ndarray笔记1.png" alt="" width="614" height="288" /></p>
<p><img src="./images/ndarray笔记2.png" alt="" width="619" height="174" /></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><span style="font-size: 16px;"><strong>改变ndarray的形状</strong></span></p>
<p>1. 直接修改ndarray的shape值</p>
<p>2. 使用reshape函数，可以创建一个改变了尺寸的新数组，原数组的shape保持不变，但注意他们共享内存空间，</p>
<p>&nbsp; 因此修改任何一个也对另一个产生影响，因此注意新数组的元素个数必须与原数组一样</p>
<p>arr=np.arange(20)</p>
<p>arr.reshape((4,5))</p>
<p>＃　输出array([[ 0,&nbsp; 1,&nbsp; 2,&nbsp; 3,&nbsp; 4],</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 　　　　&nbsp; &nbsp; [ 5,&nbsp; 6,&nbsp; 7,&nbsp; 8,&nbsp; 9],</p>
<p>&nbsp;&nbsp;&nbsp; 　　　　　&nbsp; [10, 11, 12, 13, 14],</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp; 　　　　　 [15, 16, 17, 18, 19]])</p>
<p>reshape函数不会改变原来的ndarray，但是得到的新的ndarray是原数组的视图</p>
<p>　　　视图</p>
<p>　　　多个变量使用（指向）一个内存地址（空间）</p>
<p>对于ndarray的一些方法操作，首先区分是否会改变原变量，以此来判断是视图还是副本</p>
<p>　　　副本　　　</p>
<p>　　　把原来的内容，重新复制（拷贝）了一份新的数据，放到新的内存地址（空间）</p>
<p>　　　即使修改了其中一个变量的元素值，并不会影响另外一个变量</p>
<p>&nbsp;</p>
<p>3. 当指定新数组某个轴的元素为-1时，将根据数组元素的个数自动计算此轴的长度</p>
<p>arr2=arr.reshape((2,-1))</p>
<p>＃　array([[ 0,&nbsp; 1,&nbsp; 2,&nbsp; 3,&nbsp; 4,&nbsp; 5,&nbsp; 6,&nbsp; 7,&nbsp; 8,&nbsp; 9],</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 　 [10, 11, 12, 13, 14, 15, 16, 17, 18, 19]])</p>
<p>&nbsp;</p>
<p><span style="font-size: 16px;"><strong>NumPy基本操作</strong></span></p>
<ol>
<li>数组与标量、数组之间的运算</li>
<li>数组的矩阵积（matrix product）</li>
<li>数组的索引与切片</li>
<li>数组转置与轴对换</li>
<li>通用函数：快速的元素级数组函数</li>
<li>聚合函数</li>
<li>np.where函数</li>
<li>np.unique函数</li>
</ol>
<p>&nbsp;</p>
<p><span style="font-size: 16px;"><strong>数组与标量、数组之间的运算</strong></span></p>
<ol>
<li>数组不用循环即可对每个元素执行批量运算，这通常就叫做矢量化，即用数组表达式代替循环的做法</li>
<li>矢量化数组运算性能要比纯Python方式快上一两个数量级</li>
<li>大小相等的数组之间的任何算数运算都会将运算应用到元素级</li>
</ol>
<p>&nbsp;</p>
<p><span style="font-size: 16px;"><strong>元素级运算</strong></span></p>
<ol>
<li>像上面例子展现出来的，加、减、乘、除、幂运算等，可以用于数组与标量、大小相等数组之间</li>
<li>在NumPy中，大小相等的数组之间运算，为元素级运算，即只用于位置相同的元素之间，所得到的运算结果组成一个新的数组，运算结果的位置跟操作数位置相同</li>
</ol>
<p>arr1=np.random.random((2,3))</p>
<p>arr2=np.arange(1,7).reshape(2,3)　＃arr2必须转换为２行３列才能和arr1进行加、减、　　　　</p>
<p>乘、除、幂运算</p>
<p>数组的矩阵积（matrix product）</p>
<p>1. 两个二维矩阵（多维数组即矩阵）满足第一个矩阵的列数与第二个矩阵的行数相同，那么可以进行矩阵乘法，即矩阵积不是元素级的运算</p>
<p>因为矩阵积是第一个矩阵的行与第二个矩阵的列相乘</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;f</p>
<p>a,b,c&nbsp; &nbsp;.&nbsp; &nbsp;g&nbsp; &nbsp;=&nbsp; &nbsp; a*f+b*g+c*h</p>
<p>&nbsp;(行)&nbsp; &nbsp; &nbsp; &nbsp; h</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; （列）</p>
<p>注意：矩阵积：第一个矩阵的列轴（水平的轴）要等于第二个矩阵的行轴（垂直的轴）</p>
<ol>
<li>两个矩阵相乘结果所得到的数组中每个元素为，第一个矩阵中与该元素行号相同的元素与第二个矩阵中与该元素列号相同的元素，两两相乘后求和&nbsp;</li>
</ol>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>