<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修Python模块-collections' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>Python模块-collections</center></div><div class='banquan'>原文出处:本文由博客园博主苏道羲提供。<br/>
原文连接:https://www.cnblogs.com/nirvanaInSilence/p/11482595.html</div><br>
    <h2><span style="font-family: 宋体;">tuple（元组）功能：</span></h2>
<p><span style="font-family: 宋体;">　　不可变，但是元组内数组可以修改（不建议）</span></p>
<p><span style="font-family: 宋体;"><em id="__mceDel">　　</em>可迭代</span></p>
<p><span style="font-family: 宋体;">　　格式 your_tuple=("name1","name2",1，&hellip;&hellip;)</span></p>
<p><span style="font-family: 宋体;">　　拆包 a,b,c=your_tuple 或者 a,*b=your_tuple（a取值第一个，剩余赋值给b） a=your_tuple[i]（只获取第i个）</span></p>
<h4><span style="font-family: 宋体;">tuple比较list：</span></h4>
<p><span style="font-family: 宋体;">　　不可变，性能优化（在编译时确定，速度差异），线程安全，可以当做dict（字典）的key</span></p>
<h2><span style="font-family: 宋体;">nametuple功能（数据处理较为常用）：</span></h2>
<p><span style="font-family: 宋体;">　　新建nametuple: class_name=namedtuple（"class_name",["name1","name2","name3"]）&nbsp;&nbsp;new_obj=class_name(name1="a",name2="b",name3="c")（初始化）</span></p>
<p><span style="font-family: 宋体;">　　　　-等于class&nbsp;class_name:def _init_(a,b,c):pass</span></p>
<p><span style="font-family: 宋体;">　　your_tuple=(a,b,c)&nbsp; new_tuple=class_name(*your_tuple)</span></p>
<p><span style="font-family: 宋体;">题外：函数参数形式：*a（未指定输入参数全部放入单星号内，形式元组） **a（将指定输入参数名保存到双星号内，字典形式）。mysqlclient、pymsql取出的数据都为tuple</span></p>
<p><span style="font-family: 宋体;">　　new_tuple=class_name._make(your_tuple)（可以是字典、元组、数组,不需要星号。但是数量一定要对上，无法添加新属性）</span></p>
<p><span style="font-family: 宋体;">　　new_info_dict=new_tuple._asdict()（转化为OrderedDict）</span></p>
<h2><span style="font-family: 宋体;">defaultdict功能（c语言实现）：</span></h2>
<p>　　name1,name2,name3分别出现次数</p>
<table style="height: 363px; width: 421px;" border="0">
<tbody>
<tr>
<td>
<p style="text-align: left;">user_dict={}</p>
<p>users=["name1","name2","name3","name1"]　　</p>
<p>for user in users:</p>
<p>　　　　user_dict.setdefault(user，0)&nbsp; &nbsp;#值不存在时，默认0</p>
<p>　　　　user_dict[user]+=1</p>
<p>或者</p>
<p>/*default_dict=defaultdict(list)（可调用对象，list空，int0等等）</p>
<p>default_dict["name"]&nbsp; &nbsp; #name不存在时调用list</p>
<p>pass*/</p>
<p>users=["name1","name2","name3","name1"]　　</p>
<p>for user in users:</p>
<p>　　　　default_dict[user]+=1</p>
<p>pass</p>
<p>字典套用字典</p>
<p>def get_default():</p>
<p>　　return {</p>
<p>　　　　"name":"",</p>
<p>　　　　"nums":0</p>
<p>　　}</p>
<p>default_dict=defaultdict(get_default)</p>
<p>default_dict["group1"]</p>
<p>pass</p>
</td>
</tr>
</tbody>
</table>
<h2>deque功能（双端队列，c语言实现，尽量保存相同类型数据）：</h2>
<table style="height: 185px; width: 654px;" border="0">
<tbody>
<tr>
<td>
<p>from collections import deque</p>
<p>&nbsp;</p>
<p>/*user_list=["name1","name2"]</p>
<p>user_name=user_list.pop()　　#取末端数据并在列表中删除*/</p>
<p>user_list=deque(["name1","name2"]) #可迭代对象，数组元组字典都可以，字典key值作为参数</p>
<p>/*append()尾部插入appendleft()插入头部前copy()（浅拷贝）数据相同但id（存储位置）不同，若内可变元素(eg:list)则都指向同一元素eg：[1，2]更改为[1,2,3]则copy前后两数据都变化，若不可变元素则另一个数据不变。deepcopy（深拷贝）可变元素改变后另一元素不变。a.extend(b)将b拼接到a后面，只更改当前元素（a），并不返回一个新元素。.insert(i,"a")在i位置插入a，其后顺延，并不是更改当前元素。.reverse()反转*/</p>
<p>&nbsp;</p>
</td>
</tr>
</tbody>
</table>
<p>deque线程安全，list非线程安全</p>
<h2>Counter功能（统计）：</h2>
<table style="height: 67px; width: 539px;" border="0">
<tbody>
<tr>
<td>
<p>users=["name1","name2","name2","name3","name1",]</p>
<p>user_counter=Counter(users)/*可以是字典数组元组字符串*/</p>
<p>user_counter.update("")　　#更新增加后再统计数据</p>
<p>user_counter.most_common(i)#前i个出现次数最多的</p>
</td>
</tr>
</tbody>
</table>
<h2>OrderedDict功能：</h2>
<table style="height: 67px; width: 443px;" border="0">
<tbody>
<tr>
<td>
<p>from collections import OrderedDict</p>
<p>&nbsp;</p>
<p>user_dict=OrderedDict()</p>
<p>user_dict["a"]='name1'</p>
<p>user_dict["b"]='name2'</p>
<p>user_dict["c"]='name3'</p>
<p>&nbsp;#有序性，先添加在前面后添加在后面</p>
<p>user_dict.popitem()#弹出默认最后的元素，不需要key值</p>
<p>user_dict.move_to_end("a")#将a元素移到最后</p>
</td>
</tr>
</tbody>
</table>
<h2>ChainMap功能：</h2>
<table style="height: 159px; width: 524px;" border="0">
<tbody>
<tr>
<td>
<p>from collections import ChainMap</p>
<p>user_dict1={"a":"name1","b":"name2"}</p>
<p>user_dict2={"c":"name2","d":"name3"}</p>
<p>new_dict=ChainMap(user_dict1,user_dict2)#将user_dict1,dict2连接起来，如果遍历时有多个相同key值，只显示第一个</p>
<p>&nbsp;new_dict.maps#列表形式展示数据</p>
<p>new_dict.maps[i]["a"]="newname"#将第i个元素key为a的value更改为newname</p>
</td>
</tr>
</tbody>
</table>
<p>&nbsp;</p>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>