<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修【学习笔记】PYTHON数据分析与展示(北理工 嵩天)' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>【学习笔记】PYTHON数据分析与展示(北理工 嵩天)</center></div><div class='banquan'>原文出处:本文由博客园博主九命猫幺提供。<br/>
原文连接:https://www.cnblogs.com/yongestcat/p/11464694.html</div><br>
    <h2>0 数据分析之前奏</h2><p><strong>课程主要内容：<img width="957" height="515" title="image" style="margin: 0px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="image" src="./images/【学习笔记】PYTHON数据分析与展示(北理工 嵩天)0.png" border="0">常用IDE：<img width="957" height="484" title="image" style="margin: 0px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="image" src="./images/【学习笔记】PYTHON数据分析与展示(北理工 嵩天)1.png" border="0">本课程主要使用：Anaconda</strong></p><blockquote><p><strong>Anaconda：一个集合，包括conda、某版本Python、一批第三方库等</strong></p></blockquote><p>&nbsp; -支持近800个第三方库<p>&nbsp; -适合科学计算领域<p>&nbsp; -包含多个主流工具<p>&nbsp; -开源免费<p>&nbsp; -跨平台<p>本身不是个ide 是将多个工具集成在一起的<p><strong>conda</strong><p>&nbsp; -一个工具，用于包管理和环境管理<p>&nbsp; -包管理与pip类似，管理Python第三方库<p>&nbsp; -环境管理能够允许用户使用不同版本的Python，并能灵活切换<p>conda将工具、第三方库、Python版本、conda都当作包，同等对待<p>conda有命令行工具&nbsp;&nbsp;&nbsp;&nbsp; <p>C:\Users\king\Anaconda3\Scripts\conda.exe –version 可以查看conda版本<p>conda update conda&nbsp;&nbsp;&nbsp; 升级conda<p>刚开始的是命令行，现在也集成为GUI，anaconda默认生成root的环境空间<img width="957" height="457" title="image" style="margin: 0px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="image" src="./images/【学习笔记】PYTHON数据分析与展示(北理工 嵩天)2.png" border="0">编程工具：<strong>spyder<img width="957" height="575" title="image" style="margin: 0px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="image" src="./images/【学习笔记】PYTHON数据分析与展示(北理工 嵩天)3.png" border="0">默认不舒服&nbsp; 改下<img width="946" height="644" title="image" style="margin: 0px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="image" src="./images/【学习笔记】PYTHON数据分析与展示(北理工 嵩天)4.png" border="0"></strong><p>交互式编程环境：<strong>IPython</strong><p><strong> </strong>-是一个功能强大的交互式shell<p>&nbsp; -适合进行交互式数据可视化和GUI相关应用<p>IPython几个技巧<p>？：可以在变量或者函数前面加？获得通用信息<p>%run ：可以执行.py程序 注意：%run在一个空的命名空间执行%<img width="948" height="478" title="image" style="margin: 0px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="image" src="./images/【学习笔记】PYTHON数据分析与展示(北理工 嵩天)5.png" border="0"><p>trouble shooting:<p>在ubuntu18中安装了anaconda3,启动spyder报错Segmentation fault (core dumped)<p>安装conda install pyopengl&nbsp; 然后再启动 卡住半天没了 出现killed报错 我日&nbsp; 然后升级了下anaconda3到最新才好了<h2>1. 数据分析之表示</h2><h3>1.1 NumPy库入门</h3><p><strong>数据的维度</strong><p>一维数据&nbsp;&nbsp; 列表、集合<p>二维数据&nbsp;&nbsp; 表格是经典的二维数据&nbsp;&nbsp;&nbsp; 用列表表示<p>多维数据&nbsp;&nbsp; 二维数据在更多维度上展开 比如时间维度&nbsp; 用列表表示<p>高维数据&nbsp;&nbsp; 仅使用最基本的二元关系展示复杂关系 key-value形式组织数据&nbsp;&nbsp; 用字典类型或者其他json、xmal、yaml等<hr><p><strong>NumPy的数组对象：ndarray</strong><p>NumPy是一个开源的Python科学计算基础库<p>&nbsp; -一个强大的N维数组对象ndarray<p>&nbsp; -广播函数功能<p>&nbsp; -整合c/c++/fortran代码的工具<p>&nbsp; -线性代数、傅里叶变换、随机数生成等功能<p>NumPy是SciPy、Pandas等数据处理或科学计算库的基础<p>使用 import numpy as np<p>ndarray是一个多维数组，由两部分组成，要求数组元素类型相同，数组下标从0开始<p>&nbsp; -元数据（数据维度，数据类型等）<p>&nbsp; -实际数据<p>np.array()&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; –ndarray别名是array<p>轴(axis):保存数据的维度<p>秩(rank):轴的数量<img width="953" height="498" title="image" style="margin: 0px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="image" src="./images/【学习笔记】PYTHON数据分析与展示(北理工 嵩天)6.png" border="0">例子：<img width="851" height="722" title="image" style="margin: 0px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="image" src="./images/【学习笔记】PYTHON数据分析与展示(北理工 嵩天)7.png" border="0">里面的int32不是Python基础类型，是NumPy定义的类型，更多类型如下：<img width="960" height="568" title="image" style="margin: 0px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="image" src="./images/【学习笔记】PYTHON数据分析与展示(北理工 嵩天)8.png" border="0"><img width="955" height="554" title="image" style="margin: 0px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="image" src="./images/【学习笔记】PYTHON数据分析与展示(北理工 嵩天)9.png" border="0"><img width="956" height="576" title="image" style="margin: 0px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="image" src="./images/【学习笔记】PYTHON数据分析与展示(北理工 嵩天)10.png" border="0"><p>为啥要这么多数据类型？<p>&nbsp; -科学计算涉及大量数据，对性能和存储都有较高要求<p>&nbsp; -对元素类型精细定义，有助于numpy合理使用存储空间并优化性能，有助于程序员对程序规模由合理评估<p>ndarray数组也可以由非同质对象构成<p>非同质ndarray元素为对象类型<p>非同质ndarray数组无法发挥numpy优势，尽量避免使用<hr><p><strong>ndarray数组的创建和变换<img width="958" height="368" title="image" style="margin: 0px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="image" src="./images/【学习笔记】PYTHON数据分析与展示(北理工 嵩天)11.png" border="0"></strong><p>1) 从python列表元组等类型创建数组<p>&nbsp; x = np.array(list/tuple)<p>&nbsp; x = np.array(list/tuple,dtype=np.float32)&nbsp;&nbsp; 不指定类型的时候numpy自动关联一个合适的<img width="824" height="715" title="image" style="margin: 0px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="image" src="./images/【学习笔记】PYTHON数据分析与展示(北理工 嵩天)12.png" border="0"><img width="960" height="452" title="image" style="margin: 0px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="image" src="./images/【学习笔记】PYTHON数据分析与展示(北理工 嵩天)13.png" border="0"><img width="960" height="248" title="image" style="margin: 0px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="image" src="./images/【学习笔记】PYTHON数据分析与展示(北理工 嵩天)14.png" border="0"><img width="963" height="312" title="image" style="margin: 0px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="image" src="./images/【学习笔记】PYTHON数据分析与展示(北理工 嵩天)15.png" border="0">除了arange函数，其他都是浮点数<img width="958" height="384" title="image" style="margin: 0px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="image" src="./images/【学习笔记】PYTHON数据分析与展示(北理工 嵩天)16.png" border="0">ndarray数组的变换：维度变换、元素类型变换<img width="958" height="917" title="image" style="margin: 0px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="image" src="./images/【学习笔记】PYTHON数据分析与展示(北理工 嵩天)17.png" border="0"><p>ndarray数组向列表变换<p>ls = a.tolist()<hr><p><strong>ndarray数组的操作</strong><p>索引和切片<p>ndarray一维数组的索引和列表一样<img width="960" height="474" title="image" style="margin: 0px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="image" src="./images/【学习笔记】PYTHON数据分析与展示(北理工 嵩天)18.png" border="0"><p><strong>ndarray数组的运算</strong><p>数组与标量的运算等于每个元素都和这个标量算一下<img width="965" height="855" title="image" style="margin: 0px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="image" src="./images/【学习笔记】PYTHON数据分析与展示(北理工 嵩天)19.png" border="0"><img width="954" height="397" title="image" style="margin: 0px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="image" src="./images/【学习笔记】PYTHON数据分析与展示(北理工 嵩天)20.png" border="0"><p>maximum等经过运算存在数据类型隐式转换<h3>1.2 NumPy数据存取与函数</h3><p><strong>数据的csv文件存取<img width="955" height="1171" title="image" style="margin: 0px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="image" src="./images/【学习笔记】PYTHON数据分析与展示(北理工 嵩天)21.png" border="0"></strong><p>csv只能存储读取一维和二维数据，这是它的局限<hr><p><strong>多维数据的存取</strong><p>对于ndarray数组 有个方法&nbsp; a.tofile(frame,sep=’’,format=’%s’)<p>&nbsp; -frame 文件、字符串&nbsp; sep：数据分隔符，如果是空串，写入文件为二进制 format：写入数据的格式<img width="939" height="561" title="image" style="margin: 0px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="image" src="./images/【学习笔记】PYTHON数据分析与展示(北理工 嵩天)22.png" border="0"><p>可以保存为二进制，小些，但是无法人类读懂，如果知道是这样写的，可以还原，作为一种保存数据的方法<p>如何还原呢，np.fromfile(frame,dtype=float,count=-1,sep=’’)<p>&nbsp; -dtype:读取的数据类型&nbsp; count：读入元素的个数-1表示全部<img width="955" height="312" title="image" style="margin: 0px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="image" src="./images/【学习笔记】PYTHON数据分析与展示(北理工 嵩天)23.png" border="0"><p>使用这个方法需要知道存入文件时候的数组维度和元素类型，就是元数据，所以fromfile和tofile需要配合使用，可以将元数据另外存储解决<p>NumPy的便捷文件存取<p>np.save(fname,array)或者np.savez(fname,array)<p>&nbsp; -fname:文件名以.npy或者.npz<p>np.load(fname)<p>NumPy的随机数函数<p>NumPy的random子库 np.random.*<img width="963" height="734" title="image" style="margin: 0px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="image" src="./images/【学习笔记】PYTHON数据分析与展示(北理工 嵩天)24.png" border="0">NumPy的统计函数<p><img width="956" height="655" title="image" style="margin: 0px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="image" src="./images/【学习笔记】PYTHON数据分析与展示(北理工 嵩天)25.png" border="0"><img width="955" height="1115" title="image" style="margin: 0px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="image" src="./images/【学习笔记】PYTHON数据分析与展示(北理工 嵩天)26.png" border="0">NumPy的梯度函数<img width="954" height="939" title="image" style="margin: 0px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="image" src="./images/【学习笔记】PYTHON数据分析与展示(北理工 嵩天)27.png" border="0"><img width="949" height="438" title="image" style="margin: 0px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="image" src="./images/【学习笔记】PYTHON数据分析与展示(北理工 嵩天)28.png" border="0"><h3>1.3 实例1：图像的手绘效果</h3><p><strong>图像的数组表示</strong><p>RGB色彩表示<p>PIL库&nbsp; 处理图像的第三方库 pip install pillow&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; from PIL import Image<p>Image是PIL库中代表图像的类(对象)<p>图像是一个由像素组成的二维矩阵，每个元素是一个RGB值<img width="955" height="290" title="image" style="margin: 0px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="image" src="./images/【学习笔记】PYTHON数据分析与展示(北理工 嵩天)29.png" border="0"><strong>图像的变换<img width="957" height="209" title="image" style="margin: 0px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="image" src="./images/【学习笔记】PYTHON数据分析与展示(北理工 嵩天)30.png" border="0"><img width="955" height="429" title="image" style="margin: 0px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="image" src="./images/【学习笔记】PYTHON数据分析与展示(北理工 嵩天)31.png" border="0"><img width="964" height="1021" title="image" style="margin: 0px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="image" src="./images/【学习笔记】PYTHON数据分析与展示(北理工 嵩天)32.png" border="0"></strong><p><strong>图像的手绘实例</strong><p>手绘特征：黑白灰色、边界线条较重、相同或者相近色彩趋于白色、略有光源效果<img width="964" height="1072" title="image" style="margin: 0px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="image" src="./images/【学习笔记】PYTHON数据分析与展示(北理工 嵩天)33.png" border="0"><img width="985" height="1155" title="image" style="margin: 0px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="image" src="./images/【学习笔记】PYTHON数据分析与展示(北理工 嵩天)34.png" border="0"><img width="850" height="590" title="image" style="margin: 0px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="image" src="./images/【学习笔记】PYTHON数据分析与展示(北理工 嵩天)35.png" border="0"><div class="cnblogs_Highlighter">
<pre><code>from PIL import Image
import numpy as np
 
a = np.asarray(Image.open('./beijing.jpg').convert('L')).astype('float')
 
depth = 10.                      # (0-100)
grad = np.gradient(a)             #取图像灰度的梯度值
grad_x, grad_y = grad               #分别取横纵图像梯度值
grad_x = grad_x*depth/100.
grad_y = grad_y*depth/100.
A = np.sqrt(grad_x**2 + grad_y**2 + 1.)
uni_x = grad_x/A
uni_y = grad_y/A
uni_z = 1./A
 
vec_el = np.pi/2.2                   # 光源的俯视角度，弧度值
vec_az = np.pi/4.                    # 光源的方位角度，弧度值
dx = np.cos(vec_el)*np.cos(vec_az)   #光源对x 轴的影响
dy = np.cos(vec_el)*np.sin(vec_az)   #光源对y 轴的影响
dz = np.sin(vec_el)              #光源对z 轴的影响
 
b = 255*(dx*uni_x + dy*uni_y + dz*uni_z)     #光源归一化
b = b.clip(0,255)
 
im = Image.fromarray(b.astype('uint8'))  #重构图像
im.save('./beijingHD.jpg')
</pre>
</div>
<p>
<img width="871" height="577" title="image" style="margin: 0px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="image" src="./images/【学习笔记】PYTHON数据分析与展示(北理工 嵩天)36.png" border="0"><img width="875" height="579" title="image" style="margin: 0px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="image" src="./images/【学习笔记】PYTHON数据分析与展示(北理工 嵩天)37.png" border="0"></p><h2>2. 数据分析与展示</h2><h3>2.1 Matplotlib库入门</h3><p><img width="959" height="497" title="image" style="margin: 0px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="image" src="./images/【学习笔记】PYTHON数据分析与展示(北理工 嵩天)38.png" border="0"></p><p>由各种数据可视化类组成，内部结构复杂，是受matlab启发<p>matplotlib.pyplot是绘制各类可视化图形的命令子库，相当于快捷方式<p>import matplotlib.pyplot as plt<p><img width="959" height="384" title="image" style="margin: 0px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="image" src="./images/【学习笔记】PYTHON数据分析与展示(北理工 嵩天)39.png" border="0"><p>plt.savefig(‘test’,dpi=600) #保存为png文件<p>绘制多个图形，分区域plt.subplot(3,2,4)<img width="902" height="723" title="image" style="margin: 0px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="image" src="./images/【学习笔记】PYTHON数据分析与展示(北理工 嵩天)40.png" border="0"><img width="960" height="403" title="image" style="margin: 0px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="image" src="./images/【学习笔记】PYTHON数据分析与展示(北理工 嵩天)41.png" border="0"><p><strong>pylot的plot函数</strong><p>plt.plot(x,y,format_string,**kwargs)<p>&nbsp; -format_string 表示曲线的格式字符串&nbsp;&nbsp; **kwargs表示第二组或更多(x,y,format_string)&nbsp;&nbsp; 当绘制多条曲线x不能省略，当绘制一条时候可以省略x用索引值<img width="963" height="260" title="image" style="margin: 0px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="image" src="./images/【学习笔记】PYTHON数据分析与展示(北理工 嵩天)42.png" border="0">format_string由颜色字符、风格字符、标记字符组成<img width="961" height="767" title="image" style="margin: 0px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="image" src="./images/【学习笔记】PYTHON数据分析与展示(北理工 嵩天)43.png" border="0"><img width="969" height="914" title="image" style="margin: 0px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="image" src="./images/【学习笔记】PYTHON数据分析与展示(北理工 嵩天)44.png" border="0"><p>pyplot的中文显示<p>方法1：修改绘制区域的全部字体<img width="962" height="1163" title="image" style="margin: 0px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="image" src="./images/【学习笔记】PYTHON数据分析与展示(北理工 嵩天)45.png" border="0">方法2：<img width="960" height="418" title="image" style="margin: 0px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="image" src="./images/【学习笔记】PYTHON数据分析与展示(北理工 嵩天)46.png" border="0"><strong>pylot的文本显示<img width="961" height="680" title="image" style="margin: 0px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="image" src="./images/【学习笔记】PYTHON数据分析与展示(北理工 嵩天)47.png" border="0"><img width="960" height="502" title="image" style="margin: 0px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="image" src="./images/【学习笔记】PYTHON数据分析与展示(北理工 嵩天)48.png" border="0">首先字符串前边的r代表是原始字符串，也就是里边的内容不需要转移，这个一般在正则表达式的时候也这么用，而这里是laText的用法，在python中使用laText，需要在文本的前后加上$符号，也就是你所用的那样，然后就是laText的文本了，当你输入了以上内容，matplotlib会自动为你解析的，\pi代表的就是π</strong><p><img width="962" height="491" title="image" style="margin: 0px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="image" src="./images/【学习笔记】PYTHON数据分析与展示(北理工 嵩天)49.png" border="0"><strong>pylot子绘图区域<img width="945" height="617" title="image" style="margin: 0px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="image" src="./images/【学习笔记】PYTHON数据分析与展示(北理工 嵩天)50.png" border="0"><img width="959" height="496" title="image" style="margin: 0px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="image" src="./images/【学习笔记】PYTHON数据分析与展示(北理工 嵩天)51.png" border="0"><img width="959" height="343" title="image" style="margin: 0px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="image" src="./images/【学习笔记】PYTHON数据分析与展示(北理工 嵩天)52.png" border="0">这种方法每次都要写（3，3），<strong>用另外一种方法GridSpec类<img width="960" height="422" title="image" style="margin: 0px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="image" src="./images/【学习笔记】PYTHON数据分析与展示(北理工 嵩天)53.png" border="0"><img width="709" height="708" title="image" style="margin: 0px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="image" src="./images/【学习笔记】PYTHON数据分析与展示(北理工 嵩天)54.png" border="0"></strong></strong><h3>2.2 Matplotlib基础绘图函数示例（5个实例）</h3><p><img width="958" height="521" title="image" style="margin: 0px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="image" src="./images/【学习笔记】PYTHON数据分析与展示(北理工 嵩天)55.png" border="0"><img width="954" height="645" title="image" style="margin: 0px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="image" src="./images/【学习笔记】PYTHON数据分析与展示(北理工 嵩天)56.png" border="0"><strong>pylot饼图绘制<img width="966" height="887" title="image" style="margin: 0px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="image" src="./images/【学习笔记】PYTHON数据分析与展示(北理工 嵩天)57.png" border="0"></strong><strong>pylot直方图绘制<img width="960" height="484" title="image" style="margin: 0px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="image" src="./images/【学习笔记】PYTHON数据分析与展示(北理工 嵩天)58.png" border="0"></strong><strong>pylot极坐标绘制<img width="960" height="482" title="image" style="margin: 0px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="image" src="./images/【学习笔记】PYTHON数据分析与展示(北理工 嵩天)59.png" border="0"></strong><strong>pyplot散点图绘制<img width="964" height="361" title="image" style="margin: 0px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="image" src="./images/【学习笔记】PYTHON数据分析与展示(北理工 嵩天)60.png" border="0"></strong>面向对象的绘制方法是matplotlib库的推荐方法，pillow库的函数变为对象的方法</p><h3>2.3 实例2：引力波的绘制</h3><p><a href="http://python123.io/dv/grawave.html">http://python123.io/dv/grawave.html</a> 引力波数据源<p><br><div class="cnblogs_Highlighter">
<pre><code>import numpy as np
import matplotlib.pyplot as plt
from scipy.io import wavfile
 
rate_h, hstrain= wavfile.read(r"H1_Strain.wav","rb")
rate_l, lstrain= wavfile.read(r"L1_Strain.wav","rb")
#reftime, ref_H1 = np.genfromtxt('GW150914_4_NR_waveform_template.txt').transpose()
reftime, ref_H1 = np.genfromtxt('wf_template.txt').transpose() #使用python123.io下载文件
 
htime_interval = 1/rate_h
ltime_interval = 1/rate_l
fig = plt.figure(figsize=(12, 6))
 
# 丢失信号起始点
htime_len = hstrain.shape[0]/rate_h
htime = np.arange(-htime_len/2, htime_len/2 , htime_interval)
plth = fig.add_subplot(221)
plth.plot(htime, hstrain, 'y')
plth.set_xlabel('Time (seconds)')
plth.set_ylabel('H1 Strain')
plth.set_title('H1 Strain')
 
ltime_len = lstrain.shape[0]/rate_l
ltime = np.arange(-ltime_len/2, ltime_len/2 , ltime_interval)
pltl = fig.add_subplot(222)
pltl.plot(ltime, lstrain, 'g')
pltl.set_xlabel('Time (seconds)')
pltl.set_ylabel('L1 Strain')
pltl.set_title('L1 Strain')
 
pltref = fig.add_subplot(212)
pltref.plot(reftime, ref_H1)
pltref.set_xlabel('Time (seconds)')
pltref.set_ylabel('Template Strain')
pltref.set_title('Template')
fig.tight_layout()
 
plt.savefig("Gravitational_Waves_Original.png")
plt.show()
plt.close(fig)
</pre>
</div>
<p>
结果<img width="971" height="466" title="image" style="margin: 0px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="image" src="./images/【学习笔记】PYTHON数据分析与展示(北理工 嵩天)61.png" border="0"></p><h2>3. 数据分析之概要</h2><h3>3.1 Pandas库入门</h3><p>Pandas提供高性能易用数据类型和分析工具<p>import pandas as pd<img width="966" height="375" title="image" style="margin: 0px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="image" src="./images/【学习笔记】PYTHON数据分析与展示(北理工 嵩天)62.png" border="0"><strong>Pandas库的Series类型&nbsp;&nbsp;&nbsp;&nbsp; –一维<img width="963" height="491" title="image" style="margin: 0px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="image" src="./images/【学习笔记】PYTHON数据分析与展示(北理工 嵩天)63.png" border="0">也支持自定义索引<img width="994" height="875" title="image" style="margin: 0px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="image" src="./images/【学习笔记】PYTHON数据分析与展示(北理工 嵩天)64.png" border="0"><img width="959" height="1258" title="image" style="margin: 0px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="image" src="./images/【学习笔记】PYTHON数据分析与展示(北理工 嵩天)65.png" border="0"></strong><p>b.index&nbsp; b.values&nbsp;&nbsp; 获得索引和数据&nbsp; 类似ndarray和字典<p>两套索引并存&nbsp; 但是不能混用<img width="961" height="456" title="image" style="margin: 0px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="image" src="./images/【学习笔记】PYTHON数据分析与展示(北理工 嵩天)66.png" border="0">Series类型也与字典类型类似 可以in, get()<img width="960" height="495" title="image" style="margin: 0px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="image" src="./images/【学习笔记】PYTHON数据分析与展示(北理工 嵩天)67.png" border="0"><img width="961" height="471" title="image" style="margin: 0px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="image" src="./images/【学习笔记】PYTHON数据分析与展示(北理工 嵩天)68.png" border="0"><img width="959" height="427" title="image" style="margin: 0px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="image" src="./images/【学习笔记】PYTHON数据分析与展示(北理工 嵩天)69.png" border="0"><p><strong>Pandas库的DataFrame类型&nbsp; –二维</strong><p>由共用相同索引的一组列组成，实际上就是一个表格<img width="956" height="306" title="image" style="margin: 0px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="image" src="./images/【学习笔记】PYTHON数据分析与展示(北理工 嵩天)70.png" border="0"><p>是一个表格型的数据类型，每列值类型可以不同<p>既有行索引也有列索引<p>常用于表达二维数据，单可以表达多维数据<img width="962" height="680" title="image" style="margin: 0px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="image" src="./images/【学习笔记】PYTHON数据分析与展示(北理工 嵩天)71.png" border="0"><img width="971" height="928" title="image" style="margin: 0px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="image" src="./images/【学习笔记】PYTHON数据分析与展示(北理工 嵩天)72.png" border="0"><img width="965" height="976" title="image" style="margin: 0px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="image" src="./images/【学习笔记】PYTHON数据分析与展示(北理工 嵩天)73.png" border="0"><p>DataFrame基本操作类似Series，根据行列索引<hr><p><strong>Pandas库的数据数据类型操作</strong><p>如何改变结构呢 增加 或重排：重新索引&nbsp;&nbsp;&nbsp; 删除:drop<img width="971" height="922" title="image" style="margin: 0px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="image" src="./images/【学习笔记】PYTHON数据分析与展示(北理工 嵩天)74.png" border="0"><img width="958" height="411" title="image" style="margin: 0px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="image" src="./images/【学习笔记】PYTHON数据分析与展示(北理工 嵩天)75.png" border="0">索引是不可修改类型&nbsp; 索引的操作就是对数据的操作&nbsp;&nbsp; numpy不存在索引 必须通过维度来操作<img width="960" height="1021" title="image" style="margin: 0px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="image" src="./images/【学习笔记】PYTHON数据分析与展示(北理工 嵩天)76.png" border="0"><img width="963" height="461" title="image" style="margin: 0px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="image" src="./images/【学习笔记】PYTHON数据分析与展示(北理工 嵩天)77.png" border="0"><p>Series只有0轴&nbsp;&nbsp;&nbsp; DataFrame由0轴 1轴，drop默认操作0轴<hr><p><strong>Pandas库的数据类型运算</strong><p>算术类型运算<img width="966" height="882" title="image" style="margin: 0px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="image" src="./images/【学习笔记】PYTHON数据分析与展示(北理工 嵩天)78.png" border="0"><img width="965" height="1042" title="image" style="margin: 0px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="image" src="./images/【学习笔记】PYTHON数据分析与展示(北理工 嵩天)79.png" border="0"><img width="960" height="417" title="image" style="margin: 0px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="image" src="./images/【学习笔记】PYTHON数据分析与展示(北理工 嵩天)80.png" border="0">比较运算<img width="968" height="1206" title="image" style="margin: 0px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="image" src="./images/【学习笔记】PYTHON数据分析与展示(北理工 嵩天)81.png" border="0"><strong>数据和索引建立关联关系&nbsp; 达到操作索引就是操作数据<img width="964" height="432" title="image" style="margin: 0px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="image" src="./images/【学习笔记】PYTHON数据分析与展示(北理工 嵩天)82.png" border="0"></strong><h3>3.2 Pandas数据特征分析<img width="960" height="503" title="image" style="margin: 0px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="image" src="./images/【学习笔记】PYTHON数据分析与展示(北理工 嵩天)83.png" border="0"></h3><p><strong>数据的排序</strong><p>可以对索引排序<p>也可以对数据排序<img width="966" height="1122" title="image" style="margin: 0px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="image" src="./images/【学习笔记】PYTHON数据分析与展示(北理工 嵩天)84.png" border="0"><img width="962" height="975" title="image" style="margin: 0px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="image" src="./images/【学习笔记】PYTHON数据分析与展示(北理工 嵩天)85.png" border="0">基本的统计分析函数<img width="966" height="1057" title="image" style="margin: 0px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="image" src="./images/【学习笔记】PYTHON数据分析与展示(北理工 嵩天)86.png" border="0"><img width="961" height="808" title="image" style="margin: 0px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="image" src="./images/【学习笔记】PYTHON数据分析与展示(北理工 嵩天)87.png" border="0"><img width="970" height="915" title="image" style="margin: 0px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="image" src="./images/【学习笔记】PYTHON数据分析与展示(北理工 嵩天)88.png" border="0">累计统计分析<img width="965" height="1113" title="image" style="margin: 0px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="image" src="./images/【学习笔记】PYTHON数据分析与展示(北理工 嵩天)89.png" border="0"><strong>滚动计算（窗口计算）<img width="965" height="858" title="image" style="margin: 0px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="image" src="./images/【学习笔记】PYTHON数据分析与展示(北理工 嵩天)90.png" border="0">数据的相关分析<img width="971" height="1222" title="image" style="margin: 0px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="image" src="./images/【学习笔记】PYTHON数据分析与展示(北理工 嵩天)91.png" border="0"><img width="964" height="898" title="image" style="margin: 0px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="image" src="./images/【学习笔记】PYTHON数据分析与展示(北理工 嵩天)92.png" border="0"><img width="965" height="362" title="image" style="margin: 0px auto; border: 0px currentcolor; border-image: none; float: none; display: block; background-image: none;" alt="image" src="./images/【学习笔记】PYTHON数据分析与展示(北理工 嵩天)93.png" border="0"></strong>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>