<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修Python完成迪杰斯特拉算法并生成最短路径' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>Python完成迪杰斯特拉算法并生成最短路径</center></div><div class='banquan'>原文出处:本文由博客园博主会武术之白猫提供。<br/>
原文连接:https://www.cnblogs.com/ljy1227476113/p/11720119.html</div><br>
    <div class="cnblogs_code">
<pre><code><span style="color: #008080;"> 1</span> <span style="color: #0000ff;">def</span> Dijkstra(network,s,d):<span style="color: #008000;">#</span><span style="color: #008000;">迪杰斯特拉算法算s-d的最短路径，并返回该路径和代价</span>
<span style="color: #008080;"> 2</span>     <span style="color: #0000ff;">print</span>(<span style="color: #800000;">"</span><span style="color: #800000;">Start Dijstra Path&hellip;&hellip;</span><span style="color: #800000;">"</span><span style="color: #000000;">)
</span><span style="color: #008080;"> 3</span>     path=[]<span style="color: #008000;">#</span><span style="color: #008000;">s-d的最短路径</span>
<span style="color: #008080;"> 4</span>     n=len(network)<span style="color: #008000;">#</span><span style="color: #008000;">邻接矩阵维度，即节点个数</span>
<span style="color: #008080;"> 5</span>     fmax=999
<span style="color: #008080;"> 6</span>     w=[[0 <span style="color: #0000ff;">for</span> i <span style="color: #0000ff;">in</span> range(n)]<span style="color: #0000ff;">for</span> j <span style="color: #0000ff;">in</span> range(n)]<span style="color: #008000;">#</span><span style="color: #008000;">邻接矩阵转化成维度矩阵，即0&rarr;max</span>
<span style="color: #008080;"> 7</span>     book=[0 <span style="color: #0000ff;">for</span> i <span style="color: #0000ff;">in</span> range(n)]<span style="color: #008000;">#</span><span style="color: #008000;">是否已经是最小的标记列表</span>
<span style="color: #008080;"> 8</span>     dis=[fmax <span style="color: #0000ff;">for</span> i <span style="color: #0000ff;">in</span> range(n)]<span style="color: #008000;">#</span><span style="color: #008000;">s到其他节点的最小距离</span>
<span style="color: #008080;"> 9</span>     book[s-1]=1<span style="color: #008000;">#</span><span style="color: #008000;">节点编号从1开始，列表序号从0开始</span>
<span style="color: #008080;">10</span>     midpath=[-1 <span style="color: #0000ff;">for</span> i <span style="color: #0000ff;">in</span> range(n)]<span style="color: #008000;">#</span><span style="color: #008000;">上一跳列表</span>
<span style="color: #008080;">11</span>     <span style="color: #0000ff;">for</span> i <span style="color: #0000ff;">in</span><span style="color: #000000;"> range(n):
</span><span style="color: #008080;">12</span>         <span style="color: #0000ff;">for</span> j <span style="color: #0000ff;">in</span><span style="color: #000000;"> range(n):
</span><span style="color: #008080;">13</span>             <span style="color: #0000ff;">if</span> network[i][j]!=<span style="color: #000000;">0:
</span><span style="color: #008080;">14</span>                 w[i][j]=network[i][j]<span style="color: #008000;">#</span><span style="color: #008000;">0&rarr;max</span>
<span style="color: #008080;">15</span>             <span style="color: #0000ff;">else</span><span style="color: #000000;">:
</span><span style="color: #008080;">16</span>                 w[i][j]=<span style="color: #000000;">fmax
</span><span style="color: #008080;">17</span>             <span style="color: #0000ff;">if</span> i==s-1 <span style="color: #0000ff;">and</span> network[i][j]!=0:<span style="color: #008000;">#</span><span style="color: #008000;">直连的节点最小距离就是network[i][j]</span>
<span style="color: #008080;">18</span>                 dis[j]=<span style="color: #000000;">network[i][j]
</span><span style="color: #008080;">19</span>     <span style="color: #0000ff;">for</span> i <span style="color: #0000ff;">in</span> range(n-1):<span style="color: #008000;">#</span><span style="color: #008000;">n-1次遍历，除了s节点</span>
<span style="color: #008080;">20</span>         min=<span style="color: #000000;">fmax
</span><span style="color: #008080;">21</span>         <span style="color: #0000ff;">for</span> j <span style="color: #0000ff;">in</span><span style="color: #000000;"> range(n):
</span><span style="color: #008080;">22</span>             <span style="color: #0000ff;">if</span> book[j]==0 <span style="color: #0000ff;">and</span> dis[j]&lt;min:<span style="color: #008000;">#</span><span style="color: #008000;">如果未遍历且距离最小</span>
<span style="color: #008080;">23</span>                 min=<span style="color: #000000;">dis[j]
</span><span style="color: #008080;">24</span>                 u=<span style="color: #000000;">j
</span><span style="color: #008080;">25</span>         book[u]=1
<span style="color: #008080;">26</span>         <span style="color: #0000ff;">for</span> v <span style="color: #0000ff;">in</span> range(n):<span style="color: #008000;">#</span><span style="color: #008000;">u直连的节点遍历一遍</span>
<span style="color: #008080;">27</span>             <span style="color: #0000ff;">if</span> dis[v]&gt;dis[u]+<span style="color: #000000;">w[u][v]:
</span><span style="color: #008080;">28</span>                 dis[v]=dis[u]+<span style="color: #000000;">w[u][v]
</span><span style="color: #008080;">29</span>                 midpath[v]=u+1<span style="color: #008000;">#</span><span style="color: #008000;">上一跳更新</span>
<span style="color: #008080;">30</span>     j=d-1<span style="color: #008000;">#</span><span style="color: #008000;">j是序号</span>
<span style="color: #008080;">31</span>     path.append(d)<span style="color: #008000;">#</span><span style="color: #008000;">因为存储的是上一跳，所以先加入目的节点d，最后倒置</span>
<span style="color: #008080;">32</span>     <span style="color: #0000ff;">while</span>(midpath[j]!=-1<span style="color: #000000;">):
</span><span style="color: #008080;">33</span> <span style="color: #000000;">        path.append(midpath[j])
</span><span style="color: #008080;">34</span>         j=midpath[j]-1
<span style="color: #008080;">35</span> <span style="color: #000000;">    path.append(s)
</span><span style="color: #008080;">36</span>     path.reverse()<span style="color: #008000;">#</span><span style="color: #008000;">倒置列表</span>
<span style="color: #008080;">37</span>     <span style="color: #0000ff;">print</span><span style="color: #000000;">(path)
</span><span style="color: #008080;">38</span>     <span style="color: #008000;">#</span><span style="color: #008000;">print(midpath)</span>
<span style="color: #008080;">39</span>     <span style="color: #0000ff;">print</span><span style="color: #000000;">(dis)
</span><span style="color: #008080;">40</span>     <span style="color: #008000;">#</span><span style="color: #008000;">return path</span>
<span style="color: #008080;">41</span> 
<span style="color: #008080;">42</span> network=[[0,1,0,2<span style="color: #000000;">,0,0],
</span><span style="color: #008080;">43</span>          [1,0,2,4,3<span style="color: #000000;">,0],
</span><span style="color: #008080;">44</span>          [0,2,0,0,1,4<span style="color: #000000;">],
</span><span style="color: #008080;">45</span>          [2,4,0,0,6<span style="color: #000000;">,0],
</span><span style="color: #008080;">46</span>          [0,3,1,6,0,2<span style="color: #000000;">],
</span><span style="color: #008080;">47</span>          [0,0,4,0,2<span style="color: #000000;">,0]]
</span><span style="color: #008080;">48</span> Dijkstra(network,1,6)</pre>
</div>
<p>&nbsp;</p>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>