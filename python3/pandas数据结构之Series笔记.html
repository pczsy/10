<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修pandas数据结构之Series笔记' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>pandas数据结构之Series笔记</center></div><div class='banquan'>原文出处:本文由博客园博主yg_staring提供。<br/>
原文连接:https://www.cnblogs.com/yang901112/p/11397213.html</div><br>
    <p>对Series的理解也源于对其相关的代码操作，本次仅贴一些代码来加深理解以及记忆</p>
<div class="cnblogs_code">
<pre><code><span style="color: #008080;">  1</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> pandas as pd
</span><span style="color: #008080;">  2</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> numpy as np
</span><span style="color: #008080;">  3</span> s = pd.Series(np.random.randn(5),index=[<span style="color: #800000;">'</span><span style="color: #800000;">a</span><span style="color: #800000;">'</span>,<span style="color: #800000;">'</span><span style="color: #800000;">b</span><span style="color: #800000;">'</span>,<span style="color: #800000;">'</span><span style="color: #800000;">c</span><span style="color: #800000;">'</span>,<span style="color: #800000;">'</span><span style="color: #800000;">d</span><span style="color: #800000;">'</span>,<span style="color: #800000;">'</span><span style="color: #800000;">e</span><span style="color: #800000;">'</span>])  <span style="color: #008000;">#</span><span style="color: #008000;"> index添加行索引</span>
<span style="color: #008080;">  4</span> <span style="color: #000000;">s
</span><span style="color: #008080;">  5</span> <span style="color: #008000;">#</span><span style="color: #008000;"> 输出</span>
<span style="color: #008080;">  6</span> a    1.752127
<span style="color: #008080;">  7</span> b    0.127374
<span style="color: #008080;">  8</span> c    0.581114
<span style="color: #008080;">  9</span> d    0.466064
<span style="color: #008080;"> 10</span> e   -1.493042
<span style="color: #008080;"> 11</span> <span style="color: #000000;">dtype: float64
</span><span style="color: #008080;"> 12</span> 
<span style="color: #008080;"> 13</span> <span style="color: #000000;">s.index
</span><span style="color: #008080;"> 14</span> <span style="color: #008000;">#</span><span style="color: #008000;"> 输出 Index(['a', 'b', 'c', 'd', 'e'], dtype='object')</span>
<span style="color: #008080;"> 15</span> 
<span style="color: #008080;"> 16</span> s = pd.Series(np.random.randn(5))  <span style="color: #008000;">#</span><span style="color: #008000;"> 自动添加索引</span>
<span style="color: #008080;"> 17</span> <span style="color: #000000;">s
</span><span style="color: #008080;"> 18</span> <span style="color: #008000;">#</span><span style="color: #008000;"> 输出 </span>
<span style="color: #008080;"> 19</span> 0    0.209798
<span style="color: #008080;"> 20</span> 1    0.791759
<span style="color: #008080;"> 21</span> 2   -1.352022
<span style="color: #008080;"> 22</span> 3    0.164453
<span style="color: #008080;"> 23</span> 4    0.647989
<span style="color: #008080;"> 24</span> <span style="color: #000000;">dtype: float64
</span><span style="color: #008080;"> 25</span> 
<span style="color: #008080;"> 26</span> d = {<span style="color: #800000;">'</span><span style="color: #800000;">a</span><span style="color: #800000;">'</span>:0.,<span style="color: #800000;">'</span><span style="color: #800000;">b</span><span style="color: #800000;">'</span>:1.,<span style="color: #800000;">'</span><span style="color: #800000;">d</span><span style="color: #800000;">'</span>:3}  <span style="color: #008000;">#</span><span style="color: #008000;"> Series通过字典形式创建表，字典中的键就被当成行索引</span>
<span style="color: #008080;"> 27</span> s = pd.Series(d, index=list(<span style="color: #800000;">'</span><span style="color: #800000;">abcd</span><span style="color: #800000;">'</span>))  <span style="color: #008000;">#</span><span style="color: #008000;"> 没有的索引赋值为NaN</span>
<span style="color: #008080;"> 28</span> <span style="color: #000000;">s
</span><span style="color: #008080;"> 29</span> <span style="color: #008000;">#</span><span style="color: #008000;"> 输出</span>
<span style="color: #008080;"> 30</span> 
<span style="color: #008080;"> 31</span> Out[12<span style="color: #000000;">]:
</span><span style="color: #008080;"> 32</span> a    0.0
<span style="color: #008080;"> 33</span> b    1.0
<span style="color: #008080;"> 34</span> <span style="color: #000000;">c    NaN
</span><span style="color: #008080;"> 35</span> d    3.0
<span style="color: #008080;"> 36</span> <span style="color: #000000;">dtype: float64
</span><span style="color: #008080;"> 37</span> 
<span style="color: #008080;"> 38</span> s = pd.Series(5,index=list(<span style="color: #800000;">'</span><span style="color: #800000;">abcd</span><span style="color: #800000;">'</span>))  <span style="color: #008000;">#</span><span style="color: #008000;"> 每个索引对应的值相等</span>
<span style="color: #008080;"> 39</span> <span style="color: #000000;">s
</span><span style="color: #008080;"> 40</span> <span style="color: #008000;">#</span><span style="color: #008000;">输出</span>
<span style="color: #008080;"> 41</span> a    5
<span style="color: #008080;"> 42</span> b    5
<span style="color: #008080;"> 43</span> c    5
<span style="color: #008080;"> 44</span> d    5
<span style="color: #008080;"> 45</span> <span style="color: #000000;">dtype: int64
</span><span style="color: #008080;"> 46</span> 
<span style="color: #008080;"> 47</span> s = pd.Series(np.random.randn(5))  <span style="color: #008000;">#</span><span style="color: #008000;"> 通过随机数创建</span>
<span style="color: #008080;"> 48</span> <span style="color: #000000;">s
</span><span style="color: #008080;"> 49</span> <span style="color: #008000;">#</span><span style="color: #008000;">输出</span>
<span style="color: #008080;"> 50</span> 0   -0.014250
<span style="color: #008080;"> 51</span> 1    0.990860
<span style="color: #008080;"> 52</span> 2    1.785053
<span style="color: #008080;"> 53</span> 3   -2.155324
<span style="color: #008080;"> 54</span> 4   -0.815233
<span style="color: #008080;"> 55</span> <span style="color: #000000;">dtype: float64
</span><span style="color: #008080;"> 56</span> 
<span style="color: #008080;"> 57</span> s[0]  <span style="color: #008000;">#</span><span style="color: #008000;"> 可以通过单个索引值读取对应的值</span>
<span style="color: #008080;"> 58</span> <span style="color: #008000;">#</span><span style="color: #008000;">输出 -0.014250144041201129</span>
<span style="color: #008080;"> 59</span> 
<span style="color: #008080;"> 60</span> s[:3]  <span style="color: #008000;">#</span><span style="color: #008000;"> 可以通过索引范围读取对应的范围值</span>
<span style="color: #008080;"> 61</span> <span style="color: #008000;">#</span><span style="color: #008000;"> 输出</span>
<span style="color: #008080;"> 62</span> 0   -0.014250
<span style="color: #008080;"> 63</span> 1    0.990860
<span style="color: #008080;"> 64</span> 2    1.785053
<span style="color: #008080;"> 65</span> <span style="color: #000000;">dtype: float64
</span><span style="color: #008080;"> 66</span> 
<span style="color: #008080;"> 67</span> s[[1,3,4]]  <span style="color: #008000;">#</span><span style="color: #008000;"> 任意读取多个索引可以使用列表的形式</span>
<span style="color: #008080;"> 68</span> <span style="color: #008000;">#</span><span style="color: #008000;"> 输出</span>
<span style="color: #008080;"> 69</span> 1    0.990860
<span style="color: #008080;"> 70</span> 3   -2.155324
<span style="color: #008080;"> 71</span> 4   -0.815233
<span style="color: #008080;"> 72</span> <span style="color: #000000;">dtype: float64
</span><span style="color: #008080;"> 73</span> 
<span style="color: #008080;"> 74</span> np.sin(s)  <span style="color: #008000;">#</span><span style="color: #008000;"> 可以用numpy函数对Series创建的表中的数据进行一系列操作</span>
<span style="color: #008080;"> 75</span> <span style="color: #008000;">#</span><span style="color: #008000;"> 输出</span>
<span style="color: #008080;"> 76</span> 0   -0.014250
<span style="color: #008080;"> 77</span> 1    0.836498
<span style="color: #008080;"> 78</span> 2    0.977135
<span style="color: #008080;"> 79</span> 3   -0.833973
<span style="color: #008080;"> 80</span> 4   -0.727885
<span style="color: #008080;"> 81</span> <span style="color: #000000;">dtype: float64
</span><span style="color: #008080;"> 82</span> 
<span style="color: #008080;"> 83</span> s = pd.Series(np.random.randn(5),index=[<span style="color: #800000;">'</span><span style="color: #800000;">a</span><span style="color: #800000;">'</span>,<span style="color: #800000;">'</span><span style="color: #800000;">b</span><span style="color: #800000;">'</span>,<span style="color: #800000;">'</span><span style="color: #800000;">c</span><span style="color: #800000;">'</span>,<span style="color: #800000;">'</span><span style="color: #800000;">d</span><span style="color: #800000;">'</span>,<span style="color: #800000;">'</span><span style="color: #800000;">e</span><span style="color: #800000;">'</span><span style="color: #000000;">])
</span><span style="color: #008080;"> 84</span> <span style="color: #000000;">s
</span><span style="color: #008080;"> 85</span> <span style="color: #008000;">#</span><span style="color: #008000;">输出</span>
<span style="color: #008080;"> 86</span> a    1.127395
<span style="color: #008080;"> 87</span> b    0.229895
<span style="color: #008080;"> 88</span> c    0.161001
<span style="color: #008080;"> 89</span> d    0.362886
<span style="color: #008080;"> 90</span> e    0.203692
<span style="color: #008080;"> 91</span> <span style="color: #000000;">dtype: float64
</span><span style="color: #008080;"> 92</span> 
<span style="color: #008080;"> 93</span> s[<span style="color: #800000;">'</span><span style="color: #800000;">a</span><span style="color: #800000;">'</span>]  <span style="color: #008000;">#</span><span style="color: #008000;"> 索引也可以是字符字符串</span>
<span style="color: #008080;"> 94</span> <span style="color: #008000;">#</span><span style="color: #008000;"> 输出 1.1273946030373316</span>
<span style="color: #008080;"> 95</span> 
<span style="color: #008080;"> 96</span> s[<span style="color: #800000;">'</span><span style="color: #800000;">b</span><span style="color: #800000;">'</span>]= 3  <span style="color: #008000;">#</span><span style="color: #008000;"> 可以通过索引赋值操作改变表中的值</span>
<span style="color: #008080;"> 97</span> <span style="color: #000000;">s
</span><span style="color: #008080;"> 98</span> <span style="color: #008000;">#</span><span style="color: #008000;"> 输出</span>
<span style="color: #008080;"> 99</span> a    1.127395
<span style="color: #008080;">100</span> b    3.000000
<span style="color: #008080;">101</span> c    0.161001
<span style="color: #008080;">102</span> d    0.362886
<span style="color: #008080;">103</span> e    0.203692
<span style="color: #008080;">104</span> <span style="color: #000000;">dtype: float64
</span><span style="color: #008080;">105</span> 
<span style="color: #008080;">106</span> s[<span style="color: #800000;">'</span><span style="color: #800000;">g</span><span style="color: #800000;">'</span>] = 100  <span style="color: #008000;">#</span><span style="color: #008000;"> 如果表中没有那个索引，通过索引的赋值将会自动添加到表的行尾</span>
<span style="color: #008080;">107</span> <span style="color: #000000;">s
</span><span style="color: #008080;">108</span> <span style="color: #008000;">#</span><span style="color: #008000;"> 输出</span>
<span style="color: #008080;">109</span> a      1.127395
<span style="color: #008080;">110</span> b      3.000000
<span style="color: #008080;">111</span> c      0.161001
<span style="color: #008080;">112</span> d      0.362886
<span style="color: #008080;">113</span> e      0.203692
<span style="color: #008080;">114</span> g    100.000000
<span style="color: #008080;">115</span> <span style="color: #000000;">dtype: float64
</span><span style="color: #008080;">116</span> 
<span style="color: #008080;">117</span> <span style="color: #0000ff;">print</span>(s.get(<span style="color: #800000;">'</span><span style="color: #800000;">f</span><span style="color: #800000;">'</span>))  <span style="color: #008000;">#</span><span style="color: #008000;"> 也可以使用get函数读取索引对应的值，如果没有就返回默认的None</span>
<span style="color: #008080;">118</span> <span style="color: #008000;">#</span><span style="color: #008000;"> 输出 None</span>
<span style="color: #008080;">119</span> 
<span style="color: #008080;">120</span> <span style="color: #0000ff;">print</span> (s.get(<span style="color: #800000;">'</span><span style="color: #800000;">f</span><span style="color: #800000;">'</span>,0))  <span style="color: #008000;">#</span><span style="color: #008000;"> 也可以加自定义值的返回值</span>
<span style="color: #008080;">121</span> <span style="color: #008000;">#</span><span style="color: #008000;"> 输出 0</span>
<span style="color: #008080;">122</span> 
<span style="color: #008080;">123</span> s1 = pd.Series(np.random.randn(3),index=[<span style="color: #800000;">'</span><span style="color: #800000;">a</span><span style="color: #800000;">'</span>,<span style="color: #800000;">'</span><span style="color: #800000;">c</span><span style="color: #800000;">'</span>,<span style="color: #800000;">'</span><span style="color: #800000;">e</span><span style="color: #800000;">'</span><span style="color: #000000;">])
</span><span style="color: #008080;">124</span> s2 = pd.Series(np.random.randn(3),index=[<span style="color: #800000;">'</span><span style="color: #800000;">a</span><span style="color: #800000;">'</span>,<span style="color: #800000;">'</span><span style="color: #800000;">d</span><span style="color: #800000;">'</span>,<span style="color: #800000;">'</span><span style="color: #800000;">e</span><span style="color: #800000;">'</span><span style="color: #000000;">])
</span><span style="color: #008080;">125</span> <span style="color: #0000ff;">print</span>(f<span style="color: #800000;">'</span><span style="color: #800000;">{s1}\n\n{s2}</span><span style="color: #800000;">'</span><span style="color: #000000;">)
</span><span style="color: #008080;">126</span> <span style="color: #008000;">#</span><span style="color: #008000;"> 输出 </span>
<span style="color: #008080;">127</span> a   -0.036147
<span style="color: #008080;">128</span> c   -1.466236
<span style="color: #008080;">129</span> e   -0.649153
<span style="color: #008080;">130</span> <span style="color: #000000;">dtype: float64
</span><span style="color: #008080;">131</span> 
<span style="color: #008080;">132</span> a    1.460091
<span style="color: #008080;">133</span> d   -0.788388
<span style="color: #008080;">134</span> e    0.175337
<span style="color: #008080;">135</span> <span style="color: #000000;">dtype: float64
</span><span style="color: #008080;">136</span> 
<span style="color: #008080;">137</span> s1 + s2  <span style="color: #008000;">#</span><span style="color: #008000;"> 通过Series创建的表也可以按照行相同索引对应的值相加，如果两表索引对应</span>
<span style="color: #008080;">138</span>          <span style="color: #008000;">#</span><span style="color: #008000;"> 不上就默认赋值NaN</span>
<span style="color: #008080;">139</span> <span style="color: #008000;">#</span><span style="color: #008000;"> 输出</span>
<span style="color: #008080;">140</span> a    1.423945
<span style="color: #008080;">141</span> <span style="color: #000000;">c         NaN
</span><span style="color: #008080;">142</span> <span style="color: #000000;">d         NaN
</span><span style="color: #008080;">143</span> e   -0.473816
<span style="color: #008080;">144</span> dtype: float64</pre>
</div>
<p>&nbsp;</p>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>