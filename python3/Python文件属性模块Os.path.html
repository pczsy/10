<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修Python文件属性模块Os.path' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>Python文件属性模块Os.path</center></div><div class='banquan'>原文出处:本文由博客园博主清水-殇提供。<br/>
原文连接:https://www.cnblogs.com/guohongwei/p/11792163.html</div><br>
    <h2 id="title-0">Python文件属性模块Os.path介绍</h2>
<p>os.path模块主要用于文件属性获取和判断，在编程中会经常用到，需要熟练掌握。以下是该模块的几种常用方法。</p>
<p>os.path官方文档：http://docs.python.org/library/os.path.html</p>
<h2 id="title-1">Os.path模块的重要方法</h2>
<div class="cnblogs_code">
<pre><code><span style="color: #008080;"> 1</span> os.path.abspath(path) <span style="color: #008000;">#</span><span style="color: #008000;">返回绝对路径</span>
<span style="color: #008080;"> 2</span> os.path.basename(path) <span style="color: #008000;">#</span><span style="color: #008000;">返回文件名</span>
<span style="color: #008080;"> 3</span> os.path.commonprefix(list) <span style="color: #008000;">#</span><span style="color: #008000;">返回list(多个路径)中，所有path共有的最长的路径。</span>
<span style="color: #008080;"> 4</span> os.path.dirname(path) <span style="color: #008000;">#</span><span style="color: #008000;">返回文件路径</span>
<span style="color: #008080;"> 5</span> os.path.exists(path)  <span style="color: #008000;">#</span><span style="color: #008000;">路径存在则返回True,路径损坏返回False</span>
<span style="color: #008080;"> 6</span> os.path.lexists  <span style="color: #008000;">#</span><span style="color: #008000;">路径存在则返回True,路径损坏也返回True</span>
<span style="color: #008080;"> 7</span> os.path.expanduser(path)  <span style="color: #008000;">#</span><span style="color: #008000;">把path中包含的"~"和"~user"转换成用户目录</span>
<span style="color: #008080;"> 8</span> os.path.expandvars(path)  <span style="color: #008000;">#</span><span style="color: #008000;">根据环境变量的值替换path中包含的&rdquo;$name&rdquo;和&rdquo;${name}&rdquo;</span>
<span style="color: #008080;"> 9</span> os.path.getatime(path)  <span style="color: #008000;">#</span><span style="color: #008000;">返回最后一次进入此path的时间。</span>
<span style="color: #008080;">10</span> os.path.getmtime(path)  <span style="color: #008000;">#</span><span style="color: #008000;">返回在此path下最后一次修改的时间。</span>
<span style="color: #008080;">11</span> os.path.getctime(path)  <span style="color: #008000;">#</span><span style="color: #008000;">返回path的大小</span>
<span style="color: #008080;">12</span> os.path.getsize(path)  <span style="color: #008000;">#</span><span style="color: #008000;">返回文件大小，如果文件不存在就返回错误</span>
<span style="color: #008080;">13</span> os.path.isabs(path)  <span style="color: #008000;">#</span><span style="color: #008000;">判断是否为绝对路径</span>
<span style="color: #008080;">14</span> os.path.isfile(path)  <span style="color: #008000;">#</span><span style="color: #008000;">判断路径是否为文件</span>
<span style="color: #008080;">15</span> os.path.isdir(path)  <span style="color: #008000;">#</span><span style="color: #008000;">判断路径是否为目录</span>
<span style="color: #008080;">16</span> os.path.islink(path)  <span style="color: #008000;">#</span><span style="color: #008000;">判断路径是否为链接</span>
<span style="color: #008080;">17</span> os.path.ismount(path)  <span style="color: #008000;">#</span><span style="color: #008000;">判断路径是否为挂载点（）</span>
<span style="color: #008080;">18</span> os.path.join(path1[, path2[, ...]])  <span style="color: #008000;">#</span><span style="color: #008000;">把目录和文件名合成一个路径</span>
<span style="color: #008080;">19</span> os.path.normcase(path)  <span style="color: #008000;">#</span><span style="color: #008000;">转换path的大小写和斜杠</span>
<span style="color: #008080;">20</span> os.path.normpath(path)  <span style="color: #008000;">#</span><span style="color: #008000;">规范path字符串形式</span>
<span style="color: #008080;">21</span> os.path.realpath(path)  <span style="color: #008000;">#</span><span style="color: #008000;">返回path的真实路径</span>
<span style="color: #008080;">22</span> os.path.relpath(path[, start])  <span style="color: #008000;">#</span><span style="color: #008000;">从start开始计算相对路径</span>
<span style="color: #008080;">23</span> os.path.samefile(path1, path2)  <span style="color: #008000;">#</span><span style="color: #008000;">判断目录或文件是否相同</span>
<span style="color: #008080;">24</span> os.path.sameopenfile(fp1, fp2)  <span style="color: #008000;">#</span><span style="color: #008000;">判断fp1和fp2是否指向同一文件</span>
<span style="color: #008080;">25</span> os.path.samestat(stat1, stat2)  <span style="color: #008000;">#</span><span style="color: #008000;">判断stat tuple stat1和stat2是否指向同一个文件</span>
<span style="color: #008080;">26</span> os.path.split(path)  <span style="color: #008000;">#</span><span style="color: #008000;">把路径分割成dirname和basename，返回一个元组</span>
<span style="color: #008080;">27</span> os.path.splitdrive(path)   <span style="color: #008000;">#</span><span style="color: #008000;">一般用在windows下，返回驱动器名和路径组成的元组</span>
<span style="color: #008080;">28</span> os.path.splitext(path)  <span style="color: #008000;">#</span><span style="color: #008000;">分割路径，返回路径名和文件扩展名的元组</span>
<span style="color: #008080;">29</span> os.path.splitunc(path)  <span style="color: #008000;">#</span><span style="color: #008000;">把路径分割为加载点与文件</span>
<span style="color: #008080;">30</span> os.path.walk(path, visit, arg)  <span style="color: #008000;">#</span><span style="color: #008000;">遍历path，进入每个目录都调用visit函数，visit函数必须有</span>
<span style="color: #008080;">31</span> <span style="color: #000000;">3个参数(arg, dirname, names)，dirname表示当前目录的目录名，names代表当前目录下的所有
</span><span style="color: #008080;">32</span> <span style="color: #000000;">文件名，args则为walk的第三个参数
</span><span style="color: #008080;">33</span> os.path.supports_unicode_filenames  <span style="color: #008000;">#</span><span style="color: #008000;">设置是否支持unicode路径名</span></pre>
</div>
<h2 id="title-2">os.path模块的使用实例</h2>
<p>将文件夹下所有图片名称加上&rsquo;_py&rsquo;</p>
<div class="cnblogs_code">
<pre><code><span style="color: #008080;"> 1</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> re
</span><span style="color: #008080;"> 2</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> os
</span><span style="color: #008080;"> 3</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> time
</span><span style="color: #008080;"> 4</span> <span style="color: #008000;">#</span><span style="color: #008000;">str.split(string)分割字符串</span>
<span style="color: #008080;"> 5</span> <span style="color: #008000;">#</span><span style="color: #008000;">'连接符'.join(list) 将列表组成字符串</span>
<span style="color: #008080;"> 6</span> <span style="color: #0000ff;">def</span><span style="color: #000000;"> change_name(path):
</span><span style="color: #008080;"> 7</span>     <span style="color: #0000ff;">global</span><span style="color: #000000;"> i
</span><span style="color: #008080;"> 8</span>     <span style="color: #0000ff;">if</span> <span style="color: #0000ff;">not</span> os.path.isdir(path) <span style="color: #0000ff;">and</span> <span style="color: #0000ff;">not</span><span style="color: #000000;"> os.path.isfile(path):
</span><span style="color: #008080;"> 9</span>         <span style="color: #0000ff;">return</span><span style="color: #000000;"> False
</span><span style="color: #008080;">10</span>     <span style="color: #0000ff;">if</span><span style="color: #000000;"> os.path.isfile(path):
</span><span style="color: #008080;">11</span>         file_path = os.path.split(path) <span style="color: #008000;">#</span><span style="color: #008000;">分割出目录与文件</span>
<span style="color: #008080;">12</span>         lists = file_path[1].split(<span style="color: #800000;">'</span><span style="color: #800000;">.</span><span style="color: #800000;">'</span>) <span style="color: #008000;">#</span><span style="color: #008000;">分割出文件与文件扩展名</span>
<span style="color: #008080;">13</span>         file_ext = lists[-1] <span style="color: #008000;">#</span><span style="color: #008000;">取出后缀名(列表切片操作)</span>
<span style="color: #008080;">14</span>         img_ext = [<span style="color: #800000;">'</span><span style="color: #800000;">bmp</span><span style="color: #800000;">'</span>,<span style="color: #800000;">'</span><span style="color: #800000;">jpeg</span><span style="color: #800000;">'</span>,<span style="color: #800000;">'</span><span style="color: #800000;">gif</span><span style="color: #800000;">'</span>,<span style="color: #800000;">'</span><span style="color: #800000;">psd</span><span style="color: #800000;">'</span>,<span style="color: #800000;">'</span><span style="color: #800000;">png</span><span style="color: #800000;">'</span>,<span style="color: #800000;">'</span><span style="color: #800000;">jpg</span><span style="color: #800000;">'</span><span style="color: #000000;">]
</span><span style="color: #008080;">15</span>         <span style="color: #0000ff;">if</span> file_ext <span style="color: #0000ff;">in</span><span style="color: #000000;"> img_ext:
</span><span style="color: #008080;">16</span>             os.rename(path,file_path[0]+<span style="color: #800000;">'</span><span style="color: #800000;">/</span><span style="color: #800000;">'</span>+lists[0]+<span style="color: #800000;">'</span><span style="color: #800000;">_py.</span><span style="color: #800000;">'</span>+<span style="color: #000000;">file_ext)
</span><span style="color: #008080;">17</span>             i+=1 <span style="color: #008000;">#</span><span style="color: #008000;">注意这里的i是一个陷阱</span>
<span style="color: #008080;">18</span>         <span style="color: #008000;">#</span><span style="color: #008000;">或者</span>
<span style="color: #008080;">19</span>         <span style="color: #008000;">#</span><span style="color: #008000;">img_ext = 'bmp|jpeg|gif|psd|png|jpg'</span>
<span style="color: #008080;">20</span>         <span style="color: #008000;">#</span><span style="color: #008000;">if file_ext in img_ext:</span>
<span style="color: #008080;">21</span>         <span style="color: #008000;">#</span><span style="color: #008000;">    print('ok---'+file_ext)</span>
<span style="color: #008080;">22</span>     <span style="color: #0000ff;">elif</span><span style="color: #000000;"> os.path.isdir(path):
</span><span style="color: #008080;">23</span>         <span style="color: #0000ff;">for</span> x <span style="color: #0000ff;">in</span><span style="color: #000000;"> os.listdir(path):
</span><span style="color: #008080;">24</span>             change_name(os.path.join(path,x)) <span style="color: #008000;">#</span><span style="color: #008000;">os.path.join()在路径处理上很有用</span>
<span style="color: #008080;">25</span>  
<span style="color: #008080;">26</span>  
<span style="color: #008080;">27</span> img_dir = <span style="color: #800000;">'</span><span style="color: #800000;">E:\\meizitu\\xx</span><span style="color: #800000;">'</span>
<span style="color: #008080;">28</span> img_dir = img_dir.replace(<span style="color: #800000;">'</span><span style="color: #800000;">\\</span><span style="color: #800000;">'</span>,<span style="color: #800000;">'</span><span style="color: #800000;">/</span><span style="color: #800000;">'</span><span style="color: #000000;">)
</span><span style="color: #008080;">29</span> start =<span style="color: #000000;"> time.time()
</span><span style="color: #008080;">30</span> i =<span style="color: #000000;"> 0
</span><span style="color: #008080;">31</span> <span style="color: #000000;">change_name(img_dir)
</span><span style="color: #008080;">32</span> c = time.time() -<span style="color: #000000;"> start
</span><span style="color: #008080;">33</span> <span style="color: #0000ff;">print</span>(<span style="color: #800000;">'</span><span style="color: #800000;">程序运行耗时:%0.2f</span><span style="color: #800000;">'</span>%<span style="color: #000000;">(c))
</span><span style="color: #008080;">34</span> <span style="color: #0000ff;">print</span>(<span style="color: #800000;">'</span><span style="color: #800000;">总共处理了 %s 张图片</span><span style="color: #800000;">'</span>%(i))</pre>
</div>
<p>执行结果&nbsp;<span class="cnblogs_code"><span style="color: #008080;">1</span> 2 <span style="color: #008080;">2</span> 3 <span style="color: #008080;">3</span> <span style="color: #008080;">4</span> C:\Users\Administrator&gt;<span style="color: #000000;">E:\python\learn\os.py </span><span style="color: #008080;">5</span> 程序运行耗时:0.04 <span style="color: #008080;">6</span> 总共处理了 6 张图片</span>&nbsp;</p>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>