<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修python学生管理系统' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>python学生管理系统</center></div><div class='banquan'>原文出处:本文由博客园博主怪很强你先上提供。<br/>
原文连接:https://www.cnblogs.com/menxin/p/11580447.html</div><br>
    <pre><code>import os<br />import re<br /><br />#获取本机用户名，构建student.txt文件名创建在左面<br />import getpass<br />username=getpass.getuser()<br />print("当前登录用户名"+username)<br />filename="student.txt"<br />filename="C:\\Users\\"+username+"\\Desktop"+"\\"+filename<br />print(filename)<br />def main():<br />    ctrl=True<br />    while ctrl:<br />        menu()<br />        option=input("请选择&gt;&gt;&gt;:")<br />        option_str=re.sub("\D","",option)<br />        if option_str in ["0","1","2","3","4","5","6","7"]:<br />            option_int=int(option_str)<br />            if option_int==0:<br />                print("你已经退出学生管理系统")<br />                ctrl=0<br />            elif option_int==1:<br />                insert()<br />            elif option_int==2:<br />                search()<br />            elif option_int==3:<br />                delete()<br />            elif option_int==4:<br />                modify()<br />            elif option_int==5:<br />                sort()<br />            elif option_int==6:<br />                total()<br />            elif option_int==7:<br />                show()<br /><br />def menu():     #first page<br />    print(<br />    """<br />                学生信息管理系统<br />    <br />     ===============功能菜单===============<br />    |                                     <br />    |   1 录入学生信息                     <br />    |   2 查找学生信息                     <br />    |   3 删除学生信息                     <br />    |   4 修改学生信息                     <br />    |   5 排序                            <br />    |   6 统计学生总人数                   <br />    |   7 显示所有学生信息                 <br />    |   0 退出管理系统                      <br />    =======================================<br />    说明：通过数字或&uarr;&darr;方向键选择菜单  <br />    """<br />    )<br />def insert():   #录入学生信息<br />    studentlist=[]<br />    mark=True<br />    while mark:<br />        id=input("请输入id如（1001）:")<br />        if not id:<br />            break<br />        name=input("请输入姓名")<br />        if not name:<br />            break<br />        try:<br />            english =int(input("请输入英语成绩"))<br />            python  = int(input("请输入python成绩"))<br />            c       = int(input("请输入c语言成绩"))<br />        except:<br />            print("输入成绩格式无效")<br />            continue<br />        student={"id":id,"name":name,"english":english,"python":python,"c":c}<br />        studentlist.append(student)<br />        inputmark=input("是否继续添加(Y/N):")<br />        if inputmark=="Y" or inputmark=="y":<br />            mark=1<br />        else:<br />            mark=0<br />    print(studentlist)<br />    save(studentlist)<br />    print("学生信息录入完毕")<br /><br /><br /><br /><br />def search():<br />    mark=True<br />    student_query=[]<br />    while mark:<br />        id=""<br />        name=""<br />        if os.path.exists(filename):<br />            mode=input("按id查询输入1；按姓名查询输入2：")<br />            if mode=="1":<br />                id=input("请输入学生id:")<br />            elif mode=="2":<br />                name=input("请输入学生姓名")<br />            else:<br />                print("你的输入有误,请重新输入")<br />                search()<br />            with open(filename,"r") as file:<br />                student=file.readlines()<br />                for list in student:<br />                    d=dict(eval(list))<br />                    if id is not "":<br />                        if d["id"]==id:<br />                            student_query.append(d)<br />                    elif name is not "":<br />                        if d["name"]==name:<br />                            student_query.append(d)<br />                show_student(student_query)<br />                student_query.clear()<br />                inputmark=input("是否继续查询（y/n）：")<br />                if inputmark =="y" or inputmark=="Y":<br />                    mark=True<br />                else:<br />                    mark=False<br />        else:<br />            print("暂未保存数据信息")<br />            return<br />def delete():<br />    mark=True<br />    while mark:<br />        studentid=input("请输入你要删除的学生id,如果输入为空则退出删除")<br />        if studentid=="":<br />            return 1<br />        if studentid is not "":     #此处判断输入是否为空，如果输入有效执行读取信息<br />            if os.path.exists(filename):<br />                with open(filename,"r") as rfile:<br />                    student_old=rfile.readlines()<br />            else:   #如过为获取到文件内容，则返回空列表。stuent_ol=[]=false<br />                student_old=[]<br />            ifdel=False<br />            if student_old:<br />                with open(filename,"w") as wfile:<br />                    d={}<br />                    for list in student_old:<br />                        d=dict(eval(list))<br />                        if d['id']!=studentid:<br />                            wfile.write(str(d)+"\n")<br />                            #此处相当于读取了所有学生信息，除了id为输入要删除的id以外，其他学生的信息全部重新写入<br />                        else:   #如果 d['id']!=studentid ,那么ifdel=true,没有写入证明删除成功<br />                            ifdel=True<br />                    if ifdel:<br />                        print("id号为%s的学生信息已经删除"%studentid)<br />                    else:<br />                        print("没有找到id为%s的学生信息"%studentid)<br />            else:<br />                print("无学生信息")<br />                break<br />            show()<br />            inputmark=input("是否继续删除(Y/N):")<br />            if inputmark=="y" or inputmark=='Y':<br />                mark=True<br />            else:<br />                mark=False<br />def modify():<br />    show()<br />    if os.path.exists(filename):<br />        with open(filename,"r") as rfile:<br />            student_old=rfile.readlines()<br /><br />    else:<br />        return<br />    studentid=input("请输入你要修改的学生信息的id：")<br />    with open(filename,"w") as wfile:<br />        for student in student_old:<br />            d=dict(eval(student))<br />            if d['id']==studentid:<br />                print("找到该学生id，可以修改信息")<br />                while 1:<br />                    try:<br />                        d["name"]=input("请输入姓名")<br />                        d["english"] =int( input("请输入英语成绩"))<br />                        d["python"] = int(input("请输入python成绩"))<br />                        d["c"] = int(input("请输入C语言成绩"))<br />                    except:<br />                        print("输入信息有误,请重新输入")<br />                    else:<br />                        break<br />                student=str(d)<br />                wfile.write(student+"\n")   #修改后的信息写入文件<br />                print("信息修改成功")<br />            else:<br />                wfile.write(student)    #未修改的内容重新写入<br />    mark = input("是否继续修改（Y/N）：")<br />    if mark == "y" or mark == "Y":<br />        modify()<br />    else:<br />        return 1<br /><br />def sort():<br />    show()  #首先显示全部学生信息<br />    if os.path.exists(filename):<br />        with open(filename,"r") as file:<br />            student_old=file.readlines()<br />            student_new=[]<br />        for list in student_old:<br />            d=dict(eval(list))<br />            student_new.append(d)       #一个列表中的元素为字典，每个元素存储每个学生信息的字典<br />    else:<br />        return<br />    ascordesc=input("请选择（0升序 / 1降序）：")<br />    if ascordesc=="0":<br />        ascbool=False<br />    if ascordesc=="1":<br />        ascbool=True<br />    else:<br />        print("你的输入有误，请重新输入")<br />        sort()<br />    mode=input("""请选择排序方式（1 按英语成绩排序 2 按python成绩排序 3 按c语言成绩排序 0 按总成绩排序   ）""")<br />    if mode=="1":<br />        student_new.sort(key=lambda x:x["english"],reverse=ascbool)<br />    elif mode=="2":<br />        student_new.sort(key=lambda x:x["python"],reverse=ascbool)<br />    elif mode=="3":<br />        student_new.sort(key=lambda x:x["c"],reverse=ascbool)<br />    elif mode=="0":<br />        student_new.sort(key=lambda x: x["english"]+x["python"]+x["c"], reverse=ascbool)<br />    else:<br />        print("输入有误，请重新输入")<br />        sort()<br />    show_student(student_new)<br /><br /><br />def total():<br />    if os.path.exists(filename):<br />        with open(filename,"r") as rfile:<br />            student_old=rfile.readlines()<br />            if student_old:<br />                print("一共有%d名学生"%len(student_old))<br />            else:<br />                print("还没有录入学生信息")<br />    else:<br />        print("暂时未保存数据信息")<br />def show():<br />    student_new=[]<br />    if os.path.exists(filename):<br />        with open(filename,"r") as rfile:<br />            student_old=rfile.readlines()<br />        for list in student_old:<br />            student_new.append(eval(list))<br />        if student_new:<br />            show_student(student_new)<br />    else:<br />        print("暂未找到数据信息")<br />def save(student):<br />    try:<br />        students_txt=open(filename,"a")<br />    except Exception as e:<br />        students_txt=open(filename,"w")<br />    for info in student:<br />        students_txt.write(str(info)+"\n")<br />    students_txt.close()<br />def show_student(studentList):<br />    if not studentList:<br />        print("!!--无数据信息--!!\n")<br />        return<br />    format_title="{:^6}{:^12}\t{:^8}\t{:^10}\t{:^10}\t{:^10}"<br />    print(format_title.format("id","姓名","英语成绩","python成绩","语言成绩","总成绩"))<br />    format_data="{:^6}{:^12}\t{:^12}\t{:^12}\t{:^12}\t{:^12}"<br />    for info in studentList:<br />        print(format_data.format(info.get("id"),info.get("name"),str(info.get("english")),<br />                                 str(info.get("python")),str(info.get("c")),<br />                                 str(info.get("english")+info.get("c")+info.get("python")).center(12)<br />                                 ))<br />main()</pre>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>