<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修python 之 前端开发（ jQuery事件、动画效果、.each()、 .data()）' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>python 之 前端开发（ jQuery事件、动画效果、.each()、 .data()）</center></div><div class='banquan'>原文出处:本文由博客园博主small_white-提供。<br/>
原文连接:https://www.cnblogs.com/mylu/p/11391497.html</div><br>
    <h5 class="md-end-block md-heading"><span class="md-plain">11.58 事件</span></h5>
<h6 class="md-end-block md-heading"><span class="md-plain">11.581 事件绑定方法与解绑</span></h6>
<p class="md-end-block md-p"><span><strong>绑定事件：</strong></span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #008000;">//</span><span style="color: #008000;"> 绑定方式一：</span>
$('.box1').click(<span style="color: #0000ff;">function</span><span style="color: #000000;"> () {
    alert(</span>'绑定方式一'<span style="color: #000000;">)
});
​
</span><span style="color: #008000;">//</span><span style="color: #008000;"> 绑定方式二：</span>
$('.box1').on("click",<span style="color: #0000ff;">function</span><span style="color: #000000;"> () {
    alert(</span>'绑定方式一'<span style="color: #000000;">)
});
​
</span><span style="color: #008000;">//</span><span style="color: #008000;"> 绑定方式三：</span>
$('.box1').bind('click',{'a':'b'} <span style="color: #0000ff;">function</span><span style="color: #000000;"> (e) {
    alert(</span>'绑定方式二'<span style="color: #000000;">);
    console.log(e.data);
});
​
$(</span>'.box1').bind('mouseover mouseout', <span style="color: #0000ff;">function</span> () { <span style="color: #008000;">//</span><span style="color: #008000;"> 绑定多个事件做同一件事</span>
    console.log('绑定多个事件做同一件事'<span style="color: #000000;">)
});
$(</span>'.box1'<span style="color: #000000;">).bind({
    </span>'mouseup': <span style="color: #0000ff;">function</span><span style="color: #000000;"> () {
        console.log(</span>'mouseover'<span style="color: #000000;">);
    },
    </span>'mousedown': <span style="color: #0000ff;">function</span><span style="color: #000000;"> () {
        console.log(</span>'mouseout'<span style="color: #000000;">);
    }
});</span></pre>
</div>
<p class="md-end-block md-p"><span><strong>解绑事件：</strong></span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #008000;">//</span><span style="color: #008000;"> 移除事件，unbind没有参数则代表移除所有事件</span>
setTimeout(<span style="color: #0000ff;">function</span><span style="color: #000000;"> () {
    $(</span>'.box1').unbind('mouseover'<span style="color: #000000;">);
}, </span>3000<span style="color: #000000;">);
​
setTimeout(</span><span style="color: #0000ff;">function</span><span style="color: #000000;"> () {
    $(</span>'.box1'<span style="color: #000000;">).unbind();
}, </span>10000<span style="color: #000000;">)
​
.off(</span>"click",<span style="color: #0000ff;">function</span><span style="color: #000000;">(){
    xxxxx
})</span></pre>
</div>
<h6 class="md-end-block md-heading"><span class="md-plain">11.582 绑定事件示例</span></h6>
<p class="md-end-block md-p"><span><strong>点击事件：click</strong></span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #008000;">//</span><span style="color: #008000;"> click与dblclick只应该存在一个，大多数都是单击事件</span>
$('.box1').click(<span style="color: #0000ff;">function</span><span style="color: #000000;"> (event) 
    </span><span style="color: #008000;">//</span><span style="color: #008000;"> console.log(event.type);                 // event.type事件的类型为：click</span>
    console.log(event.target);                  <span style="color: #008000;">//</span><span style="color: #008000;"> event.target指的是点击的那个元素</span>
<span style="color: #000000;">})
$(</span>'.box1').dblclick(<span style="color: #0000ff;">function</span><span style="color: #000000;"> (event) {
    console.log(event.target);                  </span><span style="color: #008000;">//</span><span style="color: #008000;"> event.target指的是点击的那个元素</span>
})</pre>
</div>
<p class="md-end-block md-p"><span><strong>鼠标：mousedown、mouseup、mousemove、mouseover、mouseout、mouseenter、mouseleave</strong></span></p>
<div class="cnblogs_code">
<pre><code>$('.box1').mousedown(<span style="color: #0000ff;">function</span><span style="color: #000000;"> (event) {
        console.log(</span>'按照鼠标左键不松手'<span style="color: #000000;">);
    });
$(</span>'.box1').mouseup(<span style="color: #0000ff;">function</span><span style="color: #000000;"> (event) {
    console.log(</span>'按照鼠标左键松手'<span style="color: #000000;">);
});
​
$(</span>'.box1').mousemove(<span style="color: #0000ff;">function</span><span style="color: #000000;"> (event) {
    console.log(</span>'移动鼠标'<span style="color: #000000;">, event.pageX, event.pageY);
});
$(</span>'.box1').mouseover(<span style="color: #0000ff;">function</span><span style="color: #000000;"> (event) {
    console.log(</span>'元素以及该元素的子元素在鼠标移入时都会触发,当前的div是：'<span style="color: #000000;">, event.target.innerText);
});
​
$(</span>'.box1').mouseout(<span style="color: #0000ff;">function</span><span style="color: #000000;"> (event) {
    console.log(</span>'元素以及该元素的子元素在鼠标离开时都会触发，当前的div是：'<span style="color: #000000;">, event.target.innerText);
});
$(</span>'.box1').mouseenter(<span style="color: #0000ff;">function</span><span style="color: #000000;"> (event) {
    console.log(</span>'元素以在鼠标移入时都会触发(与子元素无关),当前的div是：'<span style="color: #000000;">, event.target.innerText);
});
$(</span>'.box1').mouseleave(<span style="color: #0000ff;">function</span><span style="color: #000000;"> (event) {
    console.log(</span>'元素以在鼠标移入时都会触发(与子元素无关)，当前的div是：'<span style="color: #000000;">, event.target.innerText);
});</span></pre>
</div>
<p class="md-end-block md-p"><span><strong>对于input框：focus、blur、input</strong></span></p>
<p class="md-end-block md-p"><span class="md-plain">input能够实时检测 <span><strong>textarea</strong><span class="md-plain">，<span><strong>input:text</strong><span class="md-plain">，<span><strong>input:password</strong><span class="md-plain">，<span><strong>input:search</strong><span class="md-plain">这几个元素的内容变化，但IE9以下版本不支持，需要使用IE特有的onpropertychange事件替代，使用jQuery库的话直接使用on同时绑定这两个事件即可</span></span></span></span></span></span></span></span></span></p>
<div class="cnblogs_code">
<pre><code>$('#inp').on("focus", <span style="color: #0000ff;">function</span><span style="color: #000000;"> () {
    console.log(</span>'鼠标聚焦'<span style="color: #000000;">);
});
$(</span>'#inp').on("blur", <span style="color: #0000ff;">function</span><span style="color: #000000;"> () {
    console.log(</span>'鼠标失去焦点'<span style="color: #000000;">);
});
</span><span style="color: #008000;">//</span><span style="color: #008000;"> 当input框的值发生变化时，实时触发</span>
$("#inp").on("input", <span style="color: #0000ff;">function</span><span style="color: #000000;"> () {
    console.log($(</span><span style="color: #0000ff;">this</span><span style="color: #000000;">).val());
})
$(</span>"#i1").on("input propertychange", <span style="color: #0000ff;">function</span><span style="color: #000000;"> () {
    alert($(</span><span style="color: #0000ff;">this</span><span style="color: #000000;">).val());
  })</span></pre>
</div>
<p class="md-end-block md-p"><span><strong>按键：keydown、keyup</strong></span></p>
<div class="cnblogs_code">
<pre><code>$('#inp').keydown(<span style="color: #0000ff;">function</span><span style="color: #000000;"> (e) {
    console.log(e.keyCode);
});
$(window).on(</span>"keydown", <span style="color: #0000ff;">function</span> (e) {      <span style="color: #008000;">//</span><span style="color: #008000;"> 获取用户按下那个按键</span>
<span style="color: #000000;">    console.log(e.keyCode);
    </span><span style="color: #0000ff;">if</span> (e.keyCode === 16<span style="color: #000000;">){
        flag </span>= <span style="color: #0000ff;">true</span><span style="color: #000000;">;
    }
});
​
$(</span>'#inp').keyup(<span style="color: #0000ff;">function</span> (event) {          <span style="color: #008000;">//</span><span style="color: #008000;"> 绑定一个按键抬起的事件</span>
    console.log('键盘按键弹起'<span style="color: #000000;">);
});
$(window).on(</span>"keyup", <span style="color: #0000ff;">function</span><span style="color: #000000;"> (e) {
    console.log(e.keyCode);
    </span><span style="color: #0000ff;">if</span> (e.keyCode === 16<span style="color: #000000;">){
        flag </span>= <span style="color: #0000ff;">false</span><span style="color: #000000;">;
    }
});</span></pre>
</div>
<p class="md-end-block md-p"><span><strong>change:</strong></span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #008000;">//</span><span style="color: #008000;">表单事件change</span>
$('#inp').change(<span style="color: #0000ff;">function</span><span style="color: #000000;"> () {
    console.log(</span><span style="color: #0000ff;">this</span>.value);            <span style="color: #008000;">//</span><span style="color: #008000;">失去焦点时就会得到值</span>
<span style="color: #000000;">});
$(</span>'input[name=sex]').change(<span style="color: #0000ff;">function</span><span style="color: #000000;"> (event) {
    console.log(</span><span style="color: #0000ff;">this</span><span style="color: #000000;">.value);
});
$(</span>'#select').change(<span style="color: #0000ff;">function</span><span style="color: #000000;"> () {
    console.log(</span><span style="color: #0000ff;">this</span><span style="color: #000000;">.value);
});</span></pre>
</div>
<p class="md-end-block md-p"><span><strong>选中checkbox框：select</strong></span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #008000;">//</span><span style="color: #008000;">表单事件select,CheckBox框被选中时触发</span>
$('#inp1').select(<span style="color: #0000ff;">function</span><span style="color: #000000;"> () {
    console.log(</span><span style="color: #0000ff;">this</span><span style="color: #000000;">.value);
});
$(</span>'#inp2').select(<span style="color: #0000ff;">function</span><span style="color: #000000;"> () {
    console.log(</span><span style="color: #0000ff;">this</span><span style="color: #000000;">.value);
});</span></pre>
</div>
<p class="md-end-block md-p"><span><strong>提交事件：submit</strong></span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #008000;">//</span><span style="color: #008000;">表单事件submit</span>
$('#form').submit(<span style="color: #0000ff;">function</span><span style="color: #000000;"> (event) {
console.log($(</span>'input[name=user]'<span style="color: #000000;">).val());
console.log($(</span>'input[name=pwd]'<span style="color: #000000;">).val());
event.preventDefault();
});</span></pre>
</div>
<p class="md-end-block md-p"><span><strong>hover:不能使用on绑定hover事件</strong></span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #008000;">//</span><span style="color: #008000;">hover事件</span>
$(".father").hover(                         <span style="color: #008000;">//</span><span style="color: #008000;"> 鼠标移到.father上时让.son添加一个.show </span>
    <span style="color: #0000ff;">function</span><span style="color: #000000;"> () {
        $(</span><span style="color: #0000ff;">this</span>).find(".son").addClass("show"<span style="color: #000000;">);
    },
    </span><span style="color: #0000ff;">function</span> () {                            <span style="color: #008000;">//</span><span style="color: #008000;"> 鼠标移出.father上时让.son移除一个.show </span>
        $(<span style="color: #0000ff;">this</span>).find(".son").removeClass("show"<span style="color: #000000;">);
    })</span></pre>
</div>
<h6 class="md-end-block md-heading"><span class="md-plain">11.583 事件冒泡应用之事件委托</span></h6>
<p class="md-end-block md-p"><span class="md-plain">添加的事件不能用于动态增加事件,例如之前我们在做表格的增删改时，每新增一行内容都需要重新绑定事件，基于事件委托就可以解决该问题</span></p>
<p class="md-end-block md-p"><span class="md-plain">事件委托是通过事件冒泡的原理，利用父标签去捕获子标签的事件</span></p>
<div class="cnblogs_code">
<pre><code>$('ul').on('mouseover','li',<span style="color: #0000ff;">function</span><span style="color: #000000;"> (e) {
    $(e.target).css(</span>'background-color','#ddd').siblings().css('background-color','white'<span style="color: #000000;">);
    </span><span style="color: #008000;">//</span><span style="color: #008000;"> e.stopPropagation();</span>
    <span style="color: #0000ff;">return</span> <span style="color: #0000ff;">false</span><span style="color: #000000;">;
})
​
$(</span>"table").on("click", ".delete", <span style="color: #0000ff;">function</span><span style="color: #000000;"> () {
  </span><span style="color: #008000;">//</span><span style="color: #008000;"> 删除按钮绑定的事件</span>
})</pre>
</div>
<h6 class="md-end-block md-heading"><span class="md-plain">11.584 页面加载完成执行</span></h6>
<div class="cnblogs_code">
<pre><code>$(document).ready(<span style="color: #0000ff;">function</span><span style="color: #000000;">(){
    在这里写你的JS代码...
})
​
简写:
$(</span><span style="color: #0000ff;">function</span><span style="color: #000000;">(){
    你在这里写你的代码
})</span></pre>
</div>
<p class="md-end-block md-p"><span class="md-plain">与window.onload()函数的区别：window.onload()函数有覆盖现象，必须等待着图片资源加载完成之后才能调用，且只能使用一次；jQuery的这个入口函数没有函数覆盖现象，文档加载完成之后就可以调用（建议使用此函数），可以使用多次</span></p>
<h5 class="md-end-block md-heading"><span class="md-plain">11.59 动画效果</span></h5>
<div class="cnblogs_code">
<pre><code>1<span style="color: #000000;">、show() 显示隐藏的匹配元素 语法：show(speed,callback) 
参数：
speed：三种预定速度之一的字符串(</span>'slow','normal','fast')或表示动画时长的毫秒值（如：1000毫秒==<span style="color: #000000;">1秒）
callback:在动画完成时执行的函数，每个元素执行一次
</span>2<span style="color: #000000;">、hide
hide(speed,callback)跟show使用方法类似，表示隐藏显示的元素。可以通过show（）和hide（）方法，来动态控制元素的显示隐藏
</span>3<span style="color: #000000;">、toggle
如果元素是可见的，切换为隐藏的；如果元素是隐藏的，切换为可见的。
​
</span>1<span style="color: #000000;">、slideDown  通过高度变化（向下增大）来到动态地显示所有匹配的元素，在显示完成后触发一个回调函数用法和参数跟上面类似
</span>2<span style="color: #000000;">、slideUp   通过高度变化（向上减小）来动态地隐藏所有匹配的元素，在隐藏完成后可选地触发一个回调函数。用法和参数跟上面类似
</span>3<span style="color: #000000;">、slideToggle 通过高度变化来切换所有匹配元素的可见性，并在切换完成后可选地触发一个回调函数跟toggle用法类似
​
</span>1、fadeIn/fadeOut  通过不透明度的变化来实现所有匹配元素的淡入/<span style="color: #000000;">淡出效果，并在动画完成后可选地触发一个回调函数。这个动画只调整元素的不透明度，也就是说所有匹配的元素的高度和宽度不会发生变化
</span>2<span style="color: #000000;">、fadeTo  把所有匹配元素的不透明度以渐进方式调整到指定的不透明度，并在动画完成后可选地触发一个回调函数。这个动画只调整元素的不透明度，也就是说所有匹配的元素的高度和宽度不会发生变化。
</span>3、fadeToggle 通过不透明度的变化来开关所有匹配元素的淡入和淡出效果，并在动画完成后可选地触发一个回调函数,这个动画只调整元素的不透明度，也就是说所有匹配的元素的高度和宽度不会发生变化。实现淡入淡出的效果就是使用此方</pre>
</div>
<p class="md-end-block md-p"><span class="md-plain">animate、stop、delay</span></p>
<div class="cnblogs_code">
<pre><code>1<span style="color: #000000;">、animate   概念：用于创建自定义动画的函数  语法：animate(params,[speed],[fn])
参数：
params:一组包含作为动画属性和终值的样式属性和及其值的集合
speed:三种预定速度之一的字符串(</span>"slow","normal", or "fast")或表示动画时长的毫秒数值(如：1000<span style="color: #000000;">)
fn:在动画完成时执行的函数，每个元素执行一次。
​
</span>2<span style="color: #000000;">、stop  概念：停止所有在指定元素上正在运行的动画  语法：stop([clearQueue],[jumpToEnd])
参数：
clearQueue:如果设置成true，则清空队列。可以立即结束动画。
gotoEnd:让当前正在执行的动画立即完成，并且重设show和hide的原始样式，调用回调函数等
​
</span>3、delay 概念：用来做延迟的操作  语法：delay(1000)，一秒之后做后面的操作</pre>
</div>
<h5 class="md-end-block md-heading"><span class="md-plain">11.510 .each()</span></h5>
<div class="cnblogs_code">
<pre><code><span style="color: #008000;">//</span><span style="color: #008000;"> 为每一个li标签添加class="c1"</span>
$("li").each(<span style="color: #0000ff;">function</span><span style="color: #000000;">(){
  $(</span><span style="color: #0000ff;">this</span>).addClass("c1"<span style="color: #000000;">);
});
​
</span><span style="color: #008000;">//</span><span style="color: #008000;">使用内置$.each()进行迭代</span>
<span style="color: #0000ff;">var</span> arry=[11,22,33,44<span style="color: #000000;">];
$.each(arry,</span><span style="color: #0000ff;">function</span><span style="color: #000000;">(k,v){
    console.log(k,v);
});</span></pre>
</div>
<p class="md-end-block md-p"><span class="md-plain">注意: jQuery的方法返回一个jQuery对象，遍历jQuery集合中的元素 - 被称为隐式迭代的过程。当这种情况发生时，它通常不需要显式地循环的 .each()方法</span></p>
<p class="md-end-block md-p"><span class="md-plain">也就是说，上面的例子没有必要使用each()方法，直接像下面这样写就可以了：</span></p>
<div class="cnblogs_code">
<pre><code>$("li").addClass("c1");  <span style="color: #008000;">//</span><span style="color: #008000;"> 对所有标签做统一操作</span></pre>
</div>
<p class="md-end-block md-p"><span><strong>终止each循环</strong></span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">return</span> <span style="color: #0000ff;">false</span>；</pre>
</div>
<h5 class="md-end-block md-heading"><span class="md-plain">11.511 .data()</span></h5>
<p class="md-end-block md-p"><span><strong>.data(key, value):</strong><span class="md-plain"> 在匹配的元素上存储任意相关数据/保存一些状态。</span></span></p>
<div class="cnblogs_code">
<pre><code>$("div").data("k",100);     <span style="color: #008000;">//</span><span style="color: #008000;">给所有div标签都保存一个名为k，值为100</span></pre>
</div>
<p class="md-end-block md-p"><span><strong>.data(key):</strong><span class="md-plain">返回匹配的元素集合中的第一个元素的给定名称的数据存储的值</span></span></p>
<div class="cnblogs_code">
<pre><code>$("div").data("k");         <span style="color: #008000;">//</span><span style="color: #008000;">返回第一个div标签中保存的"k"的值 100</span></pre>
</div>
<p class="md-end-block md-p"><span><strong>.removeData(key):</strong><span class="md-plain">移除存放在元素上的数据，不加key参数表示移除所有保存的数据</span></span></p>
<div class="cnblogs_code">
<pre><code>$("div").removeData("k");    <span style="color: #008000;">//</span><span style="color: #008000;">移除元素上存放k对应的数据</span></pre>
</div>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>