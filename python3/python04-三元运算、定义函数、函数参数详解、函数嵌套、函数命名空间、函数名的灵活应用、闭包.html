<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修python04-三元运算、定义函数、函数参数详解、函数嵌套、函数命名空间、函数名的灵活应用、闭包' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>python04-三元运算、定义函数、函数参数详解、函数嵌套、函数命名空间、函数名的灵活应用、闭包</center></div><div class='banquan'>原文出处:本文由博客园博主小拖拉滴赵某某提供。<br/>
原文连接:https://www.cnblogs.com/zrh918/p/11720126.html</div><br>
    <p><span style="color: #ff0000; font-size: 16px;"><strong>目录：</strong></span></p>
<p><a href="#bq1"><span style="color: #ff9900; font-size: 16px;"><strong>1.三元运算</strong></span></a></p>
<p><a href="#bq2"><span style="color: #ff9900; font-size: 16px;"><strong>2.定义函数</strong></span></a></p>
<p><a href="#bq3"><span style="color: #ff9900; font-size: 16px;"><strong>3.函数参数详解</strong></span></a></p>
<p><a href="#bq4"><span style="color: #ff9900; font-size: 16px;"><strong>4.函数嵌套</strong></span></a></p>
<p><a href="#bq5"><span style="color: #ff9900; font-size: 16px;"><strong>5.函数命名空间</strong></span></a></p>
<p><a href="#bq6"><span style="color: #ff9900; font-size: 16px;"><strong>6.函数名的灵活应用</strong></span></a></p>
<p><a href="#bq7"><span style="color: #ff9900; font-size: 16px;"><strong>7.闭包</strong></span></a></p>
<p><strong><a name="bq1"></a>一.三元运算</strong></p>
<div class="cnblogs_code" style="margin-left: 30px;">
<pre><code><span style="font-size: 16px;"><span style="color: #008080;">1</span> a = 1
<span style="color: #008080;">2</span> b = 2
<span style="color: #008080;">3</span> <span style="color: #0000ff;">if</span> a &lt;<span style="color: #000000;"> b :
</span><span style="color: #008080;">4</span>     c =<span style="color: #000000;"> b
</span><span style="color: #008080;">5</span> <span style="color: #0000ff;">else</span><span style="color: #000000;">:
</span><span style="color: #008080;">6</span>     c = a</span></pre>
</div>
<p style="margin-left: 30px;">这样写代码非常繁琐，所以在遇到if else非常简单的时候，可以用到三元运算</p>
<div class="cnblogs_code" style="margin-left: 30px;">
<pre><code><span style="font-size: 16px;">a = 1<span style="color: #000000;">
b </span>= 2<span style="color: #000000;">
c </span>= b <span style="color: #0000ff;">if</span> a &lt; b <span style="color: #0000ff;">else</span> a</span></pre>
</div>
<p style="margin-left: 30px;"><strong>&nbsp;①---⑥表示写三元运算时候的流程</strong></p>
<p style="margin-left: 30px;"><img src="./images/python04-三元运算、定义函数、函数参数详解、函数嵌套、函数命名空间、函数名的灵活应用、闭包0.png" alt="" /></p>
<p><strong>二.函数：</strong></p>
<p style="margin-left: 30px;">函数是组织好的，可重复使用的，用来实现单一，或相关联功能的代码段。</p>
<p style="margin-left: 30px;">函数能提高应用的模块性，和代码的重复利用率。你已经知道Python提供了许多内建函数，比如print()。</p>
<p style="margin-left: 30px;">但你也可以自己创建函数，这被叫做用户自定义函数。</p>
<p><strong><a name="bq2"></a>定义函数规则：</strong></p>
<p style="margin-left: 30px;">函数代码块以&nbsp;<strong>def</strong>&nbsp;关键词开头，后接函数标识符名称和圆括号&nbsp;<strong>()</strong>。</p>
<p style="margin-left: 30px;">任何传入参数和自变量必须放在圆括号中间，圆括号之间可以用于定义参数。</p>
<p style="margin-left: 30px;">函数的第一行语句可以选择性地使用文档字符串&mdash;用于存放函数说明。</p>
<p style="margin-left: 30px;">函数内容以冒号起始，并且缩进。</p>
<p style="margin-left: 30px;"><strong>return [表达式]</strong>&nbsp;结束函数，选择性地返回一个值给调用方。不带表达式的return相当于返回 None</p>
<p style="margin-left: 30px;">函数定义示例：</p>
<div class="cnblogs_code" style="margin-left: 30px;">
<pre><code><span style="font-size: 16px;"><span style="color: #008080;"> 1</span> <span style="color: #0000ff;">def</span><span style="color: #000000;"> 函数名(参数1,参数2):
</span><span style="color: #008080;"> 2</span>     <span style="color: #800000;">'''</span>
<span style="color: #008080;"> 3</span> <span style="color: #800000;">    这是一个解决什么问题的函数
</span><span style="color: #008080;"> 4</span> <span style="color: #800000;">    :param 参数1: 参数1代表输入什么
</span><span style="color: #008080;"> 5</span> <span style="color: #800000;">    :param 参数2: 参数2代表输入什么
</span><span style="color: #008080;"> 6</span> <span style="color: #800000;">    :return: 返回什么东西
</span><span style="color: #008080;"> 7</span>     <span style="color: #800000;">'''</span>
<span style="color: #008080;"> 8</span> <span style="color: #000000;">    函数体
</span><span style="color: #008080;"> 9</span> <span style="color: #000000;">    返回值
</span><span style="color: #008080;">10</span>     <span style="color: #0000ff;">return</span> 返回值</span></pre>
</div>
<p><strong>例如定义计算字符串长度的函数：</strong></p>
<div class="cnblogs_code" style="margin-left: 30px;">
<pre><code><span style="font-size: 16px;"><span style="color: #008080;"> 1</span> <span style="color: #0000ff;">def</span> my_len(my_str):   <span style="color: #008000;">#</span><span style="color: #008000;">定义函数</span>
<span style="color: #008080;"> 2</span>     <span style="color: #800000;">'''</span>
<span style="color: #008080;"> 3</span> <span style="color: #800000;">    用于计算可变类型长度的函数
</span><span style="color: #008080;"> 4</span> <span style="color: #800000;">    :param my_str: 用户输入的参数内容
</span><span style="color: #008080;"> 5</span> <span style="color: #800000;">    :return:返回参数的长度
</span><span style="color: #008080;"> 6</span>     <span style="color: #800000;">'''</span>
<span style="color: #008080;"> 7</span>     count =<span style="color: #000000;"> 0
</span><span style="color: #008080;"> 8</span>     <span style="color: #0000ff;">for</span> val <span style="color: #0000ff;">in</span><span style="color: #000000;"> my_str:
</span><span style="color: #008080;"> 9</span>         count += 1
<span style="color: #008080;">10</span>     <span style="color: #0000ff;">return</span><span style="color: #000000;"> count
</span><span style="color: #008080;">11</span> a = my_len(<span style="color: #800000;">"</span><span style="color: #800000;">hightgood</span><span style="color: #800000;">"</span><span style="color: #000000;">)
</span><span style="color: #008080;">12</span> <span style="color: #0000ff;">print</span>(a)       <span style="color: #008000;">#</span><span style="color: #008000;">输出值9</span></span></pre>
</div>
<p style="margin-left: 30px;">定义一个函数后，尽量不要用print,尽量return结果</p>
<p style="margin-left: 30px;">自己是可以知道函数代码内部打印的是啥，自己可以随时修改，但是别人不知道</p>
<p><strong>函数中的return：</strong></p>
<p style="margin-left: 30px;"><img src="./images/python04-三元运算、定义函数、函数参数详解、函数嵌套、函数命名空间、函数名的灵活应用、闭包1.png" alt="" width="403" height="236" /></p>
<p style="margin-left: 30px;"><strong>&nbsp;1.返回None</strong></p>
<p style="margin-left: 60px;">有三种情况：</p>
<p style="margin-left: 60px;">（1）无return的情况</p>
<p style="margin-left: 60px;">（2）本来就return None</p>
<p style="margin-left: 60px;">（3）return&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;#return空白</p>
<div class="cnblogs_code" style="margin-left: 60px;">
<pre><code><span style="font-size: 16px;"><span style="color: #008000;">#</span><span style="color: #008000;">无return</span>
<span style="color: #0000ff;">def</span><span style="color: #000000;"> my_print(parameter):
    </span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">"</span><span style="color: #800000;">Welcome</span><span style="color: #800000;">"</span><span style="color: #000000;">,parameter)
</span><span style="color: #008000;">#</span><span style="color: #008000;">return None</span>
<span style="color: #0000ff;">def</span><span style="color: #000000;"> my_print(parameter):
    </span><strong><span style="color: #0000ff;">return</span><span style="color: #000000;"> None
</span></strong><span style="color: #008000;">#</span><span style="color: #008000;">return</span>
<span style="color: #0000ff;">def</span><span style="color: #000000;"> my_print(parameter):
    </span><strong><span style="color: #0000ff;">return</span></strong>         <span style="color: #008000;">#</span><span style="color: #008000;">一般用于结束函数体</span></span></pre>
</div>
<p style="margin-left: 30px;"><strong>2.返回一个值</strong></p>
<div class="cnblogs_code" style="margin-left: 60px;">
<pre><code><span style="font-size: 16px;">1 <span style="color: #0000ff;">def</span> my_len(my_str):   <span style="color: #008000;">#</span><span style="color: #008000;">定义函数</span>
2     <span style="color: #008000;">#</span><span style="color: #008000;">计算可变类型值的长度</span>
3     my_str = <span style="color: #800000;">"</span><span style="color: #800000;">goodnight</span><span style="color: #800000;">"</span>
4     count =<span style="color: #000000;"> 0
</span>5     <span style="color: #0000ff;">for</span> val <span style="color: #0000ff;">in</span><span style="color: #000000;"> my_str:
</span>6         count += 1
7     <span style="color: #0000ff;">return</span> count       <span style="color: #008000;">#</span><span style="color: #008000;">count就是那个返回值</span></span></pre>
</div>
<p style="margin-left: 30px;"><strong>3.返回多个值</strong></p>
<div class="cnblogs_code" style="margin-left: 60px;">
<pre><code><span style="font-size: 16px;"><span style="color: #008080;">1</span> <span style="color: #0000ff;">def</span><span style="color: #000000;"> my_print():
</span><span style="color: #008080;">2</span>    <strong> <span style="color: #0000ff;">return</span> 11,22,33,[1,2,3<span style="color: #000000;">]
</span></strong><span style="color: #008080;">3</span> a =<span style="color: #000000;"> my_print()
</span><span style="color: #008080;">4</span> <span style="color: #0000ff;">print</span><span style="color: #000000;">(a)
</span><span style="color: #008080;">5</span> <span style="color: #008000;">#</span><span style="color: #008000;">打印结果：(11, 22, 33, [1, 2, 3])</span></span></pre>
</div>
<p style="margin-left: 60px;">return后面的值用逗号隔开，然后以元组的形式返回</p>
<p style="margin-left: 30px;"><strong>4.结束函数代码</strong></p>
<div class="cnblogs_code" style="margin-left: 60px;">
<pre><code><span style="font-size: 16px;"><span style="color: #008080;">1</span> <span style="color: #0000ff;">def</span><span style="color: #000000;"> my_print():
</span><span style="color: #008080;">2</span>     <span style="color: #0000ff;">print</span>(<span style="color: #800000;">'</span><span style="color: #800000;">one</span><span style="color: #800000;">'</span><span style="color: #000000;">)
</span><span style="color: #008080;">3</span>     <span style="color: #0000ff;">return</span>         <span style="color: #008000;">#</span><span style="color: #008000;">遇到return不继续函数下面的代码</span>
<span style="color: #008080;">4</span>     <span style="color: #0000ff;">print</span>(<span style="color: #800000;">'</span><span style="color: #800000;">two</span><span style="color: #800000;">'</span><span style="color: #000000;">)
</span><span style="color: #008080;">5</span> my_print()    <span style="color: #008000;">#</span><span style="color: #008000;">结果：one</span></span></pre>
</div>
<p style="margin-left: 30px;"><strong>5.补充：接收多个值</strong></p>
<div class="cnblogs_code" style="margin-left: 60px;">
<pre><code><span style="font-size: 16px;"><span style="color: #008080;">1</span> <span style="color: #0000ff;">def</span><span style="color: #000000;"> my_print():
</span><span style="color: #008080;">2</span>     <span style="color: #0000ff;">return</span> 1,2,3
<span style="color: #008080;">3</span> a,b,c=<span style="color: #000000;">my_print()
</span><span style="color: #008080;">4</span> <span style="color: #0000ff;">print</span>(a,b,c)  <span style="color: #008000;">#</span><span style="color: #008000;">相当于用a接收1，b接收2，c接收3</span>
<span style="color: #008080;">5</span> <span style="color: #0000ff;">def</span><span style="color: #000000;"> my_print():
</span><span style="color: #008080;">6</span>     <span style="color: #0000ff;">return</span> [4,5,6<span style="color: #000000;">]
</span><span style="color: #008080;">7</span> a,b,c=<span style="color: #000000;">my_print()
</span><span style="color: #008080;">8</span> <span style="color: #0000ff;">print</span>(a,b,c)  <span style="color: #008000;">#</span><span style="color: #008000;">一个列表里有三个值，分别用abc去接收，相当于解包</span></span></pre>
</div>
<p><strong><a name="bq3"></a>函数的参数：</strong></p>
<p style="margin-left: 30px;"><strong><img src="./images/python04-三元运算、定义函数、函数参数详解、函数嵌套、函数命名空间、函数名的灵活应用、闭包2.png" alt="" width="310" height="127" /></strong></p>
<div class="cnblogs_code" style="margin-left: 30px;">
<pre><code><span style="font-size: 16px;"><span style="color: #008080;">1</span> <span style="color: #0000ff;">def</span> my_len(my_str):   <strong><span style="color: #008000;">#</span><span style="color: #008000;">这里的my_str就是形参，形式参数，输入对象不确定，形参可以有多个，用逗号隔开</span></strong>
<span style="color: #008080;">2</span>     my_str = <span style="color: #800000;">"</span><span style="color: #800000;">goodnight</span><span style="color: #800000;">"</span>
<span style="color: #008080;">3</span>     count =<span style="color: #000000;"> 0
</span><span style="color: #008080;">4</span>     <span style="color: #0000ff;">for</span> val <span style="color: #0000ff;">in</span><span style="color: #000000;"> my_str:
</span><span style="color: #008080;">5</span>         count += 1
<span style="color: #008080;">6</span>     <span style="color: #0000ff;">return</span><span style="color: #000000;"> count
</span><span style="color: #008080;">7</span> a = my_len(<span style="color: #800000;">"</span><span style="color: #800000;">hightgood</span><span style="color: #800000;">"</span>)   <strong> <span style="color: #008000;">#</span><span style="color: #008000;">这里的hightgood就是实参，实际参数，输入对象确定</span></strong>
<span style="color: #008080;">8</span> <span style="color: #0000ff;">print</span>(a)</span></pre>
</div>
<p><strong>&nbsp;函数参数详解：</strong></p>
<p><strong><img src="./images/python04-三元运算、定义函数、函数参数详解、函数嵌套、函数命名空间、函数名的灵活应用、闭包3.png" alt="" width="716" height="139" /></strong></p>
<p><strong>&nbsp;1.位置参数：</strong></p>
<div class="cnblogs_code" style="margin-left: 30px;">
<pre><code><span style="font-size: 16px;"><span style="color: #008080;">1</span> <span style="color: #0000ff;">def</span> demo_1(a,b):   <span style="color: #008000;">#</span><span style="color: #008000;">位置参数   用户必须传入的参数，不传会报错</span>
<span style="color: #008080;">2</span>     <span style="color: #0000ff;">print</span><span style="color: #000000;">(a,b)
</span><span style="color: #008080;">3</span> demo_1(1,2)   <span style="color: #008000;">#</span><span style="color: #008000;">输出结果：1 2  按照位置传参  </span>
<span style="color: #008080;">4</span> demo_1(b=1,a=2) <span style="color: #008000;">#</span><span style="color: #008000;">输出结果：2 1  按照关键字传参</span>
<span style="color: #008080;">5</span> demo_1(1,b=2)  <span style="color: #008000;">#</span><span style="color: #008000;">输出结果：1 2  混用，但必须注意先按照位置传参，再按照关键字传参，不然会报错</span></span></pre>
</div>
<p><strong>2.默认参数：</strong></p>
<div class="cnblogs_code" style="margin-left: 30px;">
<pre><code><span style="font-size: 16px;"><span style="color: #008080;">1</span> <span style="color: #0000ff;">def</span> welcome(name,sex=<span style="color: #800000;">'</span><span style="color: #800000;">man</span><span style="color: #800000;">'</span>):    <span style="color: #008000;">#</span><span style="color: #008000;">sex为默认参数</span>
<span style="color: #008080;">2</span>     <span style="color: #0000ff;">print</span>(<span style="color: #800000;">'</span><span style="color: #800000;">welcome %s,sex %s</span><span style="color: #800000;">'</span>%<span style="color: #000000;">(name,sex))
</span><span style="color: #008080;">3</span> welcome(<span style="color: #800000;">'</span><span style="color: #800000;">zrh</span><span style="color: #800000;">'</span>)   <span style="color: #008000;">#</span><span style="color: #008000;">输出结果：welcome zrh,sex man</span>
<span style="color: #008080;">4</span> welcome(<span style="color: #800000;">'</span><span style="color: #800000;">lml</span><span style="color: #800000;">'</span>,<span style="color: #800000;">'</span><span style="color: #800000;">women</span><span style="color: #800000;">'</span>)  <span style="color: #008000;">#</span><span style="color: #008000;">输出结果：welcome lml,sex women</span>
<span style="color: #008080;">5</span> <span style="color: #008000;">#</span><span style="color: #008000;">默认参数如果不传参数，就用默认值，如果默认参数传入参数，就用传入值</span></span></pre>
</div>
<p style="margin-left: 30px;"><strong>默认参数的陷阱：</strong></p>
<p style="margin-left: 30px;"><strong>（1）</strong></p>
<div class="cnblogs_code" style="margin-left: 30px;">
<pre><code><span style="font-size: 18px;"><span style="color: #008080;">1</span> a = 18
<span style="color: #008080;">2</span> <span style="color: #0000ff;">def</span> age(a1,a2=<span style="color: #000000;">a):
</span><span style="color: #008080;">3</span>     <span style="color: #0000ff;">print</span><span style="color: #000000;">(a1,a2)
</span><span style="color: #008080;">4</span> a = 20
<span style="color: #008080;">5</span> age(10)  <span style="color: #008000;">#</span><span style="color: #008000;">输出结果：10 18</span></span></pre>
</div>
<p style="margin-left: 30px;"><strong>内部原理：</strong></p>
<p style="margin-left: 30px;"><img src="./images/python04-三元运算、定义函数、函数参数详解、函数嵌套、函数命名空间、函数名的灵活应用、闭包4.png" alt="" width="309" height="189" /></p>
<p style="margin-left: 30px;"><strong>&nbsp;（2）</strong></p>
<p style="margin-left: 30px;"><strong>专门针对可变数据类型</strong></p>
<div class="cnblogs_code" style="margin-left: 30px;">
<pre><code><span style="font-size: 16px;"><span style="color: #008080;"> 1</span> <span style="color: #0000ff;">def</span> demo(a =<span style="color: #000000;"> []):
</span><span style="color: #008080;"> 2</span>     a.append(1<span style="color: #000000;">)
</span><span style="color: #008080;"> 3</span>     <span style="color: #0000ff;">print</span><span style="color: #000000;">(a)
</span><span style="color: #008080;"> 4</span> demo() <span style="color: #008000;">#</span><span style="color: #008000;">输出结果：[1]</span>
<span style="color: #008080;"> 5</span> demo() <span style="color: #008000;">#</span><span style="color: #008000;">输出结果：[1] [1]</span>
<span style="color: #008080;"> 6</span> demo() <span style="color: #008000;">#</span><span style="color: #008000;">输出结果：[1] [1] [1]</span>
<span style="color: #008080;"> 7</span> <span style="color: #0000ff;">def</span> demo_1(a =<span style="color: #000000;"> []):
</span><span style="color: #008080;"> 8</span>     a.append(1<span style="color: #000000;">)
</span><span style="color: #008080;"> 9</span>     <span style="color: #0000ff;">print</span><span style="color: #000000;">(a)
</span><span style="color: #008080;">10</span> demo_1([]) <span style="color: #008000;">#</span><span style="color: #008000;">输出结果：[1]</span>
<span style="color: #008080;">11</span> demo_1([]) <span style="color: #008000;">#</span><span style="color: #008000;">输出结果：[1]</span>
<span style="color: #008080;">12</span> demo_1([]) <span style="color: #008000;">#</span><span style="color: #008000;">输出结果：[1]</span></span></pre>
</div>
<p style="margin-left: 30px;">因为可变类型改变不是在内存中开辟一个新空间，而是在原来的基础上做修改，而10--12行是开辟了三块新内存</p>
<p><strong>3.动态参数：</strong></p>
<p style="margin-left: 30px;"><strong>定义动态参数</strong></p>
<div class="cnblogs_code" style="margin-left: 30px;">
<pre><code><span style="font-size: 16px;"><span style="color: #008080;">1</span> <span style="color: #0000ff;">def</span> demo(*agrs):  <span style="color: #008000;">#</span><span style="color: #008000;">按位置输入的动态参数，组成一个元组</span>
<span style="color: #008080;">2</span>     <span style="color: #0000ff;">pass</span>
<span style="color: #008080;">3</span> <span style="color: #0000ff;">def</span> demo_1(**kwargs): <span style="color: #008000;">#</span><span style="color: #008000;">按关键字传入的参数，组成一个字典</span>
<span style="color: #008080;">4</span>     <span style="color: #0000ff;">pass</span></span></pre>
</div>
<p style="margin-left: 30px;">站在函数定义的角度：<span style="font-size: 18px;">*</span>做聚合作用，将一个一个的参数组合成一个元组（<span style="font-size: 18px;">**</span>则是字典）</p>
<p style="margin-left: 30px;">站在函数调用的角度：<span style="font-size: 18px;">*</span>做打散用，将一个列表或元组打散成多个参数（<span style="font-size: 18px;">**</span>则是关键字形式）</p>
<div class="cnblogs_code" style="margin-left: 30px;">
<pre><code><span style="font-size: 16px;"><span style="color: #008080;"> 1</span> <span style="color: #008000;">#</span><span style="color: #008000;">函数定义角度：</span>
<span style="color: #008080;"> 2</span> <span style="color: #0000ff;">def</span> demo(*agrs):  <span style="color: #008000;">#</span><span style="color: #008000;">按位置输入的动态参数</span>
<span style="color: #008080;"> 3</span>     <span style="color: #0000ff;">print</span><span style="color: #000000;">(agrs)
</span><span style="color: #008080;"> 4</span> demo(1,2,3,4,5)  <span style="color: #008000;">#</span><span style="color: #008000;">输出结果(1, 2, 3, 4, 5)</span>
<span style="color: #008080;"> 5</span> <span style="color: #0000ff;">def</span> demo_1(**kwargs): <span style="color: #008000;">#</span><span style="color: #008000;">按关键字传入的参数，组成一个字典</span>
<span style="color: #008080;"> 6</span>     <span style="color: #0000ff;">print</span><span style="color: #000000;">(kwargs)
</span><span style="color: #008080;"> 7</span> demo_1(a=1,b=2,c=3)  <span style="color: #008000;">#</span><span style="color: #008000;">输出结果{'a': 1, 'b': 2, 'c': 3}</span>
<span style="color: #008080;"> 8</span> <span style="color: #008000;">#</span><span style="color: #008000;">函数调用角度：</span>
<span style="color: #008080;"> 9</span> val = [1,2,3,4<span style="color: #000000;">]
</span><span style="color: #008080;">10</span> val2 = {<span style="color: #800000;">'</span><span style="color: #800000;">a</span><span style="color: #800000;">'</span>:1,<span style="color: #800000;">'</span><span style="color: #800000;">b</span><span style="color: #800000;">'</span>:2<span style="color: #000000;">}
</span><span style="color: #008080;">11</span> demo(*val)  <span style="color: #008000;">#</span><span style="color: #008000;">将val打散成 1 2 3 4，然后传入函数</span>
<span style="color: #008080;">12</span> demo_1(**val2) <span style="color: #008000;">#</span><span style="color: #008000;">将val2打散成 a=1 b=2，然后传入函数</span></span></pre>
<pre><code></pre>
</div>
<p style="margin-left: 30px;"><strong>解释一下为什么在混用的传参中有必须先按位置传参，再按关键数传参：</strong></p>
<div class="cnblogs_code" style="margin-left: 30px;">
<pre><code><span style="font-size: 16px;"><span style="color: #008080;">1</span> <span style="color: #0000ff;">def</span> demo(*agrs,**kwargs):  <span style="color: #008000;">#</span><span style="color: #008000;">*agrs和**kwargs的位置是python固定死的</span>
<span style="color: #008080;">2</span>     <span style="color: #008000;">#</span><span style="color: #008000;">所以必须先是按照位置传参的*agrs，再是按照关键字传参的**keagrs</span>
<span style="color: #008080;">3</span>     <span style="color: #0000ff;">print</span><span style="color: #000000;">(agrs)
</span><span style="color: #008080;">4</span>     <span style="color: #0000ff;">print</span><span style="color: #000000;">(kwargs)
</span><span style="color: #008080;">5</span> demo(1,2,3,4,a = 1,b = 2<span style="color: #000000;">)
</span><span style="color: #008080;">6</span> <span style="color: #008000;">#</span><span style="color: #008000;"> 输出结果：</span>
<span style="color: #008080;">7</span> <span style="color: #008000;">#</span><span style="color: #008000;"> (1, 2, 3, 4)</span>
<span style="color: #008080;">8</span> <span style="color: #008000;">#</span><span style="color: #008000;"> {'a': 1, 'b': 2}</span></span></pre>
</div>
<p style="margin-left: 30px;">第3行对应第7行的输出结果</p>
<p style="margin-left: 30px;">第4行对应第8行的输出结果</p>
<p style="margin-left: 30px;"><strong>定义多个不同类型参数时的顺序：</strong></p>
<div class="cnblogs_code" style="margin-left: 30px;">
<pre><code><span style="font-size: 16px;"><span style="color: #008080;">1</span> <span style="color: #0000ff;">def</span> demo(位置参数1,位置参数2,*args,默认参数=x,**<span style="color: #000000;">kwargs):
</span><span style="color: #008080;">2</span>     <span style="color: #0000ff;">pass</span>
<span style="color: #008080;">3</span> <span style="color: #008000;">#</span><span style="color: #008000;">以后职业生涯用到多种参数时必须这么写</span></span></pre>
</div>
<p style="margin-left: 30px;"><strong>格式及原理：</strong></p>
<p style="margin-left: 30px;"><img src="./images/python04-三元运算、定义函数、函数参数详解、函数嵌套、函数命名空间、函数名的灵活应用、闭包5.png" alt="" width="604" height="210" /></p>
<p><strong>&nbsp;情况总结：</strong></p>
<div class="cnblogs_code" style="margin-left: 30px;">
<pre><code><span style="font-size: 16px;"><span style="color: #008080;">1</span> <span style="color: #0000ff;">def</span> demo(*args,**kwargs):  <span style="color: #008000;">#</span><span style="color: #008000;">接收参数个数不确定的时候用动态传参，用到的时候再用</span>
<span style="color: #008080;">2</span>     <span style="color: #0000ff;">pass</span>
<span style="color: #008080;">3</span> <span style="color: #0000ff;">def</span> demo_1(a,b,c):    <span style="color: #008000;">#</span><span style="color: #008000;">位置参数，几个参数必须都要传入几个值，最常用</span>
<span style="color: #008080;">4</span>     <span style="color: #0000ff;">pass</span>
<span style="color: #008080;">5</span> <span style="color: #0000ff;">def</span> demo_2(a,b=10):   <span style="color: #008000;">#</span><span style="color: #008000;">默认参数，当参数信息大量形同时用到</span>
<span style="color: #008080;">6</span>     <span style="color: #0000ff;">pass</span></span></pre>
</div>
<p><strong>函数案例：</strong></p>
<p style="margin-left: 30px;">需求：写函数，用户输入操作文件名字，将要修改的内容，修改后的内容，然后进行批量操作</p>
<p>　　<img src="./images/python04-三元运算、定义函数、函数参数详解、函数嵌套、函数命名空间、函数名的灵活应用、闭包6.png" alt="" />　</p>
<div class="cnblogs_code" style="margin-left: 30px;">
<pre><code><span style="font-size: 16px;"><span style="color: #008080;"> 1</span> <span style="color: #0000ff;">def</span><span style="color: #000000;"> dict_change(filename,old_content,new_content):
</span><span style="color: #008080;"> 2</span>     <span style="color: #800000;">'''</span>
<span style="color: #008080;"> 3</span> <span style="color: #800000;">    函数用于文件内容批量修改操作
</span><span style="color: #008080;"> 4</span> <span style="color: #800000;">    :param filename: 操作对象的名字
</span><span style="color: #008080;"> 5</span> <span style="color: #800000;">    :param old_content: 将要修改的值
</span><span style="color: #008080;"> 6</span> <span style="color: #800000;">    :param new_content: 修改后的值
</span><span style="color: #008080;"> 7</span> <span style="color: #800000;">    :return:无返回值
</span><span style="color: #008080;"> 8</span>     <span style="color: #800000;">'''</span>
<span style="color: #008080;"> 9</span>     <span style="color: #0000ff;">import</span><span style="color: #000000;"> os
</span><span style="color: #008080;">10</span>     with open(filename,encoding=<span style="color: #800000;">'</span><span style="color: #800000;">utf-8</span><span style="color: #800000;">'</span>) as file_old,open(<span style="color: #800000;">'</span><span style="color: #800000;">new_file</span><span style="color: #800000;">'</span>,<span style="color: #800000;">'</span><span style="color: #800000;">w</span><span style="color: #800000;">'</span>,encoding=<span style="color: #800000;">'</span><span style="color: #800000;">utf-8</span><span style="color: #800000;">'</span><span style="color: #000000;">) as file_new :
</span><span style="color: #008080;">11</span>         <span style="color: #0000ff;">for</span> val_old <span style="color: #0000ff;">in</span><span style="color: #000000;"> file_old:
</span><span style="color: #008080;">12</span>             val_new =<span style="color: #000000;"> val_old.replace(old_content,new_content)
</span><span style="color: #008080;">13</span> <span style="color: #000000;">            file_new.write(val_new)
</span><span style="color: #008080;">14</span> <span style="color: #000000;">    os.remove(filename)
</span><span style="color: #008080;">15</span>     os.rename(<span style="color: #800000;">'</span><span style="color: #800000;">new_file</span><span style="color: #800000;">'</span><span style="color: #000000;">,filename)
</span><span style="color: #008080;">16</span> dict_change(<span style="color: #800000;">'</span><span style="color: #800000;">file</span><span style="color: #800000;">'</span>,<span style="color: #800000;">'</span><span style="color: #800000;">.</span><span style="color: #800000;">'</span>,<span style="color: #800000;">'</span><span style="color: #800000;">=</span><span style="color: #800000;">'</span>)</span></pre>
</div>
<p style="margin-left: 30px;">修改后的文件：</p>
<p style="margin-left: 30px;"><img src="./images/python04-三元运算、定义函数、函数参数详解、函数嵌套、函数命名空间、函数名的灵活应用、闭包7.png" alt="" /></p>
<p><strong><a name="bq4"></a>函数的嵌套：</strong></p>
<div class="cnblogs_code" style="margin-left: 30px;">
<pre><code><span style="font-size: 16px;"><span style="color: #008080;"> 1</span> <span style="color: #008000;">#</span><span style="color: #008000;">函数的嵌套调用</span>
<span style="color: #008080;"> 2</span> <span style="color: #0000ff;">def</span><span style="color: #000000;"> demo_1():
</span><span style="color: #008080;"> 3</span>     <span style="color: #0000ff;">print</span>(123<span style="color: #000000;">)
</span><span style="color: #008080;"> 4</span> <span style="color: #0000ff;">def</span><span style="color: #000000;"> demo_2():
</span><span style="color: #008080;"> 5</span> <span style="color: #000000;">    demo_1()
</span><span style="color: #008080;"> 6</span>     <span style="color: #0000ff;">print</span>(456<span style="color: #000000;">)
</span><span style="color: #008080;"> 7</span> <span style="color: #000000;">demo_2()
</span><span style="color: #008080;"> 8</span> <span style="color: #008000;">#</span><span style="color: #008000;"> 输出结果：</span>
<span style="color: #008080;"> 9</span> <span style="color: #008000;">#</span><span style="color: #008000;"> 123</span>
<span style="color: #008080;">10</span> <span style="color: #008000;">#</span><span style="color: #008000;"> 456</span>
<span style="color: #008080;">11</span> 
<span style="color: #008080;">12</span> <span style="color: #008000;">#</span><span style="color: #008000;">函数嵌套定义</span>
<span style="color: #008080;">13</span> <span style="color: #0000ff;">def</span><span style="color: #000000;"> demo_1():
</span><span style="color: #008080;">14</span>     <span style="color: #0000ff;">print</span>(123<span style="color: #000000;">)
</span><span style="color: #008080;">15</span>     <span style="color: #0000ff;">def</span><span style="color: #000000;"> demo_2():
</span><span style="color: #008080;">16</span>         <span style="color: #0000ff;">print</span>(456<span style="color: #000000;">)
</span><span style="color: #008080;">17</span> <span style="color: #000000;">    demo_2()
</span><span style="color: #008080;">18</span> <span style="color: #000000;">demo_1()
</span><span style="color: #008080;">19</span> <span style="color: #008000;">#</span><span style="color: #008000;"> 输出结果：</span>
<span style="color: #008080;">20</span> <span style="color: #008000;">#</span><span style="color: #008000;"> 123</span>
<span style="color: #008080;">21</span> <span style="color: #008000;">#</span><span style="color: #008000;"> 456</span></span></pre>
</div>
<p style="margin-left: 30px;">注意：内存读函数的时候先读定义函数名（不读里面的函数体），后面遇到调用此函数的时候，再返回读函数的函数体。</p>
<p><strong>在函数外调整内部嵌套函数内容的方法：</strong></p>
<div class="cnblogs_code" style="margin-left: 30px;">
<pre><code><span style="font-size: 16px;"><span style="color: #008080;">1</span> <span style="color: #0000ff;">def</span><span style="color: #000000;"> case(x,y,z):
</span><span style="color: #008080;">2</span>     <span style="color: #0000ff;">def</span><span style="color: #000000;"> new_case(a,b,c):
</span><span style="color: #008080;">3</span>         <span style="color: #0000ff;">print</span>(<span style="color: #800000;">'</span><span style="color: #800000;">content</span><span style="color: #800000;">'</span><span style="color: #000000;">,a,b,c)
</span><span style="color: #008080;">4</span> <span style="color: #000000;">    new_case(x,y,z)
</span><span style="color: #008080;">5</span> case(1,2,3<span style="color: #000000;">)
</span><span style="color: #008080;">6</span> <span style="color: #008000;">#</span><span style="color: #008000;">输出结果 content 1 2 3</span></span></pre>
</div>
<p style="margin-left: 30px;"><strong>进阶：</strong></p>
<p style="margin-left: 30px;"><img src="./images/python04-三元运算、定义函数、函数参数详解、函数嵌套、函数命名空间、函数名的灵活应用、闭包8.png" alt="" /></p>
<p style="margin-left: 30px;"><span style="color: #00ccff;">&nbsp;①</span>到<span style="color: #00ccff;">⑦<span style="color: #000000;">表示代码运行顺序</span></span></p>
<p style="margin-left: 30px;"><span style="color: #00ccff;"><span style="color: #000000;"><span style="font-size: 18px;">*</span>args 和 <span style="font-size: 18px;">**</span>kwargs 只是函数定义参数的方式，和混合传参不是一回事哦</span></span></p>
<p><strong><span style="color: #00ccff;"><span style="color: #000000;"><a name="bq5"></a>函数的命名空间：</span></span></strong></p>
<p style="margin-left: 30px;"><span style="color: #00ccff;"><span style="color: #000000;">在函数外部定义的变量为全局变量，函数内部定义的变量为局部变量</span></span></p>
<p style="margin-left: 30px;"><span style="color: #00ccff;"><span style="color: #000000;">在函数内定义的局部变量只在该函数内可见，当函数运行结束后，在其内部定义的所有局部变量将自动删除而不访问</span></span></p>
<p style="margin-left: 30px;"><strong><span style="color: #00ccff;"><span style="color: #000000;">1.</span></span></strong></p>
<div class="cnblogs_code" style="margin-left: 30px;">
<pre><code><span style="font-size: 16px;"><span style="color: #008080;"> 1</span> a = 1
<span style="color: #008080;"> 2</span> b = 2
<span style="color: #008080;"> 3</span> <span style="color: #0000ff;">def</span><span style="color: #000000;"> num_max(a,b):
</span><span style="color: #008080;"> 4</span>     c = b <span style="color: #0000ff;">if</span> a&lt;b <span style="color: #0000ff;">else</span><span style="color: #000000;"> a
</span><span style="color: #008080;"> 5</span>     <span style="color: #0000ff;">print</span><span style="color: #000000;">(c)
</span><span style="color: #008080;"> 6</span> <span style="color: #0000ff;">def</span><span style="color: #000000;"> num_min(a,b):
</span><span style="color: #008080;"> 7</span>     c = a <span style="color: #0000ff;">if</span> a&lt;b <span style="color: #0000ff;">else</span><span style="color: #000000;"> b
</span><span style="color: #008080;"> 8</span>     <span style="color: #0000ff;">print</span><span style="color: #000000;">(c)
</span><span style="color: #008080;"> 9</span> num_max(10,8<span style="color: #000000;">)
</span><span style="color: #008080;">10</span> num_min(5,6)</span></pre>
</div>
<p style="margin-left: 30px;">&nbsp;<img src="./images/python04-三元运算、定义函数、函数参数详解、函数嵌套、函数命名空间、函数名的灵活应用、闭包9.png" alt="" width="459" height="301" /></p>
<p style="margin-left: 30px;">&nbsp;局部命名空间之间信息不互通，不共享</p>
<p style="margin-left: 30px;"><strong>2.</strong></p>
<div class="cnblogs_code" style="margin-left: 30px;">
<pre><code><span style="font-size: 16px;"><span style="color: #008080;">1 </span>a = 1
<span style="color: #008080;">2 </span>b = 2
<span style="color: #008080;">3 </span><span style="color: #0000ff;">def</span><span style="color: #000000;"> num_max():
</span><span style="color: #008080;">4　　 </span>c = b <span style="color: #0000ff;">if</span> a&lt;b <span style="color: #0000ff;">else</span><span style="color: #000000;"> a
</span><span style="color: #008080;">5　　 </span><span style="color: #0000ff;">print</span><span style="color: #000000;">(c)
</span><span style="color: #008080;">6 </span>num_max()  <span style="color: #008000;">#</span><span style="color: #008000;">输出结果：2</span></span></pre>
</div>
<p style="margin-left: 30px;">函数局部命名空间（儿子）可以用全局命名空间（爸爸）的内容，但是全局命名空间（爸爸）不可以使用函数局部命名空间（儿子）的内容</p>
<p style="margin-left: 30px;">就是 儿子可以用爸爸的，爸爸不能用儿子的</p>
<p style="margin-left: 30px;"><strong>3.</strong></p>
<div class="cnblogs_code" style="margin-left: 30px;">
<pre><code><span style="font-size: 16px;"><span style="color: #008080;">1</span> a = 1
<span style="color: #008080;">2</span> b = 2
<span style="color: #008080;">3</span> <span style="color: #0000ff;">def</span><span style="color: #000000;"> num_max():
</span><span style="color: #008080;">4</span>     <span style="color: #0000ff;">def</span><span style="color: #000000;"> num():
</span><span style="color: #008080;">5</span>         <strong>a = 3</strong>
<span style="color: #008080;">6</span>         <strong><span style="color: #0000ff;">print</span><span style="color: #000000;">(a)
</span></strong><span style="color: #008080;">7</span> <span style="color: #000000;">    num()
</span><span style="color: #008080;">8</span> num_max()  <span style="color: #008000;">#</span></span><span style="color: #008000;"><span style="font-size: 16px;">输出结果：3 </span>   </span></pre>
</div>
<p style="margin-left: 30px;">对于局部命名空间来说，自己有的话就用自己的，自己没有再用全局命名空间的</p>
<p style="margin-left: 30px;"><strong>4.</strong></p>
<div class="cnblogs_code" style="margin-left: 30px;">
<pre><code><span style="font-size: 16px;"><span style="color: #008080;">1</span> a = 1
<span style="color: #008080;">2</span> b = 2
<span style="color: #008080;">3</span> <span style="color: #0000ff;">def</span><span style="color: #000000;"> num_max():
</span><span style="color: #008080;">4</span>     c = 3
<span style="color: #008080;">5</span>     <span style="color: #0000ff;">def</span><span style="color: #000000;"> num():
</span><span style="color: #008080;">6</span>         d = 4
<span style="color: #008080;">7</span>         <span style="color: #0000ff;">print</span><span style="color: #000000;">(a)
</span><span style="color: #008080;">8</span> <span style="color: #000000;">    num()
</span><span style="color: #008080;">9</span> num_max()  <span style="color: #008000;">#</span><span style="color: #008000;">输出结果：1</span></span></pre>
</div>
<p style="margin-left: 30px;"><img src="./images/python04-三元运算、定义函数、函数参数详解、函数嵌套、函数命名空间、函数名的灵活应用、闭包10.png" alt="" width="567" height="305" /></p>
<p style="margin-left: 60px;">儿子没有的先用爸爸的，爸爸也没有的话，再用爷爷的</p>
<p style="margin-left: 60px;">爷爷不能用爸爸，更不能用儿子</p>
<p style="margin-left: 60px;">爸爸也不能用儿子的</p>
<p><strong>命名空间的加载顺序：</strong></p>
<p style="margin-left: 30px;">1.启动python<br />2.内置的命名空间（在哪里都可以用，比如print()等）<br />3.加载全局命名空间中的名字  &mdash;&mdash; 从上到下顺序加载<br />4.加载局部命名空间中的名字  &mdash;&mdash; 调用该函数的时候，在函数里从上到下去加载</p>
<p><strong>函数的作用域：</strong></p>
<p style="margin-left: 30px;">内置的命名空间，在任意地方都可以用<br />全局的命名空间，在我们写的代码里任意地方（相当于爷爷，爸爸儿子都可以用爷爷的）<br />局部的命名空间，只能在自己的函数内使用</p>
<p><strong>global：在函数内部修改全局变量的值</strong></p>
<div class="cnblogs_code" style="margin-left: 30px;">
<pre><code><span style="font-size: 16px;"><span style="color: #008080;"> 1</span> a = 1
<span style="color: #008080;"> 2</span> <span style="color: #0000ff;">def</span><span style="color: #000000;"> demo_1():
</span><span style="color: #008080;"> 3</span>     a =2
<span style="color: #008080;"> 4</span>     <span style="color: #0000ff;">print</span><span style="color: #000000;">(a)
</span><span style="color: #008080;"> 5</span>     <span style="color: #0000ff;">def</span><span style="color: #000000;"> demo_2():
</span><span style="color: #008080;"> 6</span>         a = 3
<span style="color: #008080;"> 7</span>         <span style="color: #0000ff;">print</span><span style="color: #000000;">(a)
</span><span style="color: #008080;"> 8</span> <span style="color: #000000;">    demo_2()
</span><span style="color: #008080;"> 9</span> <span style="color: #000000;">demo_1()
</span><span style="color: #008080;">10</span> <span style="color: #0000ff;">print</span>(a)</span></pre>
</div>
<p style="margin-left: 30px;">打印结果：</p>
<p style="margin-left: 30px;"><img src="./images/python04-三元运算、定义函数、函数参数详解、函数嵌套、函数命名空间、函数名的灵活应用、闭包11.png" alt="" /></p>
<p style="margin-left: 30px;">&nbsp;需求，在函数里修改全局变量a = 10，这个时候就用的global：</p>
<div class="cnblogs_code" style="margin-left: 30px;">
<pre><code><span style="font-size: 16px;"><span style="color: #008080;"> 1</span> a = 1
<span style="color: #008080;"> 2</span> <span style="color: #0000ff;">def</span><span style="color: #000000;"> demo_1():
</span><span style="color: #008080;"> 3</span>     <span style="color: #0000ff;">global</span><span style="color: #000000;"> a
</span><span style="color: #008080;"> 4</span>     a =10
<span style="color: #008080;"> 5</span>     <span style="color: #0000ff;">print</span><span style="color: #000000;">(a)
</span><span style="color: #008080;"> 6</span>     <span style="color: #0000ff;">def</span><span style="color: #000000;"> demo_2():
</span><span style="color: #008080;"> 7</span>         a = 3
<span style="color: #008080;"> 8</span>         <span style="color: #0000ff;">print</span><span style="color: #000000;">(a)
</span><span style="color: #008080;"> 9</span> <span style="color: #000000;">    demo_2()
</span><span style="color: #008080;">10</span> <span style="color: #000000;">demo_1()
</span><span style="color: #008080;">11</span> <span style="color: #0000ff;">print</span>(a)</span></pre>
</div>
<p style="margin-left: 30px;">打印结果：</p>
<p style="margin-left: 30px;"><img src="./images/python04-三元运算、定义函数、函数参数详解、函数嵌套、函数命名空间、函数名的灵活应用、闭包12.png" alt="" /></p>
<p><strong>nonlocal：在函数内部修改函数上一级的变量值，儿子修改爸爸的值，但不影响爷爷的值，只改一层</strong></p>
<p style="margin-left: 60px;"><strong>nonlocal 只修改局部命名空间里的 从内部往外部找到第一个对应的变量名</strong></p>
<div class="cnblogs_code" style="margin-left: 30px;">
<pre><code><span style="font-size: 16px;"><span style="color: #008080;"> 1</span> a = 1
<span style="color: #008080;"> 2</span> <span style="color: #0000ff;">def</span><span style="color: #000000;"> demo_1():
</span><span style="color: #008080;"> 3</span>     a =2
<span style="color: #008080;"> 4</span>     <span style="color: #0000ff;">print</span><span style="color: #000000;">(a)
</span><span style="color: #008080;"> 5</span>     <span style="color: #0000ff;">def</span><span style="color: #000000;"> demo_2():
</span><span style="color: #008080;"> 6</span>         a = 3
<span style="color: #008080;"> 7</span>         <span style="color: #0000ff;">print</span><span style="color: #000000;">(a)
</span><span style="color: #008080;"> 8</span> <span style="color: #000000;">    demo_2()
</span><span style="color: #008080;"> 9</span> <span style="color: #000000;">demo_1()
</span><span style="color: #008080;">10</span> <span style="color: #0000ff;">print</span>(a)</span></pre>
</div>
<p style="margin-left: 30px;">打印结果：</p>
<p style="margin-left: 30px;"><img src="./images/python04-三元运算、定义函数、函数参数详解、函数嵌套、函数命名空间、函数名的灵活应用、闭包11.png" alt="" /></p>
<p style="margin-left: 30px;">需求：修改demo_1()里a的值为10</p>
<div class="cnblogs_code" style="margin-left: 30px;">
<pre><code><span style="font-size: 16px;"><span style="color: #008080;"> 1</span> a = 1
<span style="color: #008080;"> 2</span> <span style="color: #0000ff;">def</span><span style="color: #000000;"> demo_1():
</span><span style="color: #008080;"> 3</span>     a = 2
<span style="color: #008080;"> 4</span>     <span style="color: #0000ff;">print</span><span style="color: #000000;">(a)
</span><span style="color: #008080;"> 5</span>     <span style="color: #0000ff;">def</span><span style="color: #000000;"> demo_2():
</span><span style="color: #008080;"> 6</span> <strong><span style="color: #000000;">        nonlocal a
</span></strong><span style="color: #008080;"> 7</span>         a = 10
<span style="color: #008080;"> 8</span>         <span style="color: #0000ff;">print</span><span style="color: #000000;">(a)
</span><span style="color: #008080;"> 9</span> <span style="color: #000000;">    demo_2()
</span><span style="color: #008080;">10</span> <span style="color: #000000;">demo_1()
</span><span style="color: #008080;">11</span> <span style="color: #0000ff;">print</span>(a)</span></pre>
</div>
<p style="margin-left: 30px;">输出结果：</p>
<p style="margin-left: 30px;"><img src="./images/python04-三元运算、定义函数、函数参数详解、函数嵌套、函数命名空间、函数名的灵活应用、闭包14.png" alt="" /></p>
<p><strong><a name="bq6"></a>函数名的灵活应用：</strong></p>
<div class="cnblogs_code" style="margin-left: 30px;">
<pre><code><span style="font-size: 16px;"><span style="color: #0000ff;">def</span><span style="color: #000000;"> func():

　　</span><span style="color: #0000ff;">pass</span></span></pre>
</div>
<p style="margin-left: 30px;"><strong>func就是函数名，加个括号func()才是调用函数</strong></p>
<p style="margin-left: 30px;">函数的名字首先是一个函数的内存地址，可以当作变量使用 ，函数名是第一类对象的概念</p>
<p style="margin-left: 30px;">函数的名字可以赋值，可以作为其他列表等容器类型的元素</p>
<p style="margin-left: 30px;">函数的名字可以作为函数的参数,返回值</p>
<div class="cnblogs_code" style="margin-left: 30px;">
<pre><code><span style="font-size: 16px;"><span style="color: #008080;">1</span> <span style="color: #0000ff;">def</span><span style="color: #000000;"> func():
</span><span style="color: #008080;">2</span>     print(123)
<span style="color: #008080;">3</span> <span style="color: #0000ff;">print</span><span style="color: #000000;">(func)
</span><span style="color: #008080;">4</span> <span style="color: #008000;">#</span><span style="color: #008000;">输出结果：&lt;function func at 0x0000023DB22EF1F8&gt;</span>
<span style="color: #008080;">5</span> <span style="color: #008000;">#</span><span style="color: #008000;">          是个函数 名为func    内存地址</span></span></pre>
</div>
<p style="margin-left: 30px;">就表示func是一个存着一个函数地址的变量而已</p>
<p style="margin-left: 30px;">所以下面这些都可以使用：</p>
<div class="cnblogs_code" style="margin-left: 30px;">
<pre><code><span style="font-size: 16px;"><span style="color: #008080;">1</span> <span style="color: #0000ff;">def</span><span style="color: #000000;"> func():
</span><span style="color: #008080;">2</span>     <span style="color: #0000ff;">print</span>(123<span style="color: #000000;">)
</span><strong><span style="color: #008080;">3</span> a =<span style="color: #000000;"> func
</span></strong><span style="color: #008080;">4</span> <span style="color: #0000ff;">print</span><span style="color: #000000;">(func)
</span><strong><span style="color: #008080;">5</span> <span style="color: #0000ff;">print</span><span style="color: #000000;">(a)
</span><span style="color: #008080;">6</span> <span style="color: #008000;">#</span><span style="color: #008000;">输出结果：一模一样</span></strong>
<span style="color: #008080;">7</span> <span style="color: #008000;">#</span><span style="color: #008000;"> &lt;function func at 0x000002435074F1F8&gt;</span>
<span style="color: #008080;">8</span> <span style="color: #008000;">#</span><span style="color: #008000;"> &lt;function func at 0x000002435074F1F8&gt;</span></span></pre>
</div>
<div class="cnblogs_code" style="margin-left: 30px;">
<pre><code><span style="font-size: 16px;"><span style="color: #008080;">1</span> <span style="color: #0000ff;">def</span><span style="color: #000000;"> func():
</span><span style="color: #008080;">2</span>     <span style="color: #0000ff;">print</span>(123<span style="color: #000000;">)
</span><strong><span style="color: #008080;">3</span> a =<span style="color: #000000;"> func
</span><span style="color: #008080;">4</span> a()  <span style="color: #008000;">#</span><span style="color: #008000;">输出结果：123</span></strong></span></pre>
</div>
<div class="cnblogs_code" style="margin-left: 30px;">
<pre><code><span style="font-size: 16px;"><span style="color: #008080;">1</span> <span style="color: #0000ff;">def</span><span style="color: #000000;"> func():
</span><span style="color: #008080;">2</span>     <span style="color: #0000ff;">print</span>(123<span style="color: #000000;">)
</span><strong><span style="color: #008080;">3</span> list_1 =<span style="color: #000000;"> [func]
</span></strong><span style="color: #008080;">4</span> <span style="color: #0000ff;">print</span>(list_1)  <span style="color: #008000;">#</span><span style="color: #008000;">输出结果  [&lt;function func at 0x000001BC83DCF1F8&gt;]</span>
<span style="color: #008080;">5</span> <span style="color: #008000;">#</span><span style="color: #008000;">这个时候  list_1[0] == func</span>
<strong><span style="color: #008080;">6</span> list_1[0]()   <span style="color: #008000;">#</span><span style="color: #008000;">输出结果：123   list_1[0]()也可以调用函数func()</span></strong></span></pre>
</div>
<div class="cnblogs_code" style="margin-left: 30px;">
<pre><code><span style="font-size: 16px;"><span style="color: #008080;"> 1</span> <span style="color: #0000ff;">def</span><span style="color: #000000;"> func():
</span><span style="color: #008080;"> 2</span>     <span style="color: #0000ff;">print</span>(123<span style="color: #000000;">)
</span><span style="color: #008080;"> 3</span> <span style="color: #0000ff;">def</span><span style="color: #000000;"> exal(q):
</span><strong><span style="color: #008080;"> 4</span>     q()   <span style="color: #008000;">#</span><span style="color: #008000;">相当于func()，用到了前面说的嵌套函数的调用</span></strong>
<span style="color: #008080;"> 5</span>     <span style="color: #0000ff;">print</span><span style="color: #000000;">(q,type(q))
</span><span style="color: #008080;"> 6</span> <span style="color: #000000;">exal(func)
</span><span style="color: #008080;"> 7</span> <span style="color: #0000ff;">print</span><span style="color: #000000;">(type(func))
</span><span style="color: #008080;"> 8</span> <span style="color: #008000;">#</span><span style="color: #008000;">输出结果：</span>
<span style="color: #008080;"> 9</span> <span style="color: #008000;">#</span><span style="color: #008000;"> 123</span>
<span style="color: #008080;">10</span> <span style="color: #008000;">#</span><span style="color: #008000;"> &lt;function func at 0x0000027B24E5F288&gt; &lt;class 'function'&gt;</span>
<span style="color: #008080;">11</span> <span style="color: #008000;">#</span><span style="color: #008000;">&lt;class 'function'&gt;</span></span></pre>
</div>
<p><strong>高阶函数：</strong></p>
<p>高阶函数定义:</p>
<p>1.函数接收的参数是一个函数名</p>
<p>2.函数的返回值是一个函数名</p>
<p>满足上述条件任意一个,都可称之为高阶函数</p>
<div class="cnblogs_code">
<pre><code><span style="font-size: 16px;"><span style="color: #008080;">1</span> <span style="color: #0000ff;">def</span><span style="color: #000000;"> foo():
</span><span style="color: #008080;">2</span>     <span style="color: #0000ff;">print</span>(<span style="color: #800000;">'</span><span style="color: #800000;">from foo</span><span style="color: #800000;">'</span><span style="color: #000000;">)
</span><span style="color: #008080;">3</span> <span style="color: #0000ff;">def</span><span style="color: #000000;"> test(func_name):
</span><span style="color: #008080;">4</span>     <span style="color: #0000ff;">return</span><span style="color: #000000;"> func_name
</span><span style="color: #008080;">5</span> <span style="color: #0000ff;">print</span>(test(foo))  <span style="color: #008000;">#</span><span style="color: #008000;">&lt;function foo at 0x0000018F2211F288&gt;  拿到的是foo函数名的内存地址</span></span></pre>
</div>
<p><strong>此时test()就是一个高阶函数</strong></p>
<p><strong>&nbsp;<a name="bq7"></a>闭包：</strong></p>
<p style="margin-left: 30px;">内部函数(下面的demo_2)引用了外部函数(dem_1)的 变量，内部的函数就叫做闭包</p>
<div class="cnblogs_code" style="margin-left: 30px;">
<pre><code><span style="font-size: 16px;"><span style="color: #008080;">1</span> <span style="color: #0000ff;">def</span><span style="color: #000000;"> demo_1():
</span><span style="color: #008080;">2</span>     name = <span style="color: #800000;">'</span><span style="color: #800000;">zrh</span><span style="color: #800000;">'</span>
<span style="color: #008080;">3</span>     age = <span style="color: #800000;">'</span><span style="color: #800000;">20</span><span style="color: #800000;">'</span>
<span style="color: #008080;">4</span>     <span style="color: #0000ff;">def</span><span style="color: #000000;"> demo_2():
</span><span style="color: #008080;">5</span>         <span style="color: #0000ff;">print</span><span style="color: #000000;">(name,age)
</span><span style="color: #008080;">6</span>     <strong><span style="color: #0000ff;">print</span>(demo_2.<span style="color: #800080;">__closure__</span><span style="color: #000000;">)
</span></strong><span style="color: #008080;">7</span>     <span style="color: #008000;">#</span><span style="color: #008000;">(&lt;cell at 0x0000018B6DE9A108: str object at 0x0000018B6DE6DDF0&gt;, <br />&lt;cell at 0x0000018B6DE9A1F8: str object at 0x0000018B6DE6DDB0&gt;)</span>
<span style="color: #008080;">8</span>     <span style="color: #008000;">#</span><span style="color: #008000;">打印出来有东西说明用到了外部函数的变量，就形成了闭包</span>
<span style="color: #008080;">9</span> demo_1()</span></pre>
</div>
<p style="margin-left: 30px;"><strong>闭包的作用：</strong></p>
<p style="margin-left: 30px;">在变量不容易被别人改变的情况下，还不会随着你多次去调用而反复取创建</p>
<div class="cnblogs_code" style="margin-left: 30px;">
<pre><code><span style="font-size: 16px;"><span style="color: #008080;"> 1</span> <span style="color: #0000ff;">def</span><span style="color: #000000;"> demo_1():
</span><span style="color: #008080;"> 2</span>     name = <span style="color: #800000;">'</span><span style="color: #800000;">zrh</span><span style="color: #800000;">'</span>
<span style="color: #008080;"> 3</span>     <span style="color: #0000ff;">print</span><span style="color: #000000;">(name)
</span><span style="color: #008080;"> 4</span> <span style="color: #000000;">demo_1()
</span><span style="color: #008080;"> 5</span> <span style="color: #000000;">demo_1()
</span><span style="color: #008080;"> 6</span> <span style="color: #000000;">demo_1()
</span><span style="color: #008080;"> 7</span> <span style="color: #000000;">demo_1()
</span><span style="color: #008080;"> 8</span> <span style="color: #000000;">demo_1()
</span><span style="color: #008080;"> 9</span> <span style="color: #000000;">demo_1()
</span><span style="color: #008080;">10</span> <span style="color: #008000;">#</span><span style="color: #008000;">......</span></span></pre>
</div>
<p style="margin-left: 30px;">如果我执行demo_1函数一万次。那么内存就会开辟一万次空间储存 name = &lsquo;zrh&rsquo;，然后再耗费时间关闭那一万次的空间</p>
<div class="cnblogs_code" style="margin-left: 30px;">
<pre><code><span style="font-size: 16px;"><span style="color: #008080;"> 1</span> <span style="color: #0000ff;">def</span><span style="color: #000000;"> demo_1():
</span><span style="color: #008080;"> 2</span>     name = <span style="color: #800000;">'</span><span style="color: #800000;">zrh</span><span style="color: #800000;">'</span>
<span style="color: #008080;"> 3</span>     <span style="color: #0000ff;">def</span><span style="color: #000000;"> demo_2():
</span><span style="color: #008080;"> 4</span>         <span style="color: #0000ff;">print</span><span style="color: #000000;">(name)
</span><span style="color: #008080;"> 5</span>     <span style="color: #0000ff;">return</span><span style="color: #000000;"> demo_2
</span><span style="color: #008080;"> 6</span> i =<span style="color: #000000;"> demo_1()
</span><span style="color: #008080;"> 7</span> <span style="color: #000000;">i()
</span><span style="color: #008080;"> 8</span> <span style="color: #000000;">i()
</span><span style="color: #008080;"> 9</span> <span style="color: #000000;">i()
</span><span style="color: #008080;">10</span> i()</span></pre>
</div>
<p style="margin-left: 30px;">如果用闭包的方式，即使调用函数一万次，内存也会在第6行代码执行时创建一次空间来储存name = &lsquo;zrh&rsquo;，大大节省空间利用效率</p>
<p style="margin-left: 30px;"><strong>闭包的应用：</strong></p>
<div class="cnblogs_code" style="margin-left: 30px;">
<pre><code><span style="font-size: 16px;"><span style="color: #008080;"> 1</span> <span style="color: #0000ff;">from</span> urllib.request <span style="color: #0000ff;">import</span> urlopen  <span style="color: #008000;">#</span><span style="color: #008000;">模块</span>
<span style="color: #008080;"> 2</span> <span style="color: #0000ff;">def</span><span style="color: #000000;"> get_url():
</span><span style="color: #008080;"> 3</span>     url = <span style="color: #800000;">'</span><span style="color: #800000;">http://www.cnblogs.com/</span><span style="color: #800000;">'</span>
<span style="color: #008080;"> 4</span>     <span style="color: #0000ff;">def</span><span style="color: #000000;"> inner():
</span><span style="color: #008080;"> 5</span>         ret =<span style="color: #000000;"> urlopen(url).read()
</span><span style="color: #008080;"> 6</span>         <span style="color: #0000ff;">return</span><span style="color: #000000;"> ret
</span><span style="color: #008080;"> 7</span>     <span style="color: #0000ff;">return</span><span style="color: #000000;"> inner
</span><span style="color: #008080;"> 8</span> get_web =<span style="color: #000000;"> get_url()
</span><span style="color: #008080;"> 9</span> res =<span style="color: #000000;"> get_web()
</span><span style="color: #008080;">10</span> <span style="color: #0000ff;">print</span>(res)</span></pre>
</div>
<p style="margin-left: 30px;">同样url = 'http://www.cnblogs.com/'只创建了一次，后面调用千百万次，内存空间只有一次</p>
<p style="margin-left: 30px;"><img src="./images/python04-三元运算、定义函数、函数参数详解、函数嵌套、函数命名空间、函数名的灵活应用、闭包15.png" alt="" width="701" height="434" /></p>
<p>&nbsp;</p>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>