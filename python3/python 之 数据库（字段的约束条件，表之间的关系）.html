<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修python 之 数据库（字段的约束条件，表之间的关系）' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>python 之 数据库（字段的约束条件，表之间的关系）</center></div><div class='banquan'>原文出处:本文由博客园博主small_white-提供。<br/>
原文连接:https://www.cnblogs.com/mylu/p/11285625.html</div><br>
    <h3 class="md-end-block md-heading"><span class="md-plain">10.6 约束条件</span></h3>
<h4 class="md-end-block md-heading"><span class="md-plain">10.61 not null 、default</span></h4>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">create</span> <span style="color: #0000ff;">table</span><span style="color: #000000;"> t15(
    id </span><span style="color: #0000ff;">int</span><span style="color: #000000;">,
    name </span><span style="color: #0000ff;">char</span>(<span style="color: #800000; font-weight: bold;">16</span>) <span style="color: #808080;">not</span> <span style="color: #0000ff;">null</span><span style="color: #000000;">,
    sex enum(</span><span style="color: #ff0000;">'</span><span style="color: #ff0000;">male</span><span style="color: #ff0000;">'</span>,<span style="color: #ff0000;">'</span><span style="color: #ff0000;">female</span><span style="color: #ff0000;">'</span>,<span style="color: #ff0000;">'</span><span style="color: #ff0000;">other</span><span style="color: #ff0000;">'</span>) <span style="color: #808080;">not</span> <span style="color: #0000ff;">null</span> <span style="color: #0000ff;">default</span><span style="color: #000000;"> "male"
);
#</span><span style="color: #0000ff;">alter</span> <span style="color: #0000ff;">table</span> t15 modify name <span style="color: #0000ff;">char</span>(<span style="color: #800000; font-weight: bold;">16</span>) <span style="color: #808080;">not</span> <span style="color: #0000ff;">null</span><span style="color: #000000;">;
</span><span style="color: #0000ff;">insert</span> <span style="color: #0000ff;">into</span> t15(id,name) <span style="color: #0000ff;">values</span><span style="color: #000000;">
(</span><span style="color: #800000; font-weight: bold;">1</span>,<span style="color: #ff0000;">'</span><span style="color: #ff0000;">egon1</span><span style="color: #ff0000;">'</span><span style="color: #000000;">),
(</span><span style="color: #800000; font-weight: bold;">2</span>,<span style="color: #ff0000;">'</span><span style="color: #ff0000;">egon2</span><span style="color: #ff0000;">'</span><span style="color: #000000;">),
(</span><span style="color: #800000; font-weight: bold;">3</span>,<span style="color: #ff0000;">'</span><span style="color: #ff0000;">egon3</span><span style="color: #ff0000;">'</span><span style="color: #000000;">);
​
mysql</span><span style="color: #808080;">&gt;</span> <span style="color: #0000ff;">desc</span><span style="color: #000000;"> t15;
</span><span style="color: #808080;">+</span><span style="color: #008080;">--</span><span style="color: #008080;">-----+-------------------------------+------+-----+---------+-------+</span>
<span style="color: #808080;">|</span> Field <span style="color: #808080;">|</span> Type                          <span style="color: #808080;">|</span> <span style="color: #0000ff;">Null</span> <span style="color: #808080;">|</span> <span style="color: #0000ff;">Key</span> <span style="color: #808080;">|</span> <span style="color: #0000ff;">Default</span> <span style="color: #808080;">|</span> Extra <span style="color: #808080;">|</span>
<span style="color: #808080;">+</span><span style="color: #008080;">--</span><span style="color: #008080;">-----+-------------------------------+------+-----+---------+-------+</span>
<span style="color: #808080;">|</span> id    <span style="color: #808080;">|</span> <span style="color: #0000ff;">int</span>(<span style="color: #800000; font-weight: bold;">11</span>)                       <span style="color: #808080;">|</span> YES  <span style="color: #808080;">|</span>     <span style="color: #808080;">|</span> <span style="color: #0000ff;">NULL</span>    <span style="color: #808080;">|</span>       <span style="color: #808080;">|</span>
<span style="color: #808080;">|</span> name  <span style="color: #808080;">|</span> <span style="color: #0000ff;">char</span>(<span style="color: #800000; font-weight: bold;">16</span>)                      <span style="color: #808080;">|</span> NO   <span style="color: #808080;">|</span>     <span style="color: #808080;">|</span> <span style="color: #0000ff;">NULL</span>    <span style="color: #808080;">|</span>       <span style="color: #808080;">|</span>
<span style="color: #808080;">|</span> sex   <span style="color: #808080;">|</span> enum(<span style="color: #ff0000;">'</span><span style="color: #ff0000;">male</span><span style="color: #ff0000;">'</span>,<span style="color: #ff0000;">'</span><span style="color: #ff0000;">female</span><span style="color: #ff0000;">'</span>,<span style="color: #ff0000;">'</span><span style="color: #ff0000;">other</span><span style="color: #ff0000;">'</span>) <span style="color: #808080;">|</span> NO   <span style="color: #808080;">|</span>     <span style="color: #808080;">|</span> male    <span style="color: #808080;">|</span>       <span style="color: #808080;">|</span>
<span style="color: #808080;">+</span><span style="color: #008080;">--</span><span style="color: #008080;">-----+-------------------------------+------+-----+---------+-------+</span>
<span style="color: #000000;">​
mysql</span><span style="color: #808080;">&gt;</span> <span style="color: #0000ff;">select</span> <span style="color: #808080;">*</span> <span style="color: #0000ff;">from</span><span style="color: #000000;"> t15;
</span><span style="color: #808080;">+</span><span style="color: #008080;">--</span><span style="color: #008080;">----+-------+------+</span>
<span style="color: #808080;">|</span> id   <span style="color: #808080;">|</span> name  <span style="color: #808080;">|</span> sex  <span style="color: #808080;">|</span>
<span style="color: #808080;">+</span><span style="color: #008080;">--</span><span style="color: #008080;">----+-------+------+</span>
<span style="color: #808080;">|</span>    <span style="color: #800000; font-weight: bold;">1</span> <span style="color: #808080;">|</span> egon1 <span style="color: #808080;">|</span> male <span style="color: #808080;">|</span>
<span style="color: #808080;">|</span>    <span style="color: #800000; font-weight: bold;">2</span> <span style="color: #808080;">|</span> egon2 <span style="color: #808080;">|</span> male <span style="color: #808080;">|</span>
<span style="color: #808080;">|</span>    <span style="color: #800000; font-weight: bold;">3</span> <span style="color: #808080;">|</span> egon3 <span style="color: #808080;">|</span> male <span style="color: #808080;">|</span>
<span style="color: #808080;">+</span><span style="color: #008080;">--</span><span style="color: #008080;">----+-------+------+</span></pre>
</div>
<h4 class="md-end-block md-heading"><span class="md-plain">10.62 unique</span></h4>
<p class="md-end-block md-p"><span class="md-plain">mysql中存在一种专门的数据结构，叫 key，又称为索引，通过该数据结构可以减少 i/o 次数，从而加速查询效率<span class="md-softbreak"> <span class="md-plain">index key ： 只有加速查询的效果，没有约束的功能<span class="md-softbreak"> <span class="md-plain">unique key：不仅有加速查询的效果，还附加了一种约束的功能<span class="md-softbreak"> <span class="md-plain">primary key：不仅有加速查询的效果，还附加了一种约束的功能，并且innodb存储引擎会按照主键字段的值<span class="md-softbreak"> <span class="md-plain">来组织表中所有的数据，所以一种inndob表中必须有、而且只能有一个主键，通常为该表的id字段</span></span></span></span></span></span></span></span></span></p>
<p class="md-end-block md-p"><span class="md-plain">unique:限制字段的值的唯一性，单从约束角度去看：唯一性约束</span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #000000;">#单列唯一
</span><span style="color: #0000ff;">create</span> <span style="color: #0000ff;">table</span><span style="color: #000000;"> t16(
    id </span><span style="color: #0000ff;">int</span> <span style="color: #0000ff;">unique</span><span style="color: #000000;">,
    name </span><span style="color: #0000ff;">char</span>(<span style="color: #800000; font-weight: bold;">16</span><span style="color: #000000;">)
);
​
# 联合唯一(不能完全相同)
</span><span style="color: #0000ff;">create</span> <span style="color: #0000ff;">table</span><span style="color: #000000;"> server(
    id </span><span style="color: #0000ff;">int</span> <span style="color: #0000ff;">unique</span><span style="color: #000000;">,
    ip </span><span style="color: #0000ff;">char</span>(<span style="color: #800000; font-weight: bold;">15</span><span style="color: #000000;">),
    port </span><span style="color: #0000ff;">int</span><span style="color: #000000;">,
    </span><span style="color: #0000ff;">unique</span><span style="color: #000000;">(ip,port)
);
mysql</span><span style="color: #808080;">&gt;</span> <span style="color: #0000ff;">desc</span><span style="color: #000000;"> server;
</span><span style="color: #808080;">+</span><span style="color: #008080;">--</span><span style="color: #008080;">-----+----------+------+-----+---------+-------+</span>
<span style="color: #808080;">|</span> Field <span style="color: #808080;">|</span> Type     <span style="color: #808080;">|</span> <span style="color: #0000ff;">Null</span> <span style="color: #808080;">|</span> <span style="color: #0000ff;">Key</span> <span style="color: #808080;">|</span> <span style="color: #0000ff;">Default</span> <span style="color: #808080;">|</span> Extra <span style="color: #808080;">|</span>
<span style="color: #808080;">+</span><span style="color: #008080;">--</span><span style="color: #008080;">-----+----------+------+-----+---------+-------+</span>
<span style="color: #808080;">|</span> id    <span style="color: #808080;">|</span> <span style="color: #0000ff;">int</span>(<span style="color: #800000; font-weight: bold;">11</span>)  <span style="color: #808080;">|</span> YES  <span style="color: #808080;">|</span> UNI <span style="color: #808080;">|</span> <span style="color: #0000ff;">NULL</span>    <span style="color: #808080;">|</span>       <span style="color: #808080;">|</span>
<span style="color: #808080;">|</span> ip    <span style="color: #808080;">|</span> <span style="color: #0000ff;">char</span>(<span style="color: #800000; font-weight: bold;">15</span>) <span style="color: #808080;">|</span> YES  <span style="color: #808080;">|</span> MUL <span style="color: #808080;">|</span> <span style="color: #0000ff;">NULL</span>    <span style="color: #808080;">|</span>       <span style="color: #808080;">|</span>
<span style="color: #808080;">|</span> port  <span style="color: #808080;">|</span> <span style="color: #0000ff;">int</span>(<span style="color: #800000; font-weight: bold;">11</span>)  <span style="color: #808080;">|</span> YES  <span style="color: #808080;">|</span>     <span style="color: #808080;">|</span> <span style="color: #0000ff;">NULL</span>    <span style="color: #808080;">|</span>       <span style="color: #808080;">|</span>
<span style="color: #808080;">+</span><span style="color: #008080;">--</span><span style="color: #008080;">-----+----------+------+-----+---------+-------+</span>
<span style="color: #000000;">​
</span><span style="color: #0000ff;">insert</span> <span style="color: #0000ff;">into</span> server <span style="color: #0000ff;">values</span>(<span style="color: #800000; font-weight: bold;">1</span>,<span style="color: #ff0000;">'</span><span style="color: #ff0000;">1.1.1.1</span><span style="color: #ff0000;">'</span>,<span style="color: #800000; font-weight: bold;">3306</span>),(<span style="color: #800000; font-weight: bold;">2</span>,<span style="color: #ff0000;">'</span><span style="color: #ff0000;">1.1.1.1</span><span style="color: #ff0000;">'</span>,<span style="color: #800000; font-weight: bold;">3307</span>),(<span style="color: #800000; font-weight: bold;">3</span>,<span style="color: #ff0000;">'</span><span style="color: #ff0000;">1.1.1.2</span><span style="color: #ff0000;">'</span>,<span style="color: #800000; font-weight: bold;">3306</span><span style="color: #000000;">);
mysql</span><span style="color: #808080;">&gt;</span> <span style="color: #0000ff;">select</span> <span style="color: #808080;">*</span> <span style="color: #0000ff;">from</span><span style="color: #000000;"> server;
</span><span style="color: #808080;">+</span><span style="color: #008080;">--</span><span style="color: #008080;">----+---------+------+</span>
<span style="color: #808080;">|</span> id   <span style="color: #808080;">|</span> ip      <span style="color: #808080;">|</span> port <span style="color: #808080;">|</span>
<span style="color: #808080;">+</span><span style="color: #008080;">--</span><span style="color: #008080;">----+---------+------+</span>
<span style="color: #808080;">|</span>    <span style="color: #800000; font-weight: bold;">1</span> <span style="color: #808080;">|</span> <span style="color: #800000; font-weight: bold;">1.1</span>.<span style="color: #800000; font-weight: bold;">1.1</span> <span style="color: #808080;">|</span> <span style="color: #800000; font-weight: bold;">3306</span> <span style="color: #808080;">|</span>
<span style="color: #808080;">|</span>    <span style="color: #800000; font-weight: bold;">2</span> <span style="color: #808080;">|</span> <span style="color: #800000; font-weight: bold;">1.1</span>.<span style="color: #800000; font-weight: bold;">1.1</span> <span style="color: #808080;">|</span> <span style="color: #800000; font-weight: bold;">3307</span> <span style="color: #808080;">|</span>
<span style="color: #808080;">|</span>    <span style="color: #800000; font-weight: bold;">3</span> <span style="color: #808080;">|</span> <span style="color: #800000; font-weight: bold;">1.1</span>.<span style="color: #800000; font-weight: bold;">1.2</span> <span style="color: #808080;">|</span> <span style="color: #800000; font-weight: bold;">3306</span> <span style="color: #808080;">|</span>
<span style="color: #808080;">+</span><span style="color: #008080;">--</span><span style="color: #008080;">----+---------+------+</span></pre>
</div>
<h4 class="md-end-block md-heading"><span class="md-plain">10.63 primary key</span></h4>
<p class="md-end-block md-p"><span class="md-plain">primary key:单单从约束角度去看，primary key就等同于 not null + unique<span class="md-softbreak"> <span><strong>强调：</strong><span class="md-softbreak"> <span class="md-plain">1、一张表中必须有，并且只能有一个主键<span class="md-softbreak"> <span class="md-plain">2、一张表中都应该有一个<span><strong>id</strong><span class="md-plain">字段，而且应该把<span><strong>id</strong><span class="md-plain">字段做成主键</span></span></span></span></span></span></span></span></span></span></span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">create</span> <span style="color: #0000ff;">table</span><span style="color: #000000;"> t17(
    id </span><span style="color: #0000ff;">int</span> <span style="color: #0000ff;">primary</span> <span style="color: #0000ff;">key</span><span style="color: #000000;">,
    name </span><span style="color: #0000ff;">char</span>(<span style="color: #800000; font-weight: bold;">16</span><span style="color: #000000;">),
    age </span><span style="color: #0000ff;">int</span><span style="color: #000000;">,
    sex </span><span style="color: #0000ff;">char</span>(<span style="color: #800000; font-weight: bold;">6</span><span style="color: #000000;">)
)engine</span><span style="color: #808080;">=</span><span style="color: #000000;">innodb;
​
​
#联合主键(不完全相同，但不能为空)
</span><span style="color: #0000ff;">create</span> <span style="color: #0000ff;">table</span><span style="color: #000000;"> t19(
    ip </span><span style="color: #0000ff;">char</span>(<span style="color: #800000; font-weight: bold;">15</span><span style="color: #000000;">),
    port </span><span style="color: #0000ff;">int</span><span style="color: #000000;">,
    </span><span style="color: #0000ff;">primary</span> <span style="color: #0000ff;">key</span><span style="color: #000000;">(ip,port)
);
mysql</span><span style="color: #808080;">&gt;</span> <span style="color: #0000ff;">desc</span><span style="color: #000000;"> t19;
</span><span style="color: #808080;">+</span><span style="color: #008080;">--</span><span style="color: #008080;">-----+----------+------+-----+---------+-------+</span>
<span style="color: #808080;">|</span> Field <span style="color: #808080;">|</span> Type     <span style="color: #808080;">|</span> <span style="color: #0000ff;">Null</span> <span style="color: #808080;">|</span> <span style="color: #0000ff;">Key</span> <span style="color: #808080;">|</span> <span style="color: #0000ff;">Default</span> <span style="color: #808080;">|</span> Extra <span style="color: #808080;">|</span>
<span style="color: #808080;">+</span><span style="color: #008080;">--</span><span style="color: #008080;">-----+----------+------+-----+---------+-------+</span>
<span style="color: #808080;">|</span> ip    <span style="color: #808080;">|</span> <span style="color: #0000ff;">char</span>(<span style="color: #800000; font-weight: bold;">15</span>) <span style="color: #808080;">|</span> NO   <span style="color: #808080;">|</span> PRI <span style="color: #808080;">|</span>         <span style="color: #808080;">|</span>       <span style="color: #808080;">|</span>
<span style="color: #808080;">|</span> port  <span style="color: #808080;">|</span> <span style="color: #0000ff;">int</span>(<span style="color: #800000; font-weight: bold;">11</span>)  <span style="color: #808080;">|</span> NO   <span style="color: #808080;">|</span> PRI <span style="color: #808080;">|</span> <span style="color: #800000; font-weight: bold;">0</span>       <span style="color: #808080;">|</span>       <span style="color: #808080;">|</span>
<span style="color: #808080;">+</span><span style="color: #008080;">--</span><span style="color: #008080;">-----+----------+------+-----+---------+-------+</span></pre>
</div>
<h4 class="md-end-block md-heading"><span class="md-plain">10.64 auto_increment</span></h4>
<p class="md-end-block md-p"><span class="md-plain">只能给被约束成key的字段加自增属性，默认起始位置是1，步长也为1</span></p>
<div class="cnblogs_code">
<pre><code># <span style="color: #0000ff;">primary</span> <span style="color: #0000ff;">key</span><span style="color: #000000;"> auto_increment
</span><span style="color: #0000ff;">create</span> <span style="color: #0000ff;">table</span><span style="color: #000000;"> t20(
    id </span><span style="color: #0000ff;">int</span> <span style="color: #0000ff;">primary</span> <span style="color: #0000ff;">key</span><span style="color: #000000;"> auto_increment,
    name </span><span style="color: #0000ff;">char</span>(<span style="color: #800000; font-weight: bold;">16</span><span style="color: #000000;">)
)engine</span><span style="color: #808080;">=</span><span style="color: #000000;">innodb;
​
mysql</span><span style="color: #808080;">&gt;</span> <span style="color: #0000ff;">insert</span> t20(name) <span style="color: #0000ff;">values</span>(<span style="color: #ff0000;">'</span><span style="color: #ff0000;">egon1</span><span style="color: #ff0000;">'</span><span style="color: #000000;">);
mysql</span><span style="color: #808080;">&gt;</span> <span style="color: #0000ff;">insert</span> t20(name) <span style="color: #0000ff;">values</span>(<span style="color: #ff0000;">'</span><span style="color: #ff0000;">egon2</span><span style="color: #ff0000;">'</span><span style="color: #000000;">);
mysql</span><span style="color: #808080;">&gt;</span> <span style="color: #0000ff;">select</span> <span style="color: #808080;">*</span> <span style="color: #0000ff;">from</span><span style="color: #000000;"> t20;
</span><span style="color: #808080;">+</span><span style="color: #008080;">--</span><span style="color: #008080;">--+-------+</span>
<span style="color: #808080;">|</span> id <span style="color: #808080;">|</span> name  <span style="color: #808080;">|</span>
<span style="color: #808080;">+</span><span style="color: #008080;">--</span><span style="color: #008080;">--+-------+</span>
<span style="color: #808080;">|</span>  <span style="color: #800000; font-weight: bold;">1</span> <span style="color: #808080;">|</span> egon1 <span style="color: #808080;">|</span>
<span style="color: #808080;">|</span>  <span style="color: #800000; font-weight: bold;">2</span> <span style="color: #808080;">|</span> egon2 <span style="color: #808080;">|</span>
<span style="color: #808080;">+</span><span style="color: #008080;">--</span><span style="color: #008080;">--+-------+</span></pre>
</div>
<h3 class="md-end-block md-heading"><span class="md-plain">10.7 表关系</span></h3>
<h4 class="md-end-block md-heading"><span class="md-plain">10.71 多对一(foreign key)</span></h4>
<p class="md-end-block md-p"><span class="md-plain">1、把所有数据都存放于一张表的弊端:</span></p>
<ul class="ul-list" data-mark="-">
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">表的组织结构复杂不清晰</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">浪费空间</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">扩展性极差</span></p>
<p class="md-end-block md-p"><span class="md-plain">2、寻找表与表之间的关系的方法：<span class="md-softbreak"> <span class="md-plain"> 举例：emp表 dep表<span class="md-softbreak"> <span class="md-plain"> 步骤一：<span class="md-softbreak"> <span class="md-plain"> part1：<span class="md-softbreak"> <span class="md-plain"> 1、先站在左表emp的角度<span class="md-tab"> <span class="md-plain">2、去找左表emp的多条记录能否对应右表dep的一条记录</span></span></span></span></span></span></span></span></span></span></span></p>
<p class="md-end-block md-p"><span class="md-plain"> <span class="md-tab"> <span class="md-plain">part2：<span class="md-softbreak"> <span class="md-plain">​ <span class="md-tab"> <span class="md-plain">1、站在右表dep的角度<span class="md-tab"> <span class="md-plain">2、去找右表dep的多条记录能否对应左表emp的一条记录<span class="md-softbreak"> <span class="md-plain"> 3、如何实现？<span class="md-softbreak"> <span class="md-plain"> <span class="md-tab"> <span class="md-plain">在emp表中新增一个dep_id字段，该字段指向dep表的id字段</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p>
<p class="md-end-block md-p"><span class="md-plain">4、foreign key会带来什么样的效果？</span></p>
</li>
</ul>
<p class="md-end-block md-p"><span class="md-tab"> <span class="md-plain">约束1：在创建表时，先建被关联的表<span><strong>dep</strong><span class="md-plain">，才能建关联表emp</span></span></span></span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">create</span> <span style="color: #0000ff;">table</span><span style="color: #000000;"> dep(
    id </span><span style="color: #0000ff;">int</span> <span style="color: #0000ff;">primary</span> <span style="color: #0000ff;">key</span><span style="color: #000000;"> auto_increment,
    dep_name </span><span style="color: #0000ff;">char</span>(<span style="color: #800000; font-weight: bold;">10</span><span style="color: #000000;">),
    dep_comment </span><span style="color: #0000ff;">char</span>(<span style="color: #800000; font-weight: bold;">60</span><span style="color: #000000;">)
);
mysql</span><span style="color: #808080;">&gt;</span> <span style="color: #0000ff;">desc</span><span style="color: #000000;"> dep;
</span><span style="color: #808080;">+</span><span style="color: #008080;">--</span><span style="color: #008080;">-----------+----------+------+-----+---------+----------------+</span>
<span style="color: #808080;">|</span> Field       <span style="color: #808080;">|</span> Type     <span style="color: #808080;">|</span> <span style="color: #0000ff;">Null</span> <span style="color: #808080;">|</span> <span style="color: #0000ff;">Key</span> <span style="color: #808080;">|</span> <span style="color: #0000ff;">Default</span> <span style="color: #808080;">|</span> Extra          <span style="color: #808080;">|</span>
<span style="color: #808080;">+</span><span style="color: #008080;">--</span><span style="color: #008080;">-----------+----------+------+-----+---------+----------------+</span>
<span style="color: #808080;">|</span> id          <span style="color: #808080;">|</span> <span style="color: #0000ff;">int</span>(<span style="color: #800000; font-weight: bold;">11</span>)  <span style="color: #808080;">|</span> NO   <span style="color: #808080;">|</span> PRI <span style="color: #808080;">|</span> <span style="color: #0000ff;">NULL</span>    <span style="color: #808080;">|</span> auto_increment <span style="color: #808080;">|</span>
<span style="color: #808080;">|</span> dep_name    <span style="color: #808080;">|</span> <span style="color: #0000ff;">char</span>(<span style="color: #800000; font-weight: bold;">10</span>) <span style="color: #808080;">|</span> YES  <span style="color: #808080;">|</span>     <span style="color: #808080;">|</span> <span style="color: #0000ff;">NULL</span>    <span style="color: #808080;">|</span>                <span style="color: #808080;">|</span>
<span style="color: #808080;">|</span> dep_comment <span style="color: #808080;">|</span> <span style="color: #0000ff;">char</span>(<span style="color: #800000; font-weight: bold;">60</span>) <span style="color: #808080;">|</span> YES  <span style="color: #808080;">|</span>     <span style="color: #808080;">|</span> <span style="color: #0000ff;">NULL</span>    <span style="color: #808080;">|</span>                <span style="color: #808080;">|</span>
<span style="color: #808080;">+</span><span style="color: #008080;">--</span><span style="color: #008080;">-----------+----------+------+-----+---------+----------------+</span>
<span style="color: #0000ff;">create</span> <span style="color: #0000ff;">table</span><span style="color: #000000;"> emp(
    id </span><span style="color: #0000ff;">int</span> <span style="color: #0000ff;">primary</span> <span style="color: #0000ff;">key</span><span style="color: #000000;"> auto_increment,
    name </span><span style="color: #0000ff;">char</span>(<span style="color: #800000; font-weight: bold;">16</span><span style="color: #000000;">),
    gender enum(</span><span style="color: #ff0000;">'</span><span style="color: #ff0000;">male</span><span style="color: #ff0000;">'</span>,<span style="color: #ff0000;">'</span><span style="color: #ff0000;">female</span><span style="color: #ff0000;">'</span>) <span style="color: #808080;">not</span> <span style="color: #0000ff;">null</span> <span style="color: #0000ff;">default</span> <span style="color: #ff0000;">'</span><span style="color: #ff0000;">male</span><span style="color: #ff0000;">'</span><span style="color: #000000;">,
    dep_id </span><span style="color: #0000ff;">int</span><span style="color: #000000;">,
    </span><span style="color: #0000ff;">foreign</span> <span style="color: #0000ff;">key</span>(dep_id) <span style="color: #0000ff;">references</span><span style="color: #000000;"> dep(id)
);
mysql</span><span style="color: #808080;">&gt;</span> <span style="color: #0000ff;">desc</span><span style="color: #000000;"> emp;
</span><span style="color: #808080;">+</span><span style="color: #008080;">--</span><span style="color: #008080;">------+-----------------------+------+-----+---------+----------------+</span>
<span style="color: #808080;">|</span> Field  <span style="color: #808080;">|</span> Type                  <span style="color: #808080;">|</span> <span style="color: #0000ff;">Null</span> <span style="color: #808080;">|</span> <span style="color: #0000ff;">Key</span> <span style="color: #808080;">|</span> <span style="color: #0000ff;">Default</span> <span style="color: #808080;">|</span> Extra          <span style="color: #808080;">|</span>
<span style="color: #808080;">+</span><span style="color: #008080;">--</span><span style="color: #008080;">------+-----------------------+------+-----+---------+----------------+</span>
<span style="color: #808080;">|</span> id     <span style="color: #808080;">|</span> <span style="color: #0000ff;">int</span>(<span style="color: #800000; font-weight: bold;">11</span>)               <span style="color: #808080;">|</span> NO   <span style="color: #808080;">|</span> PRI <span style="color: #808080;">|</span> <span style="color: #0000ff;">NULL</span>    <span style="color: #808080;">|</span> auto_increment <span style="color: #808080;">|</span>
<span style="color: #808080;">|</span> name   <span style="color: #808080;">|</span> <span style="color: #0000ff;">char</span>(<span style="color: #800000; font-weight: bold;">16</span>)              <span style="color: #808080;">|</span> YES  <span style="color: #808080;">|</span>     <span style="color: #808080;">|</span> <span style="color: #0000ff;">NULL</span>    <span style="color: #808080;">|</span>                <span style="color: #808080;">|</span>
<span style="color: #808080;">|</span> gender <span style="color: #808080;">|</span> enum(<span style="color: #ff0000;">'</span><span style="color: #ff0000;">male</span><span style="color: #ff0000;">'</span>,<span style="color: #ff0000;">'</span><span style="color: #ff0000;">female</span><span style="color: #ff0000;">'</span>) <span style="color: #808080;">|</span> NO   <span style="color: #808080;">|</span>     <span style="color: #808080;">|</span> male    <span style="color: #808080;">|</span>                <span style="color: #808080;">|</span>
<span style="color: #808080;">|</span> dep_id <span style="color: #808080;">|</span> <span style="color: #0000ff;">int</span>(<span style="color: #800000; font-weight: bold;">11</span>)               <span style="color: #808080;">|</span> YES  <span style="color: #808080;">|</span> MUL <span style="color: #808080;">|</span> <span style="color: #0000ff;">NULL</span>    <span style="color: #808080;">|</span>                <span style="color: #808080;">|</span>
<span style="color: #808080;">+</span><span style="color: #008080;">--</span><span style="color: #008080;">------+-----------------------+------+-----+---------+----------------+</span></pre>
</div>
<p class="md-end-block md-p"><span class="md-tab"> <span class="md-plain">约束2：在插入记录时，必须先插被关联的表<span><strong>dep</strong><span class="md-plain">，才能插关联表emp</span></span></span></span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">insert</span> <span style="color: #0000ff;">into</span> dep(dep_name,dep_comment) <span style="color: #0000ff;">values</span><span style="color: #000000;">
(</span><span style="color: #ff0000;">'</span><span style="color: #ff0000;">sb教学部</span><span style="color: #ff0000;">'</span>,<span style="color: #ff0000;">'</span><span style="color: #ff0000;">sb辅导学生学习，教授python课程</span><span style="color: #ff0000;">'</span><span style="color: #000000;">),
(</span><span style="color: #ff0000;">'</span><span style="color: #ff0000;">外交部</span><span style="color: #ff0000;">'</span>,<span style="color: #ff0000;">'</span><span style="color: #ff0000;">形象大使</span><span style="color: #ff0000;">'</span><span style="color: #000000;">),
(</span><span style="color: #ff0000;">'</span><span style="color: #ff0000;">nb技术部</span><span style="color: #ff0000;">'</span>,<span style="color: #ff0000;">'</span><span style="color: #ff0000;">nb技术能力有限部门</span><span style="color: #ff0000;">'</span><span style="color: #000000;">);
mysql</span><span style="color: #808080;">&gt;</span> <span style="color: #0000ff;">select</span> <span style="color: #808080;">*</span> <span style="color: #0000ff;">from</span><span style="color: #000000;"> dep;
</span><span style="color: #808080;">+</span><span style="color: #008080;">--</span><span style="color: #008080;">--+-------------+-------------------------------------------+</span>
<span style="color: #808080;">|</span> id <span style="color: #808080;">|</span> dep_name    <span style="color: #808080;">|</span> dep_comment                               <span style="color: #808080;">|</span>
<span style="color: #808080;">+</span><span style="color: #008080;">--</span><span style="color: #008080;">--+-------------+-------------------------------------------+</span>
<span style="color: #808080;">|</span>  <span style="color: #800000; font-weight: bold;">1</span> <span style="color: #808080;">|</span> sb教学部    <span style="color: #808080;">|</span> sb辅导学生学习，教授python课程            <span style="color: #808080;">|</span>
<span style="color: #808080;">|</span>  <span style="color: #800000; font-weight: bold;">2</span> <span style="color: #808080;">|</span> 外交部      <span style="color: #808080;">|</span> 形象大使                                  <span style="color: #808080;">|</span>
<span style="color: #808080;">|</span>  <span style="color: #800000; font-weight: bold;">3</span> <span style="color: #808080;">|</span> nb技术部    <span style="color: #808080;">|</span> nb技术能力有限部门                        <span style="color: #808080;">|</span>
<span style="color: #808080;">+</span><span style="color: #008080;">--</span><span style="color: #008080;">--+-------------+-------------------------------------------+</span>
<span style="color: #0000ff;">insert</span> <span style="color: #0000ff;">into</span> emp(name,gender,dep_id)  <span style="color: #0000ff;">values</span><span style="color: #000000;">
(</span><span style="color: #ff0000;">'</span><span style="color: #ff0000;">alex</span><span style="color: #ff0000;">'</span>,<span style="color: #ff0000;">'</span><span style="color: #ff0000;">male</span><span style="color: #ff0000;">'</span>,<span style="color: #800000; font-weight: bold;">1</span><span style="color: #000000;">),
(</span><span style="color: #ff0000;">'</span><span style="color: #ff0000;">egon</span><span style="color: #ff0000;">'</span>,<span style="color: #ff0000;">'</span><span style="color: #ff0000;">male</span><span style="color: #ff0000;">'</span>,<span style="color: #800000; font-weight: bold;">2</span><span style="color: #000000;">),
(</span><span style="color: #ff0000;">'</span><span style="color: #ff0000;">lxx</span><span style="color: #ff0000;">'</span>,<span style="color: #ff0000;">'</span><span style="color: #ff0000;">male</span><span style="color: #ff0000;">'</span>,<span style="color: #800000; font-weight: bold;">1</span><span style="color: #000000;">),
(</span><span style="color: #ff0000;">'</span><span style="color: #ff0000;">wxx</span><span style="color: #ff0000;">'</span>,<span style="color: #ff0000;">'</span><span style="color: #ff0000;">male</span><span style="color: #ff0000;">'</span>,<span style="color: #800000; font-weight: bold;">1</span><span style="color: #000000;">),
(</span><span style="color: #ff0000;">'</span><span style="color: #ff0000;">wenzhou</span><span style="color: #ff0000;">'</span>,<span style="color: #ff0000;">'</span><span style="color: #ff0000;">female</span><span style="color: #ff0000;">'</span>,<span style="color: #800000; font-weight: bold;">3</span><span style="color: #000000;">);
mysql</span><span style="color: #808080;">&gt;</span> <span style="color: #0000ff;">select</span> <span style="color: #808080;">*</span> <span style="color: #0000ff;">from</span><span style="color: #000000;"> emp;
</span><span style="color: #808080;">+</span><span style="color: #008080;">--</span><span style="color: #008080;">--+---------+--------+--------+</span>
<span style="color: #808080;">|</span> id <span style="color: #808080;">|</span> name    <span style="color: #808080;">|</span> gender <span style="color: #808080;">|</span> dep_id <span style="color: #808080;">|</span>
<span style="color: #808080;">+</span><span style="color: #008080;">--</span><span style="color: #008080;">--+---------+--------+--------+</span>
<span style="color: #808080;">|</span>  <span style="color: #800000; font-weight: bold;">1</span> <span style="color: #808080;">|</span> alex    <span style="color: #808080;">|</span> male   <span style="color: #808080;">|</span>      <span style="color: #800000; font-weight: bold;">1</span> <span style="color: #808080;">|</span>
<span style="color: #808080;">|</span>  <span style="color: #800000; font-weight: bold;">2</span> <span style="color: #808080;">|</span> egon    <span style="color: #808080;">|</span> male   <span style="color: #808080;">|</span>      <span style="color: #800000; font-weight: bold;">2</span> <span style="color: #808080;">|</span>
<span style="color: #808080;">|</span>  <span style="color: #800000; font-weight: bold;">3</span> <span style="color: #808080;">|</span> lxx     <span style="color: #808080;">|</span> male   <span style="color: #808080;">|</span>      <span style="color: #800000; font-weight: bold;">1</span> <span style="color: #808080;">|</span>
<span style="color: #808080;">|</span>  <span style="color: #800000; font-weight: bold;">4</span> <span style="color: #808080;">|</span> wxx     <span style="color: #808080;">|</span> male   <span style="color: #808080;">|</span>      <span style="color: #800000; font-weight: bold;">1</span> <span style="color: #808080;">|</span>
<span style="color: #808080;">|</span>  <span style="color: #800000; font-weight: bold;">5</span> <span style="color: #808080;">|</span> wenzhou <span style="color: #808080;">|</span> female <span style="color: #808080;">|</span>      <span style="color: #800000; font-weight: bold;">3</span> <span style="color: #808080;">|</span>
<span style="color: #808080;">+</span><span style="color: #008080;">--</span><span style="color: #008080;">--+---------+--------+--------+</span></pre>
</div>
<p class="md-end-block md-p"><span class="md-tab"> <span class="md-plain">约束3：更新与删除都需要考虑到关联与被关联的关系<span><strong>(不能直接改变dep表的id)</strong><span class="md-softbreak"> <span class="md-plain">​<span class="md-tab"> <span><strong>解决方案：</strong></span></span></span></span></span></span></span></p>
<div class="cnblogs_code" onclick="cnblogs_code_show('5cba35ed-62e1-496e-98d2-df9149159cab')"><img id="code_img_closed_5cba35ed-62e1-496e-98d2-df9149159cab" class="code_img_closed" src="./images/python 之 数据库（字段的约束条件，表之间的关系）0.png" alt="" /><img id="code_img_opened_5cba35ed-62e1-496e-98d2-df9149159cab" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('5cba35ed-62e1-496e-98d2-df9149159cab',event)" src="./images/python 之 数据库（字段的约束条件，表之间的关系）1.png" alt="" />
<div id="cnblogs_code_open_5cba35ed-62e1-496e-98d2-df9149159cab" class="cnblogs_code_hide">
<pre><code><span style="color: #800000; font-weight: bold;">1</span><span style="color: #000000;">、先删除关联表emp，再删除被关联表dep，准备重建
mysql</span><span style="color: #808080;">&gt;</span> <span style="color: #0000ff;">drop</span> <span style="color: #0000ff;">table</span><span style="color: #000000;"> emp;
mysql</span><span style="color: #808080;">&gt;</span> <span style="color: #0000ff;">drop</span> <span style="color: #0000ff;">table</span><span style="color: #000000;"> dep;
</span><span style="color: #800000; font-weight: bold;">2</span><span style="color: #000000;">、重建：新增功能:同步更新，同步删除
</span><span style="color: #0000ff;">create</span> <span style="color: #0000ff;">table</span><span style="color: #000000;"> dep(                       #先建被参照的表
    id </span><span style="color: #0000ff;">int</span> <span style="color: #0000ff;">primary</span> <span style="color: #0000ff;">key</span><span style="color: #000000;"> auto_increment,
    dep_name </span><span style="color: #0000ff;">char</span>(<span style="color: #800000; font-weight: bold;">10</span><span style="color: #000000;">),
    dep_comment </span><span style="color: #0000ff;">char</span>(<span style="color: #800000; font-weight: bold;">60</span><span style="color: #000000;">));
</span><span style="color: #0000ff;">create</span> <span style="color: #0000ff;">table</span><span style="color: #000000;"> emp(
    id </span><span style="color: #0000ff;">int</span> <span style="color: #0000ff;">primary</span> <span style="color: #0000ff;">key</span><span style="color: #000000;"> auto_increment,
    name </span><span style="color: #0000ff;">char</span>(<span style="color: #800000; font-weight: bold;">16</span><span style="color: #000000;">),
    gender enum(</span><span style="color: #ff0000;">'</span><span style="color: #ff0000;">male</span><span style="color: #ff0000;">'</span>,<span style="color: #ff0000;">'</span><span style="color: #ff0000;">female</span><span style="color: #ff0000;">'</span>) <span style="color: #808080;">not</span> <span style="color: #0000ff;">null</span> <span style="color: #0000ff;">default</span> <span style="color: #ff0000;">'</span><span style="color: #ff0000;">male</span><span style="color: #ff0000;">'</span><span style="color: #000000;">,
    dep_id </span><span style="color: #0000ff;">int</span><span style="color: #000000;">,
    </span><span style="color: #0000ff;">foreign</span> <span style="color: #0000ff;">key</span>(dep_id) <span style="color: #0000ff;">references</span> dep(id) <span style="color: #0000ff;">on</span> <span style="color: #0000ff;">update</span> <span style="color: #0000ff;">cascade</span> <span style="color: #0000ff;">on</span> <span style="color: #0000ff;">delete</span> <span style="color: #0000ff;">cascade</span><span style="color: #000000;">);
</span><span style="color: #0000ff;">insert</span> <span style="color: #0000ff;">into</span> dep(dep_name,dep_comment) <span style="color: #0000ff;">values</span><span style="color: #000000;">
(</span><span style="color: #ff0000;">'</span><span style="color: #ff0000;">sb教学部</span><span style="color: #ff0000;">'</span>,<span style="color: #ff0000;">'</span><span style="color: #ff0000;">sb辅导学生学习，教授python课程</span><span style="color: #ff0000;">'</span><span style="color: #000000;">),
(</span><span style="color: #ff0000;">'</span><span style="color: #ff0000;">外交部</span><span style="color: #ff0000;">'</span>,<span style="color: #ff0000;">'</span><span style="color: #ff0000;">形象大使</span><span style="color: #ff0000;">'</span><span style="color: #000000;">),
(</span><span style="color: #ff0000;">'</span><span style="color: #ff0000;">nb技术部</span><span style="color: #ff0000;">'</span>,<span style="color: #ff0000;">'</span><span style="color: #ff0000;">nb技术能力有限部门</span><span style="color: #ff0000;">'</span><span style="color: #000000;">);
mysql</span><span style="color: #808080;">&gt;</span> <span style="color: #0000ff;">select</span> <span style="color: #808080;">*</span> <span style="color: #0000ff;">from</span><span style="color: #000000;"> dep;
</span><span style="color: #808080;">+</span><span style="color: #008080;">--</span><span style="color: #008080;">--+------------------+------------------------------</span>
<span style="color: #808080;">|</span> id <span style="color: #808080;">|</span> dep_name         <span style="color: #808080;">|</span> dep_comment                  <span style="color: #808080;">|</span>
<span style="color: #808080;">+</span><span style="color: #008080;">--</span><span style="color: #008080;">--+------------------+------------------------------</span>
<span style="color: #808080;">|</span>  <span style="color: #800000; font-weight: bold;">1</span> <span style="color: #808080;">|</span> sb教学部         <span style="color: #808080;">|</span> sb辅导学生学习，教授python课程 <span style="color: #808080;">|</span>
<span style="color: #808080;">|</span>  <span style="color: #800000; font-weight: bold;">2</span> <span style="color: #808080;">|</span> 外交部           <span style="color: #808080;">|</span> 形象大使                      <span style="color: #808080;">|</span>
<span style="color: #808080;">|</span>  <span style="color: #800000; font-weight: bold;">3</span> <span style="color: #808080;">|</span> nb技术部         <span style="color: #808080;">|</span> nb技术能力有限部门             <span style="color: #808080;">|</span>
<span style="color: #808080;">+</span><span style="color: #008080;">--</span><span style="color: #008080;">--+------------------+-------------------------------</span>
<span style="color: #0000ff;">insert</span> <span style="color: #0000ff;">into</span> emp(name,gender,dep_id)  <span style="color: #0000ff;">values</span><span style="color: #000000;">
(</span><span style="color: #ff0000;">'</span><span style="color: #ff0000;">alex</span><span style="color: #ff0000;">'</span>,<span style="color: #ff0000;">'</span><span style="color: #ff0000;">male</span><span style="color: #ff0000;">'</span>,<span style="color: #800000; font-weight: bold;">1</span><span style="color: #000000;">),
(</span><span style="color: #ff0000;">'</span><span style="color: #ff0000;">egon</span><span style="color: #ff0000;">'</span>,<span style="color: #ff0000;">'</span><span style="color: #ff0000;">male</span><span style="color: #ff0000;">'</span>,<span style="color: #800000; font-weight: bold;">2</span><span style="color: #000000;">),
(</span><span style="color: #ff0000;">'</span><span style="color: #ff0000;">lxx</span><span style="color: #ff0000;">'</span>,<span style="color: #ff0000;">'</span><span style="color: #ff0000;">male</span><span style="color: #ff0000;">'</span>,<span style="color: #800000; font-weight: bold;">1</span><span style="color: #000000;">),
(</span><span style="color: #ff0000;">'</span><span style="color: #ff0000;">wxx</span><span style="color: #ff0000;">'</span>,<span style="color: #ff0000;">'</span><span style="color: #ff0000;">male</span><span style="color: #ff0000;">'</span>,<span style="color: #800000; font-weight: bold;">1</span><span style="color: #000000;">),
(</span><span style="color: #ff0000;">'</span><span style="color: #ff0000;">wenzhou</span><span style="color: #ff0000;">'</span>,<span style="color: #ff0000;">'</span><span style="color: #ff0000;">female</span><span style="color: #ff0000;">'</span>,<span style="color: #800000; font-weight: bold;">3</span><span style="color: #000000;">);
mysql</span><span style="color: #808080;">&gt;</span> <span style="color: #0000ff;">select</span> <span style="color: #808080;">*</span> <span style="color: #0000ff;">from</span><span style="color: #000000;"> emp;
</span><span style="color: #808080;">+</span><span style="color: #008080;">--</span><span style="color: #008080;">--+------------------+--------+--------+</span>
<span style="color: #808080;">|</span> id <span style="color: #808080;">|</span> name             <span style="color: #808080;">|</span> gender <span style="color: #808080;">|</span> dep_id <span style="color: #808080;">|</span>
<span style="color: #808080;">+</span><span style="color: #008080;">--</span><span style="color: #008080;">--+------------------+--------+--------+</span>
<span style="color: #808080;">|</span>  <span style="color: #800000; font-weight: bold;">1</span> <span style="color: #808080;">|</span> alex             <span style="color: #808080;">|</span> male   <span style="color: #808080;">|</span>      <span style="color: #800000; font-weight: bold;">1</span> <span style="color: #808080;">|</span>
<span style="color: #808080;">|</span>  <span style="color: #800000; font-weight: bold;">2</span> <span style="color: #808080;">|</span> egon             <span style="color: #808080;">|</span> male   <span style="color: #808080;">|</span>      <span style="color: #800000; font-weight: bold;">2</span> <span style="color: #808080;">|</span>
<span style="color: #808080;">|</span>  <span style="color: #800000; font-weight: bold;">3</span> <span style="color: #808080;">|</span> lxx              <span style="color: #808080;">|</span> male   <span style="color: #808080;">|</span>      <span style="color: #800000; font-weight: bold;">1</span> <span style="color: #808080;">|</span>
<span style="color: #808080;">|</span>  <span style="color: #800000; font-weight: bold;">4</span> <span style="color: #808080;">|</span> wxx              <span style="color: #808080;">|</span> male   <span style="color: #808080;">|</span>      <span style="color: #800000; font-weight: bold;">1</span> <span style="color: #808080;">|</span>
<span style="color: #808080;">|</span>  <span style="color: #800000; font-weight: bold;">5</span> <span style="color: #808080;">|</span> wenzhou          <span style="color: #808080;">|</span> female <span style="color: #808080;">|</span>      <span style="color: #800000; font-weight: bold;">3</span> <span style="color: #808080;">|</span>
<span style="color: #808080;">+</span><span style="color: #008080;">--</span><span style="color: #008080;">--+------------------+--------+--------+</span>
<span style="color: #000000;">​
# 同步删除
mysql</span><span style="color: #808080;">&gt;</span> <span style="color: #0000ff;">delete</span> <span style="color: #0000ff;">from</span> dep <span style="color: #0000ff;">where</span> id<span style="color: #808080;">=</span><span style="color: #800000; font-weight: bold;">1</span><span style="color: #000000;">;
mysql</span><span style="color: #808080;">&gt;</span> <span style="color: #0000ff;">select</span> <span style="color: #808080;">*</span> <span style="color: #0000ff;">from</span><span style="color: #000000;"> dep;
</span><span style="color: #808080;">+</span><span style="color: #008080;">--</span><span style="color: #008080;">--+------------------+------------------</span>
<span style="color: #808080;">|</span> id <span style="color: #808080;">|</span> dep_name         <span style="color: #808080;">|</span> dep_comment     <span style="color: #808080;">|</span>
<span style="color: #808080;">+</span><span style="color: #008080;">--</span><span style="color: #008080;">--+------------------+------------------</span>
<span style="color: #808080;">|</span>  <span style="color: #800000; font-weight: bold;">2</span> <span style="color: #808080;">|</span> 外交部           <span style="color: #808080;">|</span> 形象大使          <span style="color: #808080;">|</span>
<span style="color: #808080;">|</span>  <span style="color: #800000; font-weight: bold;">3</span> <span style="color: #808080;">|</span> nb技术部         <span style="color: #808080;">|</span> nb技术能力有限部门 <span style="color: #808080;">|</span>
<span style="color: #808080;">+</span><span style="color: #008080;">--</span><span style="color: #008080;">--+------------------+------------------</span>
mysql<span style="color: #808080;">&gt;</span> <span style="color: #0000ff;">select</span> <span style="color: #808080;">*</span> <span style="color: #0000ff;">from</span><span style="color: #000000;"> emp;
</span><span style="color: #808080;">+</span><span style="color: #008080;">--</span><span style="color: #008080;">--+------------------+--------+--------+</span>
<span style="color: #808080;">|</span> id <span style="color: #808080;">|</span> name             <span style="color: #808080;">|</span> gender <span style="color: #808080;">|</span> dep_id <span style="color: #808080;">|</span>
<span style="color: #808080;">+</span><span style="color: #008080;">--</span><span style="color: #008080;">--+------------------+--------+--------+</span>
<span style="color: #808080;">|</span>  <span style="color: #800000; font-weight: bold;">2</span> <span style="color: #808080;">|</span> egon             <span style="color: #808080;">|</span> male   <span style="color: #808080;">|</span>      <span style="color: #800000; font-weight: bold;">2</span> <span style="color: #808080;">|</span>
<span style="color: #808080;">|</span>  <span style="color: #800000; font-weight: bold;">5</span> <span style="color: #808080;">|</span> wenzhou          <span style="color: #808080;">|</span> female <span style="color: #808080;">|</span>      <span style="color: #800000; font-weight: bold;">3</span> <span style="color: #808080;">|</span>
<span style="color: #808080;">+</span><span style="color: #008080;">--</span><span style="color: #008080;">--+------------------+--------+--------+</span>
<span style="color: #000000;">​
#同步更新
mysql</span><span style="color: #808080;">&gt;</span> <span style="color: #0000ff;">update</span> dep <span style="color: #0000ff;">set</span> id<span style="color: #808080;">=</span><span style="color: #800000; font-weight: bold;">200</span> <span style="color: #0000ff;">where</span> id <span style="color: #808080;">=</span><span style="color: #800000; font-weight: bold;">2</span><span style="color: #000000;">;
mysql</span><span style="color: #808080;">&gt;</span> <span style="color: #0000ff;">select</span> <span style="color: #808080;">*</span> <span style="color: #0000ff;">from</span><span style="color: #000000;"> dep;
</span><span style="color: #808080;">+</span><span style="color: #008080;">--</span><span style="color: #008080;">---+------------------+----------------</span>
<span style="color: #808080;">|</span> id  <span style="color: #808080;">|</span> dep_name         <span style="color: #808080;">|</span> dep_comment   <span style="color: #808080;">|</span>
<span style="color: #808080;">+</span><span style="color: #008080;">--</span><span style="color: #008080;">---+------------------+----------------</span>
<span style="color: #808080;">|</span>   <span style="color: #800000; font-weight: bold;">3</span> <span style="color: #808080;">|</span> nb技术部         <span style="color: #808080;">|</span> nb技术能力有限部<span style="color: #808080;">|</span>
<span style="color: #808080;">|</span> <span style="color: #800000; font-weight: bold;">200</span> <span style="color: #808080;">|</span> 外交部           <span style="color: #808080;">|</span> 形象大使        <span style="color: #808080;">|</span>
<span style="color: #808080;">+</span><span style="color: #008080;">--</span><span style="color: #008080;">---+------------------+----------------</span>
mysql<span style="color: #808080;">&gt;</span> <span style="color: #0000ff;">select</span> <span style="color: #808080;">*</span> <span style="color: #0000ff;">from</span><span style="color: #000000;"> emp;
</span><span style="color: #808080;">+</span><span style="color: #008080;">--</span><span style="color: #008080;">--+------------------+--------+--------+</span>
<span style="color: #808080;">|</span> id <span style="color: #808080;">|</span> name             <span style="color: #808080;">|</span> gender <span style="color: #808080;">|</span> dep_id <span style="color: #808080;">|</span>
<span style="color: #808080;">+</span><span style="color: #008080;">--</span><span style="color: #008080;">--+------------------+--------+--------+</span>
<span style="color: #808080;">|</span>  <span style="color: #800000; font-weight: bold;">2</span> <span style="color: #808080;">|</span> egon             <span style="color: #808080;">|</span> male   <span style="color: #808080;">|</span>    <span style="color: #800000; font-weight: bold;">200</span> <span style="color: #808080;">|</span>
<span style="color: #808080;">|</span>  <span style="color: #800000; font-weight: bold;">5</span> <span style="color: #808080;">|</span> wenzhou          <span style="color: #808080;">|</span> female <span style="color: #808080;">|</span>      <span style="color: #800000; font-weight: bold;">3</span> <span style="color: #808080;">|</span>
<span style="color: #808080;">+</span><span style="color: #008080;">--</span><span style="color: #008080;">--+------------------+--------+--------+</span></pre>
</div>
<span class="cnblogs_code_collapse">View Code</span></div>
<h4 class="md-end-block md-heading"><span class="md-plain">10.72 多对多(foreign key)</span></h4>
<p class="md-end-block md-p"><span class="md-plain">1、什么是多对多<span class="md-softbreak"> <span class="md-plain">两张表之间是一个双向的多对一关系，称之为多对多<span class="md-softbreak"> <span class="md-plain">2、如何实现？<span class="md-softbreak"> <span class="md-plain">建立第三张表，该表中有一个字段是fk左表的id，还有一个字段是fk右表的id</span></span></span></span></span></span></span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">create</span> <span style="color: #0000ff;">table</span><span style="color: #000000;"> author(
    id </span><span style="color: #0000ff;">int</span> <span style="color: #0000ff;">primary</span> <span style="color: #0000ff;">key</span><span style="color: #000000;"> auto_increment,
    name </span><span style="color: #0000ff;">char</span>(<span style="color: #800000; font-weight: bold;">16</span><span style="color: #000000;">));
</span><span style="color: #0000ff;">create</span> <span style="color: #0000ff;">table</span><span style="color: #000000;"> book(
    id </span><span style="color: #0000ff;">int</span> <span style="color: #0000ff;">primary</span> <span style="color: #0000ff;">key</span><span style="color: #000000;"> auto_increment,
    bname </span><span style="color: #0000ff;">char</span>(<span style="color: #800000; font-weight: bold;">16</span><span style="color: #000000;">),
    price </span><span style="color: #0000ff;">int</span><span style="color: #000000;">);
</span><span style="color: #0000ff;">insert</span> <span style="color: #0000ff;">into</span> author(name) <span style="color: #0000ff;">values</span><span style="color: #000000;">
(</span><span style="color: #ff0000;">'</span><span style="color: #ff0000;">egon</span><span style="color: #ff0000;">'</span><span style="color: #000000;">),
(</span><span style="color: #ff0000;">'</span><span style="color: #ff0000;">alex</span><span style="color: #ff0000;">'</span><span style="color: #000000;">),
(</span><span style="color: #ff0000;">'</span><span style="color: #ff0000;">wxx</span><span style="color: #ff0000;">'</span><span style="color: #000000;">);
mysql</span><span style="color: #808080;">&gt;</span> <span style="color: #0000ff;">select</span> <span style="color: #808080;">*</span> <span style="color: #0000ff;">from</span><span style="color: #000000;"> author;
</span><span style="color: #808080;">+</span><span style="color: #008080;">--</span><span style="color: #008080;">--+------+</span>
<span style="color: #808080;">|</span> id <span style="color: #808080;">|</span> name <span style="color: #808080;">|</span>
<span style="color: #808080;">+</span><span style="color: #008080;">--</span><span style="color: #008080;">--+------+</span>
<span style="color: #808080;">|</span>  <span style="color: #800000; font-weight: bold;">1</span> <span style="color: #808080;">|</span> egon <span style="color: #808080;">|</span>
<span style="color: #808080;">|</span>  <span style="color: #800000; font-weight: bold;">2</span> <span style="color: #808080;">|</span> alex <span style="color: #808080;">|</span>
<span style="color: #808080;">|</span>  <span style="color: #800000; font-weight: bold;">3</span> <span style="color: #808080;">|</span> wxx  <span style="color: #808080;">|</span>
<span style="color: #808080;">+</span><span style="color: #008080;">--</span><span style="color: #008080;">--+------+</span>
<span style="color: #0000ff;">insert</span> <span style="color: #0000ff;">into</span> book(bname,price) <span style="color: #0000ff;">values</span><span style="color: #000000;">
(</span><span style="color: #ff0000;">'</span><span style="color: #ff0000;">python从入门到入土</span><span style="color: #ff0000;">'</span>,<span style="color: #800000; font-weight: bold;">200</span><span style="color: #000000;">),
(</span><span style="color: #ff0000;">'</span><span style="color: #ff0000;">葵花宝典切割到精通</span><span style="color: #ff0000;">'</span>,<span style="color: #800000; font-weight: bold;">800</span><span style="color: #000000;">),
(</span><span style="color: #ff0000;">'</span><span style="color: #ff0000;">九阴真经</span><span style="color: #ff0000;">'</span>,<span style="color: #800000; font-weight: bold;">500</span><span style="color: #000000;">),
(</span><span style="color: #ff0000;">'</span><span style="color: #ff0000;">九阳神功</span><span style="color: #ff0000;">'</span>,<span style="color: #800000; font-weight: bold;">100</span><span style="color: #000000;">);
mysql</span><span style="color: #808080;">&gt;</span> <span style="color: #0000ff;">select</span> <span style="color: #808080;">*</span> <span style="color: #0000ff;">from</span><span style="color: #000000;"> book;
</span><span style="color: #808080;">+</span><span style="color: #008080;">--</span><span style="color: #008080;">--+-----------------------------+-------+</span>
<span style="color: #808080;">|</span> id <span style="color: #808080;">|</span> bname                       <span style="color: #808080;">|</span> price <span style="color: #808080;">|</span>
<span style="color: #808080;">+</span><span style="color: #008080;">--</span><span style="color: #008080;">--+-----------------------------+-------+</span>
<span style="color: #808080;">|</span>  <span style="color: #800000; font-weight: bold;">1</span> <span style="color: #808080;">|</span> python从入门到入土          <span style="color: #808080;">|</span>   <span style="color: #800000; font-weight: bold;">200</span> <span style="color: #808080;">|</span>
<span style="color: #808080;">|</span>  <span style="color: #800000; font-weight: bold;">2</span> <span style="color: #808080;">|</span> 葵花宝典切割到精通           <span style="color: #808080;">|</span>   <span style="color: #800000; font-weight: bold;">800</span> <span style="color: #808080;">|</span>
<span style="color: #808080;">|</span>  <span style="color: #800000; font-weight: bold;">3</span> <span style="color: #808080;">|</span> 九阴真经                    <span style="color: #808080;">|</span>   <span style="color: #800000; font-weight: bold;">500</span> <span style="color: #808080;">|</span>
<span style="color: #808080;">|</span>  <span style="color: #800000; font-weight: bold;">4</span> <span style="color: #808080;">|</span> 九阳神功                    <span style="color: #808080;">|</span>   <span style="color: #800000; font-weight: bold;">100</span> <span style="color: #808080;">|</span>
<span style="color: #808080;">+</span><span style="color: #008080;">--</span><span style="color: #008080;">--+-----------------------------+-------+</span>
<span style="color: #0000ff;">create</span> <span style="color: #0000ff;">table</span><span style="color: #000000;"> author2book(
    id </span><span style="color: #0000ff;">int</span> <span style="color: #0000ff;">primary</span> <span style="color: #0000ff;">key</span><span style="color: #000000;"> auto_increment,
    author_id </span><span style="color: #0000ff;">int</span><span style="color: #000000;">,
    book_id </span><span style="color: #0000ff;">int</span><span style="color: #000000;">,
    </span><span style="color: #0000ff;">foreign</span> <span style="color: #0000ff;">key</span>(author_id) <span style="color: #0000ff;">references</span> author(id) <span style="color: #0000ff;">on</span> <span style="color: #0000ff;">update</span> <span style="color: #0000ff;">cascade</span> <span style="color: #0000ff;">on</span> <span style="color: #0000ff;">delete</span> <span style="color: #0000ff;">cascade</span><span style="color: #000000;">,
    </span><span style="color: #0000ff;">foreign</span> <span style="color: #0000ff;">key</span>(book_id) <span style="color: #0000ff;">references</span> book(id) <span style="color: #0000ff;">on</span> <span style="color: #0000ff;">update</span> <span style="color: #0000ff;">cascade</span> <span style="color: #0000ff;">on</span> <span style="color: #0000ff;">delete</span> <span style="color: #0000ff;">cascade</span><span style="color: #000000;">);
</span><span style="color: #0000ff;">insert</span> <span style="color: #0000ff;">into</span> author2book(author_id,book_id) <span style="color: #0000ff;">values</span><span style="color: #000000;">
(</span><span style="color: #800000; font-weight: bold;">1</span>,<span style="color: #800000; font-weight: bold;">3</span>),(<span style="color: #800000; font-weight: bold;">1</span>,<span style="color: #800000; font-weight: bold;">4</span>),(<span style="color: #800000; font-weight: bold;">2</span>,<span style="color: #800000; font-weight: bold;">2</span>),(<span style="color: #800000; font-weight: bold;">2</span>,<span style="color: #800000; font-weight: bold;">4</span>),(<span style="color: #800000; font-weight: bold;">3</span>,<span style="color: #800000; font-weight: bold;">1</span>),(<span style="color: #800000; font-weight: bold;">3</span>,<span style="color: #800000; font-weight: bold;">2</span>),(<span style="color: #800000; font-weight: bold;">3</span>,<span style="color: #800000; font-weight: bold;">3</span>),(<span style="color: #800000; font-weight: bold;">3</span>,<span style="color: #800000; font-weight: bold;">4</span><span style="color: #000000;">);
mysql</span><span style="color: #808080;">&gt;</span> <span style="color: #0000ff;">select</span> <span style="color: #808080;">*</span> <span style="color: #0000ff;">from</span><span style="color: #000000;"> author2book;
</span><span style="color: #808080;">+</span><span style="color: #008080;">--</span><span style="color: #008080;">--+-----------+---------+</span>
<span style="color: #808080;">|</span> id <span style="color: #808080;">|</span> author_id <span style="color: #808080;">|</span> book_id <span style="color: #808080;">|</span>
<span style="color: #808080;">+</span><span style="color: #008080;">--</span><span style="color: #008080;">--+-----------+---------+</span>
<span style="color: #808080;">|</span>  <span style="color: #800000; font-weight: bold;">1</span> <span style="color: #808080;">|</span>         <span style="color: #800000; font-weight: bold;">1</span> <span style="color: #808080;">|</span>       <span style="color: #800000; font-weight: bold;">3</span> <span style="color: #808080;">|</span>
<span style="color: #808080;">|</span>  <span style="color: #800000; font-weight: bold;">2</span> <span style="color: #808080;">|</span>         <span style="color: #800000; font-weight: bold;">1</span> <span style="color: #808080;">|</span>       <span style="color: #800000; font-weight: bold;">4</span> <span style="color: #808080;">|</span>
<span style="color: #808080;">|</span>  <span style="color: #800000; font-weight: bold;">3</span> <span style="color: #808080;">|</span>         <span style="color: #800000; font-weight: bold;">2</span> <span style="color: #808080;">|</span>       <span style="color: #800000; font-weight: bold;">2</span> <span style="color: #808080;">|</span>
<span style="color: #808080;">|</span>  <span style="color: #800000; font-weight: bold;">4</span> <span style="color: #808080;">|</span>         <span style="color: #800000; font-weight: bold;">2</span> <span style="color: #808080;">|</span>       <span style="color: #800000; font-weight: bold;">4</span> <span style="color: #808080;">|</span>
<span style="color: #808080;">|</span>  <span style="color: #800000; font-weight: bold;">5</span> <span style="color: #808080;">|</span>         <span style="color: #800000; font-weight: bold;">3</span> <span style="color: #808080;">|</span>       <span style="color: #800000; font-weight: bold;">1</span> <span style="color: #808080;">|</span>
<span style="color: #808080;">|</span>  <span style="color: #800000; font-weight: bold;">6</span> <span style="color: #808080;">|</span>         <span style="color: #800000; font-weight: bold;">3</span> <span style="color: #808080;">|</span>       <span style="color: #800000; font-weight: bold;">2</span> <span style="color: #808080;">|</span>
<span style="color: #808080;">|</span>  <span style="color: #800000; font-weight: bold;">7</span> <span style="color: #808080;">|</span>         <span style="color: #800000; font-weight: bold;">3</span> <span style="color: #808080;">|</span>       <span style="color: #800000; font-weight: bold;">3</span> <span style="color: #808080;">|</span>
<span style="color: #808080;">|</span>  <span style="color: #800000; font-weight: bold;">8</span> <span style="color: #808080;">|</span>         <span style="color: #800000; font-weight: bold;">3</span> <span style="color: #808080;">|</span>       <span style="color: #800000; font-weight: bold;">4</span> <span style="color: #808080;">|</span>
<span style="color: #808080;">+</span><span style="color: #008080;">--</span><span style="color: #008080;">--+-----------+---------+</span></pre>
</div>
<h4 class="md-end-block md-heading"><span class="md-plain">10.73 一对一(unique+foreign key)</span></h4>
<div class="cnblogs_code">
<pre><code><span style="color: #000000;">一对一：左表的一条记录唯一对应右表的一条记录，反之也一样

</span><span style="color: #0000ff;">create</span> <span style="color: #0000ff;">table</span><span style="color: #000000;"> customer(                              #先建被参照的表
    id </span><span style="color: #0000ff;">int</span> <span style="color: #0000ff;">primary</span> <span style="color: #0000ff;">key</span><span style="color: #000000;"> auto_increment,
    name </span><span style="color: #0000ff;">char</span>(<span style="color: #800000; font-weight: bold;">20</span>) <span style="color: #808080;">not</span> <span style="color: #0000ff;">null</span><span style="color: #000000;">,
    qq </span><span style="color: #0000ff;">char</span>(<span style="color: #800000; font-weight: bold;">10</span>) <span style="color: #808080;">not</span> <span style="color: #0000ff;">null</span><span style="color: #000000;">,
    phone </span><span style="color: #0000ff;">char</span>(<span style="color: #800000; font-weight: bold;">16</span>) <span style="color: #808080;">not</span> <span style="color: #0000ff;">null</span><span style="color: #000000;">);
</span><span style="color: #0000ff;">create</span> <span style="color: #0000ff;">table</span><span style="color: #000000;"> student(
    id </span><span style="color: #0000ff;">int</span> <span style="color: #0000ff;">primary</span> <span style="color: #0000ff;">key</span><span style="color: #000000;"> auto_increment,
    class_name </span><span style="color: #0000ff;">char</span>(<span style="color: #800000; font-weight: bold;">20</span>) <span style="color: #808080;">not</span> <span style="color: #0000ff;">null</span><span style="color: #000000;">,
    customer_id </span><span style="color: #0000ff;">int</span> <span style="color: #0000ff;">unique</span><span style="color: #000000;">,                        #该字段一定要是唯一的,一对一
    </span><span style="color: #0000ff;">foreign</span> <span style="color: #0000ff;">key</span>(customer_id) <span style="color: #0000ff;">references</span><span style="color: #000000;"> customer(id) #外键的字段一定要保证unique
    </span><span style="color: #0000ff;">on</span> <span style="color: #0000ff;">delete</span> <span style="color: #0000ff;">cascade</span> <span style="color: #0000ff;">on</span> <span style="color: #0000ff;">update</span> <span style="color: #0000ff;">cascade</span><span style="color: #000000;">);
</span><span style="color: #0000ff;">insert</span> <span style="color: #0000ff;">into</span> customer(name,qq,phone) <span style="color: #0000ff;">values</span><span style="color: #000000;">
(</span><span style="color: #ff0000;">'</span><span style="color: #ff0000;">李飞机</span><span style="color: #ff0000;">'</span>,<span style="color: #ff0000;">'</span><span style="color: #ff0000;">31811231</span><span style="color: #ff0000;">'</span>,<span style="color: #800000; font-weight: bold;">13811341220</span><span style="color: #000000;">),
(</span><span style="color: #ff0000;">'</span><span style="color: #ff0000;">王大炮</span><span style="color: #ff0000;">'</span>,<span style="color: #ff0000;">'</span><span style="color: #ff0000;">123123123</span><span style="color: #ff0000;">'</span>,<span style="color: #800000; font-weight: bold;">15213146809</span><span style="color: #000000;">),
(</span><span style="color: #ff0000;">'</span><span style="color: #ff0000;">守榴弹</span><span style="color: #ff0000;">'</span>,<span style="color: #ff0000;">'</span><span style="color: #ff0000;">283818181</span><span style="color: #ff0000;">'</span>,<span style="color: #800000; font-weight: bold;">1867141331</span><span style="color: #000000;">),
(</span><span style="color: #ff0000;">'</span><span style="color: #ff0000;">吴坦克</span><span style="color: #ff0000;">'</span>,<span style="color: #ff0000;">'</span><span style="color: #ff0000;">283818181</span><span style="color: #ff0000;">'</span>,<span style="color: #800000; font-weight: bold;">1851143312</span><span style="color: #000000;">),
(</span><span style="color: #ff0000;">'</span><span style="color: #ff0000;">赢火箭</span><span style="color: #ff0000;">'</span>,<span style="color: #ff0000;">'</span><span style="color: #ff0000;">888818181</span><span style="color: #ff0000;">'</span>,<span style="color: #800000; font-weight: bold;">1861243314</span><span style="color: #000000;">),
(</span><span style="color: #ff0000;">'</span><span style="color: #ff0000;">战地雷</span><span style="color: #ff0000;">'</span>,<span style="color: #ff0000;">'</span><span style="color: #ff0000;">112312312</span><span style="color: #ff0000;">'</span>,<span style="color: #800000; font-weight: bold;">18811431230</span><span style="color: #000000;">);
mysql</span><span style="color: #808080;">&gt;</span> <span style="color: #0000ff;">select</span> <span style="color: #808080;">*</span> <span style="color: #0000ff;">from</span><span style="color: #000000;"> customer;
</span><span style="color: #808080;">+</span><span style="color: #008080;">--</span><span style="color: #008080;">--+-----------+-----------+-------------+</span>
<span style="color: #808080;">|</span> id <span style="color: #808080;">|</span> name      <span style="color: #808080;">|</span> qq        <span style="color: #808080;">|</span> phone       <span style="color: #808080;">|</span>
<span style="color: #808080;">+</span><span style="color: #008080;">--</span><span style="color: #008080;">--+-----------+-----------+-------------+</span>
<span style="color: #808080;">|</span>  <span style="color: #800000; font-weight: bold;">1</span> <span style="color: #808080;">|</span> 李飞机    <span style="color: #808080;">|</span> <span style="color: #800000; font-weight: bold;">31811231</span>  <span style="color: #808080;">|</span> <span style="color: #800000; font-weight: bold;">13811341220</span> <span style="color: #808080;">|</span>
<span style="color: #808080;">|</span>  <span style="color: #800000; font-weight: bold;">2</span> <span style="color: #808080;">|</span> 王大炮    <span style="color: #808080;">|</span> <span style="color: #800000; font-weight: bold;">123123123</span> <span style="color: #808080;">|</span> <span style="color: #800000; font-weight: bold;">15213146809</span> <span style="color: #808080;">|</span>
<span style="color: #808080;">|</span>  <span style="color: #800000; font-weight: bold;">3</span> <span style="color: #808080;">|</span> 守榴弹    <span style="color: #808080;">|</span> <span style="color: #800000; font-weight: bold;">283818181</span> <span style="color: #808080;">|</span> <span style="color: #800000; font-weight: bold;">1867141331</span>  <span style="color: #808080;">|</span>
<span style="color: #808080;">|</span>  <span style="color: #800000; font-weight: bold;">4</span> <span style="color: #808080;">|</span> 吴坦克    <span style="color: #808080;">|</span> <span style="color: #800000; font-weight: bold;">283818181</span> <span style="color: #808080;">|</span> <span style="color: #800000; font-weight: bold;">1851143312</span>  <span style="color: #808080;">|</span>
<span style="color: #808080;">|</span>  <span style="color: #800000; font-weight: bold;">5</span> <span style="color: #808080;">|</span> 赢火箭    <span style="color: #808080;">|</span> <span style="color: #800000; font-weight: bold;">888818181</span> <span style="color: #808080;">|</span> <span style="color: #800000; font-weight: bold;">1861243314</span>  <span style="color: #808080;">|</span>
<span style="color: #808080;">|</span>  <span style="color: #800000; font-weight: bold;">6</span> <span style="color: #808080;">|</span> 战地雷    <span style="color: #808080;">|</span> <span style="color: #800000; font-weight: bold;">112312312</span> <span style="color: #808080;">|</span> <span style="color: #800000; font-weight: bold;">18811431230</span> <span style="color: #808080;">|</span>
<span style="color: #808080;">+</span><span style="color: #008080;">--</span><span style="color: #008080;">--+-----------+-----------+-------------+</span>
<span style="color: #0000ff;">insert</span> <span style="color: #0000ff;">into</span> student(class_name,customer_id) <span style="color: #0000ff;">values</span><span style="color: #000000;">
(</span><span style="color: #ff0000;">'</span><span style="color: #ff0000;">python</span><span style="color: #ff0000;">'</span>,<span style="color: #800000; font-weight: bold;">3</span>),(<span style="color: #ff0000;">'</span><span style="color: #ff0000;">java</span><span style="color: #ff0000;">'</span>,<span style="color: #800000; font-weight: bold;">4</span>),(<span style="color: #ff0000;">'</span><span style="color: #ff0000;">c++</span><span style="color: #ff0000;">'</span>,<span style="color: #800000; font-weight: bold;">5</span><span style="color: #000000;">);
mysql</span><span style="color: #808080;">&gt;</span> <span style="color: #0000ff;">select</span> <span style="color: #808080;">*</span> <span style="color: #0000ff;">from</span><span style="color: #000000;"> student;
</span><span style="color: #808080;">+</span><span style="color: #008080;">--</span><span style="color: #008080;">--+-------------+-------------+</span>
<span style="color: #808080;">|</span> id <span style="color: #808080;">|</span> class_name  <span style="color: #808080;">|</span> customer_id <span style="color: #808080;">|</span>
<span style="color: #808080;">+</span><span style="color: #008080;">--</span><span style="color: #008080;">--+-------------+-------------+</span>
<span style="color: #808080;">|</span>  <span style="color: #800000; font-weight: bold;">1</span> <span style="color: #808080;">|</span> python     <span style="color: #808080;">|</span>           <span style="color: #800000; font-weight: bold;">3</span> <span style="color: #808080;">|</span>
<span style="color: #808080;">|</span>  <span style="color: #800000; font-weight: bold;">2</span> <span style="color: #808080;">|</span> java       <span style="color: #808080;">|</span>           <span style="color: #800000; font-weight: bold;">4</span> <span style="color: #808080;">|</span>
<span style="color: #808080;">|</span>  <span style="color: #800000; font-weight: bold;">3</span> <span style="color: #808080;">|</span> c<span style="color: #808080;">++</span>        <span style="color: #808080;">|</span>           <span style="color: #800000; font-weight: bold;">5</span> <span style="color: #808080;">|</span>
<span style="color: #808080;">+</span><span style="color: #008080;">--</span><span style="color: #008080;">--+-------------+-------------+</span></pre>
</div>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>