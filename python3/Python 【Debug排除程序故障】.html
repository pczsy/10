<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修Python 【Debug排除程序故障】' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>Python 【Debug排除程序故障】</center></div><div class='banquan'>原文出处:本文由博客园博主CH-TNT提供。<br/>
原文连接:https://www.cnblogs.com/CH-TNT/p/11332518.html</div><br>
    <p><span style="font-family: 黑体; font-size: 16px;">debug #排除程序故障</span></p>
<p><span style="font-family: 黑体; font-size: 16px;">print()函数常和#号注释结合在一起用来debug</span></p>
<p><span style="font-family: 黑体; font-size: 16px;">多行注释有两种快捷操作：</span><br /><span style="font-family: 黑体; font-size: 16px;">1、在需要注释的多行代码块前后加一组三引号''' </span><br /><span style="font-family: 黑体; font-size: 16px;">2、选中代码后使用快捷键操作：Windows快捷键是ctrl+/，Mac为cmd+/，适用于本地编辑器）</span></p>
<p><span style="font-family: 黑体; font-size: 16px;">一种异常处理的机制，可以在异常出现时即时捕获，然后内部消化掉，让程序继续运行</span><br /><span style="font-family: 黑体; font-size: 16px;">try&hellip;except&hellip;语句</span></p>
<p><span style="font-family: 黑体; font-size: 16px;"><img src="./images/Python 【Debug排除程序故障】0.png" alt="" width="646" height="448" /></span></p>
<p>&nbsp;</p>
<p><span style="font-family: 黑体; font-size: 16px;">Python的所有报错类型</span><br /><a href="https://www.runoob.com/python/python-exceptions.html" target="_blank"><span style="font-family: 黑体; font-size: 16px;">https://www.runoob.com/python/python-exceptions.html</span></a><br /><span style="font-family: 黑体; font-size: 16px;">####################################################################################</span><br /><span style="font-family: 黑体; font-size: 16px;">总结</span><br /><span style="font-family: 黑体; font-size: 16px;">针对知识点不熟造成的bug，要记得多复习，查阅笔记，针对性地做练习掌握用法。</span></p>
<p><span style="font-family: 黑体; font-size: 16px;">针对思维不清的bug，要多用print()函数和#注释一步步地排查错误。</span></p>
<p><span style="font-family: 黑体; font-size: 16px;">针对容易被忽略的例外情况从而被动掉坑的bug，可以用try...except语句让程序顺利运行。</span></p>
<p><img src="./images/Python 【Debug排除程序故障】1.png" alt="" /></p>
<p>&nbsp;</p>
<p><img src="./images/Python 【Debug排除程序故障】2.png" alt="" /></p>
<p><img src="./images/Python 【Debug排除程序故障】3.png" alt="" /></p>
<p>&nbsp;</p>
<p><br /><span style="font-family: 黑体; font-size: 16px;">###################################################################################</span><br /><span style="font-family: 黑体; font-size: 16px;">BaseException: 包含所有built-in exceptions</span><br /><span style="font-family: 黑体; font-size: 16px;">所有内置异常的基类</span><br /><span style="font-family: 黑体; font-size: 16px;">它不应该被用户自定义类直接继承</span></p>
<p><span style="font-family: 黑体; font-size: 16px;">Exception: 不包含所有的built-in exceptions，</span><br /><span style="font-family: 黑体; font-size: 16px;">只包含built-in, non-system-exiting exceptions，</span><br /><span style="font-family: 黑体; font-size: 16px;">像SystemExit类型的exception就不包含在里面。</span></p>
<p><span style="font-family: 黑体; font-size: 16px;">所有内置的非系统退出类异常都派生自此类。 所有用户自定义异常也应当派生自此类</span></p>
<p><span style="font-family: 黑体; font-size: 16px;">###############################################################################</span><br /><span style="font-family: 黑体; font-size: 16px;">try...except语句的用法(可带多个)</span><br /><span style="font-family: 黑体; font-size: 16px;">try语句工作方式</span><br /><span style="font-family: 黑体; font-size: 16px;">1.执行try子句（在关键字try和关键字except之间的语句）</span></p>
<p><span style="font-family: 黑体; font-size: 16px;">2.如果没有异常发生，忽略except子句，try子句执行后结束。</span></p>
<p><span style="font-family: 黑体; font-size: 16px;">3.执行try子句异常，try子句余下的部分将被忽略</span><br /><span style="font-family: 黑体; font-size: 16px;">如果异常类型except 之后的名称相符，那么对应的except子句将被执行。</span><br /><span style="font-family: 黑体; font-size: 16px;">最后执行 try 语句之后的代码。</span></p>
<p><span style="font-family: 黑体; font-size: 16px;">4.如果一个异常没有与任何的except匹配，那么这个异常将会传递给上层的try中&nbsp;</span><br /><span style="font-family: 黑体; font-size: 16px;">##############################################################################</span><br /><span style="font-family: 黑体; font-size: 16px;">try except 语句还有一个可选的else子句</span><br /><span style="font-family: 黑体; font-size: 16px;">使用这个子句，那么必须放在所有的except子句之后。</span><br /><span style="font-family: 黑体; font-size: 16px;">这个子句将在try子句没有发生任何异常的时候执行</span></p>
<div class="cnblogs_code">
<pre><code>name =<span style="color: #000000;"> 0
</span><span style="color: #0000ff;">try</span><span style="color: #000000;">:
    </span><span style="color: #0000ff;">print</span><span style="color: #000000;">(name)
</span><span style="color: #0000ff;">except</span><span style="color: #000000;"> NameError as a:
    </span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">'</span><span style="color: #800000;">------&gt;</span><span style="color: #800000;">'</span><span style="color: #000000;">,a)
</span><span style="color: #0000ff;">else</span><span style="color: #000000;">:
    </span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">'</span><span style="color: #800000;">在被检测代码块没有发生异常时执行</span><span style="color: #800000;">'</span>)</pre>
</div>
<p><span style="font-family: 黑体; font-size: 16px;">优点：</span></p>
<p><span style="font-family: 黑体; font-size: 16px;">else 子句比把所有的语句都放在 try 子句里面要好，</span><br /><span style="font-family: 黑体; font-size: 16px;">这样可以避免一些意想不到的、而except又没有捕获的异常</span><br /><br /><span style="font-family: 黑体; font-size: 16px;">try:</span><br /><span style="font-family: 黑体; font-size: 16px;">    　　name</span><br /><span style="font-family: 黑体; font-size: 16px;">except NameError as a:   #定制什么类型的异常 as </span><br /><span style="font-family: 黑体; font-size: 16px;">    　　print('------&gt;',a)</span><br />#################################################################################<br /><span style="font-family: 黑体; font-size: 16px;">不管 try 子句里面有没有发生异常，finally 子句都会执行</span><br /><span style="font-family: 黑体; font-size: 16px;">如果一个异常在 try 子句里（或者在 except 和 else 子句里）被抛出，</span><br /><span style="font-family: 黑体; font-size: 16px;">而又没有任何的 except 把它截住，那么这个异常会在 finally 子句执行后被抛出。</span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">try</span><span style="color: #000000;">:
    d </span>=<span style="color: #000000;"> {}
    d[</span><span style="color: #800000;">'</span><span style="color: #800000;">name</span><span style="color: #800000;">'</span><span style="color: #000000;">]
</span><span style="color: #0000ff;">except</span><span style="color: #000000;"> Exception as e:
        </span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">'</span><span style="color: #800000;">----&gt;</span><span style="color: #800000;">'</span><span style="color: #000000;">, e)
</span><span style="color: #0000ff;">else</span><span style="color: #000000;">:
    </span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">'</span><span style="color: #800000;">在被检测代码块没有发生异常时执行</span><span style="color: #800000;">'</span><span style="color: #000000;">)
</span><span style="color: #0000ff;">finally</span><span style="color: #000000;">:
    </span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">'</span><span style="color: #800000;">不管被检测的代码块有没有发生异常都会执行</span><span style="color: #800000;">'</span><span style="color: #000000;">)
</span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">'</span><span style="color: #800000;">haha</span><span style="color: #800000;">'</span>)</pre>
</div>
<p><span style="font-family: 黑体; font-size: 16px;">执行结果：</span><br /><span style="font-family: 黑体; font-size: 16px;">----&gt; 'name'</span><br /><span style="font-family: 黑体; font-size: 16px;">不管被检测的代码块有没有发生异常都会执行</span><br /><span style="font-family: 黑体; font-size: 16px;">haha</span><br />###################################################################</p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">import</span><span style="color: #000000;"> sys
</span><span style="color: #0000ff;">def</span><span style="color: #000000;"> main():
    </span>1/<span style="color: #000000;">0
name </span>=<span style="color: #000000;"> 0
</span><span style="color: #0000ff;">try</span><span style="color: #000000;">:
    </span><span style="color: #0000ff;">print</span><span style="color: #000000;">(name)
    main()
</span><span style="color: #0000ff;">except</span><span style="color: #000000;"> NameError as a:
    </span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">'</span><span style="color: #800000;">------&gt;</span><span style="color: #800000;">'</span><span style="color: #000000;">,a)
</span><span style="color: #0000ff;">except</span>:                                     <span style="color: #008000;">#</span><span style="color: #008000;">最后一个except子句可以忽略异常的名称，它将被当作通配符使用</span>
    <span style="color: #0000ff;">print</span>(<span style="color: #800000;">'</span><span style="color: #800000;">Unexpected error:</span><span style="color: #800000;">'</span>,sys.exc_info()[0])</pre>
</div>
<p>&nbsp;</p>
<div class="cnblogs_code">
<pre><code><span style="color: #000000;">列子：
</span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">'</span><span style="color: #800000;">\n欢迎使用除法计算器！\n</span><span style="color: #800000;">'</span><span style="color: #000000;">)

</span><span style="color: #0000ff;">while</span><span style="color: #000000;"> True:
    </span><span style="color: #0000ff;">try</span><span style="color: #000000;">:
        x </span>= input(<span style="color: #800000;">'</span><span style="color: #800000;">请你输入被除数：</span><span style="color: #800000;">'</span><span style="color: #000000;">)
        y </span>= input(<span style="color: #800000;">'</span><span style="color: #800000;">请你输入除数：</span><span style="color: #800000;">'</span><span style="color: #000000;">)
        z </span>= float(x)/<span style="color: #000000;">float(y)
        </span><span style="color: #0000ff;">print</span>(x,<span style="color: #800000;">'</span><span style="color: #800000;">/</span><span style="color: #800000;">'</span>,y,<span style="color: #800000;">'</span><span style="color: #800000;">=</span><span style="color: #800000;">'</span><span style="color: #000000;">,z)
        </span><span style="color: #0000ff;">break</span>  <span style="color: #008000;">#</span><span style="color: #008000;"> 默认每次只计算一次，所以在这里写了 break。</span>
    <span style="color: #0000ff;">except</span> ZeroDivisionError:  <span style="color: #008000;">#</span><span style="color: #008000;"> 当除数为0时，跳出提示，重新输入。</span>
        <span style="color: #0000ff;">print</span>(<span style="color: #800000;">'</span><span style="color: #800000;">0是不能做除数的！</span><span style="color: #800000;">'</span><span style="color: #000000;">)
    </span><span style="color: #0000ff;">except</span> ValueError:  <span style="color: #008000;">#</span><span style="color: #008000;"> 当除数或被除数中有一个无法转换成浮点数时，跳出提示，重新输入。</span>
        <span style="color: #0000ff;">print</span>(<span style="color: #800000;">'</span><span style="color: #800000;">除数和被除数都应该是整值或浮点数！</span><span style="color: #800000;">'</span>)</pre>
</div>
<p>&nbsp;</p>
<p><span style="font-family: 黑体; font-size: 16px;">############################################################################################################################</span></p>
<p><span style="font-family: 黑体; font-size: 16px;"># 方式2：将两个（或多个）异常放在一起，只要触发其中一个，就执行所包含的代码。</span><br /><span style="font-family: 黑体; font-size: 16px;"># except(ZeroDivisionError,ValueError): 　　  #except子句可以同时处理多个异常，这些异常将被放在一个括号里成为一个元组</span><br /><span style="font-family: 黑体; font-size: 16px;">　　&nbsp;#print('你的输入有误，请重新输入！')</span><br />    <br /><span style="font-family: 黑体; font-size: 16px;"># 方式3：常规错误的基类，假设不想提供很精细的提示，可以用这个语句响应常规错误。</span><br /><span style="font-family: 黑体; font-size: 16px;"># except Exception: 　　　　　　　　　　 　　 #except BaseException:</span><br /><span style="font-family: 黑体; font-size: 16px;">　　#     print('你的输入有误，请重新输入！')</span></p>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>