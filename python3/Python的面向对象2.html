<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修Python的面向对象2' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>Python的面向对象2</center></div><div class='banquan'>原文出处:本文由博客园博主IT-凯提供。<br/>
原文连接:https://www.cnblogs.com/jknote/p/11212027.html</div><br>
    <h1>1、面向对象</h1>
<p>　　1、面向对象的结构</p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">class</span><span style="color: #000000;"> A:

    company_name </span>= <span style="color: #800000;">''</span>  <span style="color: #008000;">#</span><span style="color: #008000;"> 静态变量(静态字段)</span>
    <span style="color: #800080;">__iphone</span> = <span style="color: #800000;">''</span>  <span style="color: #008000;">#</span><span style="color: #008000;"> 私有静态变量(私有静态字段)</span>


    <span style="color: #0000ff;">def</span> <span style="color: #800080;">__init__</span>(self,name,age): <span style="color: #008000;">#</span><span style="color: #008000;">特殊方法</span>
<span style="color: #000000;">
        self.name </span>= name  <span style="color: #008000;">#</span><span style="color: #008000;">对象属性(普通字段)</span>
        self.<span style="color: #800080;">__age</span> = age  <span style="color: #008000;">#</span><span style="color: #008000;"> 私有对象属性(私有普通字段)</span>

    <span style="color: #0000ff;">def</span> func1(self):  <span style="color: #008000;">#</span><span style="color: #008000;"> 普通方法</span>
        <span style="color: #0000ff;">pass</span>

    <span style="color: #0000ff;">def</span> <span style="color: #800080;">__func</span>(self): <span style="color: #008000;">#</span><span style="color: #008000;">私有方法</span>
        <span style="color: #0000ff;">print</span>(<span style="color: #800000;">"</span><span style="color: #800000;">哈哈</span><span style="color: #800000;">"</span><span style="color: #000000;">)


    @classmethod  </span><span style="color: #008000;">#</span><span style="color: #008000;"> 类方法</span>
    <span style="color: #0000ff;">def</span><span style="color: #000000;"> class_func(cls):
        </span><span style="color: #800000;">"""</span><span style="color: #800000;"> 定义类方法，至少有一个cls参数 </span><span style="color: #800000;">"""</span>
        <span style="color: #0000ff;">print</span>(<span style="color: #800000;">'</span><span style="color: #800000;">类方法</span><span style="color: #800000;">'</span><span style="color: #000000;">)

    @staticmethod  </span><span style="color: #008000;">#</span><span style="color: #008000;">静态方法</span>
    <span style="color: #0000ff;">def</span><span style="color: #000000;"> static_func():
        </span><span style="color: #800000;">"""</span><span style="color: #800000;"> 定义静态方法 ，无默认参数</span><span style="color: #800000;">"""</span>
        <span style="color: #0000ff;">print</span>(<span style="color: #800000;">'</span><span style="color: #800000;">静态方法</span><span style="color: #800000;">'</span><span style="color: #000000;">)

    @property  </span><span style="color: #008000;">#</span><span style="color: #008000;"> 属性</span>
    <span style="color: #0000ff;">def</span><span style="color: #000000;"> prop(self):
        </span><span style="color: #0000ff;">pass</span></pre>
</div>
<p>　　2、面向对象的私有与公有</p>
<div class="cnblogs_code">
<pre><code><span style="color: #008000;">#</span><span style="color: #008000;">对于每一个类的成员而言都有两种形式：</span><span style="color: #008000;">
#</span><span style="color: #008000;">    公有成员，在任何地方都能访问，</span><span style="color: #008000;">
#</span><span style="color: #008000;">    私有成员，只有在类的内部才能方法</span><span style="color: #008000;">
#</span><span style="color: #008000;">私有成员和公有成员的访问限制不同：</span><span style="color: #008000;">
#</span><span style="color: #008000;">静态字段(静态变量)</span><span style="color: #008000;">
#</span><span style="color: #008000;">    公有静态字段：类可以访问；类内部可以访问；派生类中可以访问</span><span style="color: #008000;">
#</span><span style="color: #008000;">    私有静态字段：仅类内部可以访问；</span><span style="color: #008000;">
#</span><span style="color: #008000;">总结:</span><span style="color: #008000;">
#</span><span style="color: #008000;">对于这些私有成员来说,他们只能在类的内部使用,不能再类的外部以及派生类中使用.</span><span style="color: #008000;">
#</span><span style="color: #ff0000;">ps：非要访问私有成员的话，可以通过 对象._类__属性名,但是绝对不允许!!!</span><span style="color: #008000;">
#</span><span style="color: #ff0000;">为什么可以通过._类__私有成员名访问呢?因为类在创建时,如果遇到了私有成员(包括私有静态字段,私有普通字段,私有方法)它会将其保存在内存时自动在前面加上_类名.</span></pre>
</div>
<h1>2、<strong>方法</strong></h1>
<p>　　方法包括：普通方法、静态方法和类方法，三种方法在<strong>内存中都归属于类</strong>，区别在于调用方式不同。</p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">class</span><span style="color: #000000;"> Student:
    </span><span style="color: #0000ff;">def</span> <span style="color: #800080;">__init__</span><span style="color: #000000;">(self,name,age):
        self.</span><span style="color: #800080;">__name</span> =<span style="color: #000000;"> name　　<span style="color: #339966;">#对象的私有方法</span>
        self.</span><span style="color: #800080;">__age</span> =<span style="color: #000000;"> age
    <span style="color: #339966;">#普通的实例方法
    </span></span><span style="color: #0000ff;">def</span><span style="color: #000000;"> play(self):
        </span><span style="color: #0000ff;">print</span>(self.<span style="color: #800080;">__name</span>+<span style="color: #800000;">"</span><span style="color: #800000;">来玩啊</span><span style="color: #800000;">"</span><span style="color: #000000;">)
    <span style="color: #339966;">#类方法，在不需要对象参与的方法中，可以使用类方法</span>
    @classmethod
    </span><span style="color: #0000ff;">def</span><span style="color: #000000;"> high(cls):
        </span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">"</span><span style="color: #800000;">你身高多高？</span><span style="color: #800000;">"</span><span style="color: #000000;">)
　　<span style="color: #339966;">#静态方法，该方法和对象和类都没有关系，就是一个普通的函数</span>
    @staticmethod
    </span><span style="color: #0000ff;">def</span><span style="color: #000000;"> wahahaha():
        </span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">"</span><span style="color: #800000;">谁都管不着我</span><span style="color: #800000;">"</span>)</pre>
</div>
<h1>3、<strong>属性</strong></h1>
<p><strong>　　</strong>1、property是一种特殊的属性，访问它时会执行一段功能（函数）然后返回值</p>
<p><strong>　</strong>　2、将一个类的函数定义成特性以后，对象再去使用的时候obj.name,根本无法察觉自己的name是执行了一个函数然后计算出来的，这种特性的使用方式<strong>遵循了统一访问的原则</strong></p>
<p><strong>　　3、由于新式类中具有三种访问方式，我们可以根据他们几个属性的访问特点，分别将三个方法定义为对同一个属性：获取、修改、删除</strong></p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">class</span><span style="color: #000000;"> Foo:
    @property
    </span><span style="color: #0000ff;">def</span><span style="color: #000000;"> HAHA(self):
        </span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">'</span><span style="color: #800000;">get的时候运行我啊</span><span style="color: #800000;">'</span><span style="color: #000000;">)

    @HAHA.setter
    </span><span style="color: #0000ff;">def</span><span style="color: #000000;"> HAHA(self,value):
        </span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">'</span><span style="color: #800000;">set的时候运行我啊</span><span style="color: #800000;">'</span><span style="color: #000000;">)

    @HAHA.deleter
    </span><span style="color: #0000ff;">def</span><span style="color: #000000;"> HAHA(self):
        </span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">'</span><span style="color: #800000;">delete的时候运行我啊</span><span style="color: #800000;">'</span><span style="color: #000000;">)

</span><span style="color: #008000;">#</span><span style="color: #008000;">只有在属性HAHA定义property后才能定义HAHA.setter,HAHA.deleter</span>
f1=<span style="color: #000000;">Foo()
f1.HAHA
f1.HAHA</span>=<span style="color: #800000;">'</span><span style="color: #800000;">aaa</span><span style="color: #800000;">'</span>
<span style="color: #0000ff;">del</span><span style="color: #000000;"> f1.HAHA

或者：
</span><span style="color: #0000ff;">class</span><span style="color: #000000;"> Foo:
    </span><span style="color: #0000ff;">def</span><span style="color: #000000;"> get_HAHA(self):
        </span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">'</span><span style="color: #800000;">get的时候运行我啊</span><span style="color: #800000;">'</span><span style="color: #000000;">)

    </span><span style="color: #0000ff;">def</span><span style="color: #000000;"> set_HAHA(self,value):
        </span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">'</span><span style="color: #800000;">set的时候运行我啊</span><span style="color: #800000;">'</span><span style="color: #000000;">)

    </span><span style="color: #0000ff;">def</span><span style="color: #000000;"> delete_HAHA(self):
        </span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">'</span><span style="color: #800000;">delete的时候运行我啊</span><span style="color: #800000;">'</span><span style="color: #000000;">)
    HAHA</span>=property(get_HAHA,set_HAHA,delete_HAHA) <span style="color: #008000;">#</span><span style="color: #008000;">内置property三个参数与get,set,delete一一对应</span>
<span style="color: #000000;">
f1</span>=<span style="color: #000000;">Foo()
f1.HAHA
f1.HAHA</span>=<span style="color: #800000;">'</span><span style="color: #800000;">aaa</span><span style="color: #800000;">'</span>
<span style="color: #0000ff;">del</span> f1.HAHA</pre>
</div>
<h1>4、面相对象的特殊成员及相关内置函数</h1>
<p>　　1、isinstance(obj,cls)检查是否obj是否是类 cls 的对象</p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">class</span> A: <span style="color: #0000ff;">pass</span>

<span style="color: #0000ff;">class</span> B(A): <span style="color: #0000ff;">pass</span><span style="color: #000000;">

abj </span>=<span style="color: #000000;"> B()
</span><span style="color: #0000ff;">print</span>(isinstance(abj,B))  <span style="color: #008000;">#</span><span style="color: #008000;">True</span>
<span style="color: #0000ff;">print</span>(isinstance(abj,A))  <span style="color: #008000;">#</span><span style="color: #008000;">True</span>

<span style="color: #008000;">#</span><span style="color: #008000;">isinstance检查abj是否是B的时候，会考虑继承关系</span><span style="color: #008000;">
#</span><span style="color: #008000;">type(abj,B)和isinstance用法相同，当时不会考虑继承关系</span></pre>
</div>
<p>　　2、issubclass(sub, super)检查sub类是否是 super 类的派生类</p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">class</span> A: <span style="color: #0000ff;">pass</span>

<span style="color: #0000ff;">class</span> B(A): <span style="color: #0000ff;">pass</span><span style="color: #000000;">

abj </span>=<span style="color: #000000;"> B()

</span><span style="color: #0000ff;">print</span>(issubclass(B,A)) <span style="color: #008000;">#</span><span style="color: #008000;">True</span></pre>
</div>
<p>　　3、<span class="pln">enumerate函数用于将一个可遍历的数据对象(如列表、元组或字符串)组合为一个索引序列</span></p>
<div class="cnblogs_code">
<pre><code>语法：enumerate(sequence, [start=<span style="color: #000000;">0])
</span><span style="color: #008000;">#</span><span style="color: #008000;">sequence -- 一个序列、迭代器或其他支持迭代对象。</span><span style="color: #008000;">
#</span><span style="color: #008000;">start -- 下标起始位置。</span>
<span style="color: #000000;">
seasons </span>= [<span style="color: #800000;">'</span><span style="color: #800000;">Spring</span><span style="color: #800000;">'</span>, <span style="color: #800000;">'</span><span style="color: #800000;">Summer</span><span style="color: #800000;">'</span>, <span style="color: #800000;">'</span><span style="color: #800000;">Fall</span><span style="color: #800000;">'</span>, <span style="color: #800000;">'</span><span style="color: #800000;">Winter</span><span style="color: #800000;">'</span><span style="color: #000000;">]
list(enumerate(seasons))
[(0, </span><span style="color: #800000;">'</span><span style="color: #800000;">Spring</span><span style="color: #800000;">'</span>), (1, <span style="color: #800000;">'</span><span style="color: #800000;">Summer</span><span style="color: #800000;">'</span>), (2, <span style="color: #800000;">'</span><span style="color: #800000;">Fall</span><span style="color: #800000;">'</span>), (3, <span style="color: #800000;">'</span><span style="color: #800000;">Winter</span><span style="color: #800000;">'</span><span style="color: #000000;">)]

i </span>=<span style="color: #000000;"> 0
seq </span>= [<span style="color: #800000;">'</span><span style="color: #800000;">one</span><span style="color: #800000;">'</span>, <span style="color: #800000;">'</span><span style="color: #800000;">two</span><span style="color: #800000;">'</span>, <span style="color: #800000;">'</span><span style="color: #800000;">three</span><span style="color: #800000;">'</span><span style="color: #000000;">]
</span><span style="color: #0000ff;">for</span> element <span style="color: #0000ff;">in</span><span style="color: #000000;"> seq:
...     </span><span style="color: #0000ff;">print</span><span style="color: #000000;"> i, seq[i]
...     i </span>+=1<span style="color: #000000;">
... 
</span><span style="color: #008000;">#</span><span style="color: #008000;">结果:0 one</span><span style="color: #008000;">
#</span><span style="color: #008000;">1 two</span><span style="color: #008000;">
#</span><span style="color: #008000;">2 three</span></pre>
</div>
<h1>5、反射</h1>
<p>　　1、python面向对象中的反射：通过字符串的形式操作对象相关的属性。python中的一切事物都是对象（都可以使用反射）</p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">class</span><span style="color: #000000;"> Foo:
    f </span>= <span style="color: #800000;">'</span><span style="color: #800000;">类的静态变量</span><span style="color: #800000;">'</span>
    <span style="color: #0000ff;">def</span> <span style="color: #800080;">__init__</span><span style="color: #000000;">(self,name,age):
        self.name</span>=<span style="color: #000000;">name
        self.age</span>=<span style="color: #000000;">age

    </span><span style="color: #0000ff;">def</span><span style="color: #000000;"> say_hi(self):
        </span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">'</span><span style="color: #800000;">hi,%s</span><span style="color: #800000;">'</span>%<span style="color: #000000;">self.name)

obj</span>=Foo(<span style="color: #800000;">'</span><span style="color: #800000;">egon</span><span style="color: #800000;">'</span>,73<span style="color: #000000;">)

</span><span style="color: #008000;">#</span><span style="color: #008000;">检测是否含有某属性</span>
<span style="color: #0000ff;">print</span>(hasattr(obj,<span style="color: #800000;">'</span><span style="color: #800000;">name</span><span style="color: #800000;">'</span><span style="color: #000000;">))
</span><span style="color: #0000ff;">print</span>(hasattr(obj,<span style="color: #800000;">'</span><span style="color: #800000;">say_hi</span><span style="color: #800000;">'</span><span style="color: #000000;">))

</span><span style="color: #008000;">#</span><span style="color: #008000;">获取属性</span>
n=getattr(obj,<span style="color: #800000;">'</span><span style="color: #800000;">name</span><span style="color: #800000;">'</span><span style="color: #000000;">)
</span><span style="color: #0000ff;">print</span><span style="color: #000000;">(n)
func</span>=getattr(obj,<span style="color: #800000;">'</span><span style="color: #800000;">say_hi</span><span style="color: #800000;">'</span><span style="color: #000000;">)
func()

</span><span style="color: #0000ff;">print</span>(getattr(obj,<span style="color: #800000;">'</span><span style="color: #800000;">aaaaaaaa</span><span style="color: #800000;">'</span>,<span style="color: #800000;">'</span><span style="color: #800000;">不存在啊</span><span style="color: #800000;">'</span>)) <span style="color: #008000;">#</span><span style="color: #008000;">报错</span>

<span style="color: #008000;">#</span><span style="color: #008000;">设置属性</span>
setattr(obj,<span style="color: #800000;">'</span><span style="color: #800000;">sb</span><span style="color: #800000;">'</span><span style="color: #000000;">,True)
setattr(obj,</span><span style="color: #800000;">'</span><span style="color: #800000;">show_name</span><span style="color: #800000;">'</span>,<span style="color: #0000ff;">lambda</span> self:self.name+<span style="color: #800000;">'</span><span style="color: #800000;">sb</span><span style="color: #800000;">'</span><span style="color: #000000;">)
</span><span style="color: #0000ff;">print</span>(obj.<span style="color: #800080;">__dict__</span><span style="color: #000000;">)
</span><span style="color: #0000ff;">print</span><span style="color: #000000;">(obj.show_name(obj))

</span><span style="color: #008000;">#</span><span style="color: #008000;">删除属性</span>
delattr(obj,<span style="color: #800000;">'</span><span style="color: #800000;">age</span><span style="color: #800000;">'</span><span style="color: #000000;">)
delattr(obj,</span><span style="color: #800000;">'</span><span style="color: #800000;">show_name</span><span style="color: #800000;">'</span><span style="color: #000000;">)
delattr(obj,</span><span style="color: #800000;">'</span><span style="color: #800000;">show_name111</span><span style="color: #800000;">'</span>)<span style="color: #008000;">#</span><span style="color: #008000;">不存在,则报错</span>

<span style="color: #0000ff;">print</span>(obj.<span style="color: #800080;">__dict__</span>)</pre>
</div>
<h1>&nbsp;6、内置方法（魔术方法）</h1>
<p>　　1、__call__(self, *args, **kwargs)</p>
<p>　　　　对象后面加括号，触发执行。注：构造方法的执行是由创建对象触发的，即：对象 = 类名() ；而对于 __call__ 方法的执行是由对象后加括号触发的，即：对象() 或者 类()()</p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">class</span><span style="color: #000000;"> Foo:
    </span><span style="color: #0000ff;">def</span> <span style="color: #800080;">__init__</span><span style="color: #000000;">(self):
        </span><span style="color: #0000ff;">pass</span>    
    <span style="color: #0000ff;">def</span> <span style="color: #800080;">__call__</span>(self, *args, **<span style="color: #000000;">kwargs):
        </span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">'</span><span style="color: #800000;">__call__</span><span style="color: #800000;">'</span><span style="color: #000000;">)

obj </span>= Foo() <span style="color: #008000;">#</span><span style="color: #008000;"> 执行 __init__</span>
obj()       <span style="color: #008000;">#</span><span style="color: #008000;"> 执行 __call__</span></pre>
</div>
<p>&nbsp;　　2、__len__(self)：长度方法</p>
<p>　　　　<span style="color: #ff0000;">len(对象)函数，执行实际调用的是对象内的__len__函数，如果该对象没有__len__方法，则会报差错</span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">class</span><span style="color: #000000;"> A:
    </span><span style="color: #0000ff;">def</span> <span style="color: #800080;">__init__</span><span style="color: #000000;">(self):
        self.a </span>= 1<span style="color: #000000;">
        self.b </span>= 2

    <span style="color: #0000ff;">def</span> <span style="color: #800080;">__len__</span><span style="color: #000000;">(self):
        </span><span style="color: #0000ff;">return</span> len(self.<span style="color: #800080;">__dict__</span><span style="color: #000000;">)
a </span>=<span style="color: #000000;"> A()
</span><span style="color: #0000ff;">print</span>(len(a))</pre>
</div>
<p>　　3、__init__(self)：初始化方法</p>
<div class="cnblogs_code">
<pre><code><span style="color: #008000;">#</span><span style="color: #008000;">初始化方法</span><span style="color: #008000;">
#</span><span style="color: #008000;">1、首先开辟一块内存空间</span><span style="color: #008000;">
#</span><span style="color: #008000;">2、把对象空间传给self，执行init</span><span style="color: #008000;">
#</span><span style="color: #008000;">3、把这个对象的空间返回给该对象</span></pre>
</div>
<p>　　4、__new__(cls, *args, **kwargs)：构造方法</p>
<p>　　　　4.1、__new__方法在实例化之后，__init__之前调用</p>
<div class="cnblogs_code">
<pre><code><span style="color: #008000;">#</span><span style="color: #008000;">__new__方法在实例化之后，__init__之前调用</span>
<span style="color: #0000ff;">class</span><span style="color: #000000;"> A:
    </span><span style="color: #0000ff;">def</span> <span style="color: #800080;">__init__</span><span style="color: #000000;">(self):
        self.x </span>= 1
        <span style="color: #0000ff;">print</span>(<span style="color: #800000;">'</span><span style="color: #800000;">in init function</span><span style="color: #800000;">'</span><span style="color: #000000;">)
    </span><span style="color: #0000ff;">def</span> <span style="color: #800080;">__new__</span>(cls, *args, **<span style="color: #000000;">kwargs):
        </span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">'</span><span style="color: #800000;">in new function</span><span style="color: #800000;">'</span><span style="color: #000000;">)
        </span><span style="color: #0000ff;">return</span> object.<span style="color: #800080;">__new__</span><span style="color: #000000;">(A)

a </span>=<span style="color: #000000;"> A()
</span><span style="color: #0000ff;">print</span>(a.x)</pre>
</div>
<p>　　　　4.2、单例模式</p>
<div class="cnblogs_code">
<pre><code><span style="color: #008000;">#</span><span style="color: #008000;">单例模式</span>
<span style="color: #0000ff;">class</span><span style="color: #000000;"> A:
    </span><span style="color: #800080;">__ISINSTANCE</span> =<span style="color: #000000;"> None

    </span><span style="color: #0000ff;">def</span> <span style="color: #800080;">__new__</span>(cls,*args,**<span style="color: #000000;">kwargs):
        </span><span style="color: #0000ff;">if</span> <span style="color: #0000ff;">not</span> cls.<span style="color: #800080;">__ISINSTANCE</span><span style="color: #000000;">:
            cls.</span><span style="color: #800080;">__ISINSTANCE</span> = object.<span style="color: #800080;">__new__</span><span style="color: #000000;">(cls)
        </span><span style="color: #0000ff;">return</span> cls.<span style="color: #800080;">__ISINSTANCE</span>

    <span style="color: #0000ff;">def</span> <span style="color: #800080;">__init__</span><span style="color: #000000;">(self,name,age):
        self.name </span>=<span style="color: #000000;"> name
        self.age </span>=<span style="color: #000000;"> age


a </span>= A(<span style="color: #800000;">"</span><span style="color: #800000;">张三</span><span style="color: #800000;">"</span>,20<span style="color: #000000;">)
b </span>= A(<span style="color: #800000;">"</span><span style="color: #800000;">李四</span><span style="color: #800000;">"</span>,25<span style="color: #000000;">)
</span><span style="color: #0000ff;">print</span><span style="color: #000000;">(a.name)
</span><span style="color: #0000ff;">print</span><span style="color: #000000;">(b.name)
</span><span style="color: #0000ff;">print</span>(a,b)</pre>
</div>
<p>　　5、__str__(self)</p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">class</span><span style="color: #000000;"> A:
    </span><span style="color: #0000ff;">def</span> <span style="color: #800080;">__init__</span><span style="color: #000000;">(self):
        </span><span style="color: #0000ff;">pass</span>
    <span style="color: #0000ff;">def</span> <span style="color: #800080;">__str__</span><span style="color: #000000;">(self):
        </span><span style="color: #0000ff;">return</span> <span style="color: #800000;">'</span><span style="color: #800000;">太白</span><span style="color: #800000;">'</span><span style="color: #000000;">
a </span>=<span style="color: #000000;"> A()
</span><span style="color: #0000ff;">print</span><span style="color: #000000;">(a)
</span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">'</span><span style="color: #800000;">%s</span><span style="color: #800000;">'</span> %<span style="color: #000000;"> a)

</span><span style="color: #008000;">#</span><span style="color: #008000;">print方法相当于调用__str__</span><span style="color: #008000;">
#</span><span style="color: #008000;">str()相当于调用__str__</span><span style="color: #008000;">
#</span><span style="color: #008000;">'%s'%obj相当于调用__str__</span></pre>
</div>
<p>&nbsp;　　6、__repr__(self)</p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">class</span><span style="color: #000000;"> A:
    </span><span style="color: #0000ff;">def</span> <span style="color: #800080;">__init__</span><span style="color: #000000;">(self):
        </span><span style="color: #0000ff;">pass</span>
    <span style="color: #0000ff;">def</span> <span style="color: #800080;">__repr__</span><span style="color: #000000;">(self):
        </span><span style="color: #0000ff;">return</span> <span style="color: #800000;">'</span><span style="color: #800000;">haha</span><span style="color: #800000;">'</span><span style="color: #000000;">
a </span>=<span style="color: #000000;"> A()
</span><span style="color: #0000ff;">print</span><span style="color: #000000;">(repr(a))
</span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">'</span><span style="color: #800000;">%r</span><span style="color: #800000;">'</span>%a)</pre>
</div>
<p>　　7、__del__(self)</p>
<div class="cnblogs_code">
<pre><code><span style="color: #000000;">析构方法，当对象在内存中被释放时，自动触发执行。

注：此方法一般无须定义，因为Python是一门高级语言，程序员在使用时无需关心内存的分配和释放，因为此工作都是交给Python解释器来执行，所以，析构函数的调用是由解释器在进行垃圾回收时自动触发执行的。</span></pre>
</div>
<p>　　8、item系列</p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">class</span><span style="color: #000000;"> Foo:
    </span><span style="color: #0000ff;">def</span> <span style="color: #800080;">__init__</span><span style="color: #000000;">(self,name):
        self.name</span>=<span style="color: #000000;">name

    </span><span style="color: #0000ff;">def</span> <span style="color: #800080;">__getitem__</span><span style="color: #000000;">(self, item):
        </span><span style="color: #0000ff;">print</span>(self.<span style="color: #800080;">__dict__</span><span style="color: #000000;">[item])

    </span><span style="color: #0000ff;">def</span> <span style="color: #800080;">__setitem__</span><span style="color: #000000;">(self, key, value):
        self.</span><span style="color: #800080;">__dict__</span>[key]=<span style="color: #000000;">value
    </span><span style="color: #0000ff;">def</span> <span style="color: #800080;">__delitem__</span><span style="color: #000000;">(self, key):
        </span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">'</span><span style="color: #800000;">del obj[key]时,我执行</span><span style="color: #800000;">'</span><span style="color: #000000;">)
        self.</span><span style="color: #800080;">__dict__</span><span style="color: #000000;">.pop(key)
    </span><span style="color: #0000ff;">def</span> <span style="color: #800080;">__delattr__</span><span style="color: #000000;">(self, item):
        </span><span style="color: #0000ff;">print</span>(<span style="color: #800000;">'</span><span style="color: #800000;">del obj.key时,我执行</span><span style="color: #800000;">'</span><span style="color: #000000;">)
        self.</span><span style="color: #800080;">__dict__</span><span style="color: #000000;">.pop(item)

f1</span>=Foo(<span style="color: #800000;">'</span><span style="color: #800000;">sb</span><span style="color: #800000;">'</span><span style="color: #000000;">)
f1[</span><span style="color: #800000;">'</span><span style="color: #800000;">age</span><span style="color: #800000;">'</span>]=18<span style="color: #000000;">
f1[</span><span style="color: #800000;">'</span><span style="color: #800000;">age1</span><span style="color: #800000;">'</span>]=19
<span style="color: #0000ff;">del</span><span style="color: #000000;"> f1.age1
</span><span style="color: #0000ff;">del</span> f1[<span style="color: #800000;">'</span><span style="color: #800000;">age</span><span style="color: #800000;">'</span><span style="color: #000000;">]
f1[</span><span style="color: #800000;">'</span><span style="color: #800000;">name</span><span style="color: #800000;">'</span>]=<span style="color: #800000;">'</span><span style="color: #800000;">alex</span><span style="color: #800000;">'</span>
<span style="color: #0000ff;">print</span>(f1.<span style="color: #800080;">__dict__</span>)</pre>
</div>
<p>　　9、hash(self)</p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">class</span><span style="color: #000000;"> A:
    </span><span style="color: #0000ff;">def</span> <span style="color: #800080;">__init__</span><span style="color: #000000;">(self):
        self.a </span>= 1<span style="color: #000000;">
        self.b </span>= 2

    <span style="color: #0000ff;">def</span> <span style="color: #800080;">__hash__</span><span style="color: #000000;">(self):
        </span><span style="color: #0000ff;">return</span> hash(str(self.a)+<span style="color: #000000;">str(self.b))
a </span>=<span style="color: #000000;"> A()
</span><span style="color: #0000ff;">print</span>(hash(a))</pre>
</div>
<p>&nbsp;</p>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>