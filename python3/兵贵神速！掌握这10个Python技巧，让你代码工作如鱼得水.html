<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修兵贵神速！掌握这10个Python技巧，让你代码工作如鱼得水' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>兵贵神速！掌握这10个Python技巧，让你代码工作如鱼得水</center></div><div class='banquan'>原文出处:本文由博客园博主Python学习啊提供。<br/>
原文连接:https://www.cnblogs.com/7758520lzy/p/12102160.html</div><br>
    <div class="article_meta">主题&nbsp;<a href="https://www.tuicool.com/topics/11130000" target="_blank"><span class="new-label">Python</span></a></div>
<div id="nei" class="article_body">
<div>
<p>1000个读者心中有1000个哈姆雷特,要问1000个程序员&ldquo;什么才是最好的语言&rdquo;,Java、Python、PHP、C++ 也都有自己的位置。但要问编程语言流行指数之王非，那真的非Python莫属了。</p>
<p><img class="alignCenter" src="./images/兵贵神速！掌握这10个Python技巧，让你代码工作如鱼得水0.png" alt="" /></p>
<p>据Stack Overflow数据显示，Python是使用量增长比较快的编程语言。</p>
<p>福布斯新发布的一篇报告指出，python的使用量在去年增长了456%。Netfix、IBM以及其它数以百计的公司都在使用python。包括Dropbox也是由python创建的。Dice的研究表明，python是世界上最热门的技巧之一，根据编程语言的流行度指数来看，python同时也是很受欢迎的编程语言。</p>
<p><img class="uploaded-img" src="./images/兵贵神速！掌握这10个Python技巧，让你代码工作如鱼得水1.png" alt="" width="auto" height="auto" /></p>
<h4>Python为何有如此大的魅力呢?</h4>
<p>那是因为，与其它编程语言相比，Python有以下5点优势：</p>
<p>1、和主流平台、操作系统兼容。</p>
<p>2、包含许多开源框架和工具。</p>
<p>3、编码具有可读性和可维护性</p>
<p>4、强大的标准库</p>
<p>5、标准的测试驱动开发</p>
<p>较低的学习门槛和广阔的发展前景使得Python越来越受欢迎。今天，小芯就继续给大家带来有关python非常有用的10个代码小技巧，帮助你完成日常工作，请注意查收和学习哟~</p>
<h3>10个Python小技巧</h3>
<h4>1. 用ZIP处理列表</h4>
<p>假设要合并相同长度的列表并打印结果。同样有一种更通用的方式，即用zip()函数获得想要的结果，代码如下：</p>
<pre><code>countries=&nbsp;[<span class="hljs-string">'France',&nbsp;<span class="hljs-string">'Germany',&nbsp;<span class="hljs-string">'Canada']&nbsp;
capitals&nbsp;=&nbsp;[<span class="hljs-string">'Paris',&nbsp;<span class="hljs-string">'Berlin',&nbsp;<span class="hljs-string">'Ottawa']&nbsp;
<span class="hljs-keyword">for&nbsp;country,&nbsp;capital&nbsp;<span class="hljs-keyword">in&nbsp;zip(countries,capitals):&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in">print(country,&nbsp;capital)&nbsp;<span class="hljs-comment">#&nbsp;FranceParis&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GermanyBerlin&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CanadaOttawa&nbsp;
</span></span></span></span></span></span></span></span></span></span></pre>
<h4>2. 使用python collections</h4>
<p>Python collections是容器数据类型，即列表、集合、元组、字典。Collections模块提供了可以增强代码的高性能数据类型，使工作更加简洁容易。它还提供了许多功能，以下使用Counter() 函数进行演示。</p>
<p>Counter() 函数采用一个可迭代对象(如列表或元组)，并返回一个Counter字典。字典的键是迭代器中唯一存在的元素，每个键的值是该元素在迭代器中出现次数的计数。</p>
<p>为创建一个Counter对象，将一个迭代的(列表)传递给Counter()函数，代码如下。</p>
<pre class="prettyprint hljs lisp">fromcollections&nbsp;import&nbsp;Countercount&nbsp;=&nbsp;Counter(['a','b','c','d','b','c','d','b'])&nbsp;
print(<span class="hljs-name">count)&nbsp;#&nbsp;Counter({'b':&nbsp;<span class="hljs-number">3,&nbsp;'c':&nbsp;<span class="hljs-number">2,&nbsp;'d':&nbsp;<span class="hljs-number">2,&nbsp;'a':&nbsp;<span class="hljs-number">1})&nbsp;
</span></span></span></span></span></pre>
<h4>3. 使用itertools</h4>
<p>Python的itertools模块是用于处理迭代器的工具集合。Itertools包含多种工具，用于生成输入数据的可迭代结果。这里以itertools.combinations()为例。itertools.combinations()用于构建组合。这些是输入量的可能组合项。</p>
<p>举一个现实中的例子来阐明以上观点：</p>
<p>假设一个锦标赛中有4个队伍，在联赛阶段，每个队伍都要与其他每个队伍进行比赛。任务是列出所有比赛队伍的可能组合。</p>
<p>代码如下：</p>
<pre class="prettyprint hljs vim">importitertools&nbsp;
friends&nbsp;=&nbsp;[<span class="hljs-string">'Team&nbsp;1',&nbsp;<span class="hljs-string">'Team&nbsp;2',&nbsp;<span class="hljs-string">'Team&nbsp;3',&nbsp;<span class="hljs-string">'Team&nbsp;4']&nbsp;
<span class="hljs-keyword">list(itertools.combinations(friends,&nbsp;r=<span class="hljs-number">2))&nbsp;#&nbsp;[(<span class="hljs-string">'Team&nbsp;1',&nbsp;<span class="hljs-string">'Team&nbsp;2'),&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="hljs-string">'Team&nbsp;1',&nbsp;<span class="hljs-string">'Team&nbsp;3'),&nbsp;&nbsp;(<span class="hljs-string">'Team&nbsp;1',&nbsp;<span class="hljs-string">'Team&nbsp;4'),&nbsp;&nbsp;(<span class="hljs-string">'Team&nbsp;2',&nbsp;<span class="hljs-string">'Team&nbsp;3'),&nbsp;&nbsp;(<span class="hljs-string">'Team&nbsp;2',&nbsp;<span class="hljs-string">'Team&nbsp;4'),&nbsp;&nbsp;(<span class="hljs-string">'Team&nbsp;3',&nbsp;<span class="hljs-string">'Team&nbsp;4')]&nbsp;
</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></pre>
<p>需要注意的是，值的顺序不重要。因为('Team 1', 'Team 2')和('Team 2', 'Team 1')代表同一对，所以输出列表只需包含其中一个。相似的，可以使用itertools.permutations()以及来自该模块的其他函数。如需更完整的参考资料，请查阅此教程。</p>
<h4>4. 从函数中返回多个值</h4>
<p>Python可从函数调用中返回多个值，这是许多其他流行编程语言所不具备的功能。在这种情况下，返回值应为逗号分隔的值列表，然后python构造一个元组并返回给调用方。代码示例如下：</p>
<pre><code>defmultiplication_division(num1,&nbsp;num2):&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in">return&nbsp;num1*num2,&nbsp;num1/num2product,division&nbsp;=&nbsp;multiplication_division(15,&nbsp;3)&nbsp;
<span class="hljs-built_in">print(<span class="hljs-string">"Product=",&nbsp;product,&nbsp;<span class="hljs-string">"Quotient&nbsp;=",&nbsp;division)&nbsp;<span class="hljs-comment">#Product=&nbsp;45&nbsp;Quotient&nbsp;=&nbsp;5.0&nbsp;
</span></span></span></span></span></pre>
<h4>5. 使用列表推导式</h4>
<p>列表推导式用于从其他可迭代对象中创建新列表。列表推导式返回列表时，由包含表达式的方括号组成，该表达式对于每个元素以及用于循环遍历每个元素的for循环执行。由于对python解释器进行了优化，可以在循环期间发现可预测的模式，因此列表推导速度更快。</p>
<p>如下，使用列表推导式计算前五个整数的平方：</p>
<pre class="hljs bash">m&nbsp;=&nbsp;[x**&nbsp;2&nbsp;<span class="hljs-keyword">for&nbsp;x&nbsp;<span class="hljs-keyword">in&nbsp;range(5)]&nbsp;
<span class="hljs-built_in">print(m)&nbsp;<span class="hljs-comment">#&nbsp;[0,&nbsp;1,&nbsp;4,&nbsp;9,&nbsp;16]&nbsp;
</span></span></span></span></pre>
<p>再如，使用列表推导式查找两个列表中的公共数字</p>
<pre><code>list_a&nbsp;=[1,&nbsp;2,&nbsp;3,&nbsp;4]&nbsp;
list_b&nbsp;=&nbsp;[2,&nbsp;3,&nbsp;4,&nbsp;5]&nbsp;
common_num&nbsp;=&nbsp;[a&nbsp;<span class="hljs-keyword">for&nbsp;a&nbsp;<span class="hljs-keyword">in&nbsp;list_a&nbsp;<span class="hljs-keyword">for&nbsp;b&nbsp;<span class="hljs-keyword">in&nbsp;list_b&nbsp;<span class="hljs-keyword">if&nbsp;a&nbsp;==&nbsp;b]&nbsp;
<span class="hljs-built_in">print(common_num)&nbsp;<span class="hljs-comment">#&nbsp;[2,&nbsp;3,&nbsp;4]&nbsp;
</span></span></span></span></span></span></span></pre>
<h4>6. 将两个列表转换为一个字典</h4>
<p>假设有两个列表，一个列表内容为学生姓名，另一个内容为学生分数。使用zip函数，将这两个列表转换为一个字典，代码如下：</p>
<pre class="prettyprint hljs vim">students=&nbsp;[<span class="hljs-string">"Peter",&nbsp;<span class="hljs-string">"Julia",&nbsp;<span class="hljs-string">"Alex"]&nbsp;
<span class="hljs-keyword">marks&nbsp;=&nbsp;[<span class="hljs-number">84,&nbsp;<span class="hljs-number">65,&nbsp;<span class="hljs-number">77]&nbsp;
dictionary&nbsp;=&nbsp;dict(zip(students,&nbsp;<span class="hljs-keyword">marks))&nbsp;
<span class="hljs-keyword">print(dictionary)&nbsp;#&nbsp;{<span class="hljs-string">'Peter':&nbsp;<span class="hljs-number">84,&nbsp;<span class="hljs-string">'Julia':&nbsp;<span class="hljs-number">65,&nbsp;<span class="hljs-string">'Alex':&nbsp;<span class="hljs-number">77}&nbsp;
</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></pre>
<h4>7. 字符串拼接</h4>
<p>拼接字符串时可用for循环来逐个添加元素，但这非常低效(特别是当列表很长时)。在python中，字符串是不可变的，因此拼接字符串时，必须将左、右字符串复制到新的字符串中。</p>
<p>更好的方法是使用join() 函数，如下所示：</p>
<pre class="prettyprint hljs vim">characters=&nbsp;[<span class="hljs-string">'p',&nbsp;<span class="hljs-string">'y',&nbsp;<span class="hljs-string">'t',&nbsp;<span class="hljs-string">'h',&nbsp;<span class="hljs-string">'o',&nbsp;<span class="hljs-string">'n']&nbsp;
word&nbsp;=&nbsp;<span class="hljs-string">"".<span class="hljs-keyword">join(characters)&nbsp;
<span class="hljs-keyword">print(word)&nbsp;#&nbsp;<span class="hljs-keyword">python&nbsp;
</span></span></span></span></span></span></span></span></span></span></pre>
<h4>8. 使用sorted()函数</h4>
<p>在python中使用内置函数sorted()可以轻而易举地对任何序列进行排序，它能完成很多艰难的工作。sorted()可对任何序列(列表、元组)进行排序，并返回已排序的元素列表。如下对数字进行升序排列：</p>
<pre class="hljs less"><span class="hljs-selector-tag">sorted([<span class="hljs-number">3,<span class="hljs-number">5,<span class="hljs-number">2,<span class="hljs-number">1,<span class="hljs-number">4])#&nbsp;<span class="hljs-selector-attr">[1,&nbsp;2,&nbsp;3,&nbsp;4,&nbsp;5]&nbsp;
</span></span></span></span></span></span></span></pre>
<p>如下对字符串进行降序排列:</p>
<pre class="prettyprint hljs gradle">sorted([<span class="hljs-string">'france',<span class="hljs-string">'germany',&nbsp;<span class="hljs-string">'canada',&nbsp;<span class="hljs-string">'india',&nbsp;<span class="hljs-string">'china'],&nbsp;<span class="hljs-keyword">reverse=<span class="hljs-keyword">True)&nbsp;#&nbsp;[<span class="hljs-string">'india',&nbsp;<span class="hljs-string">'germany',<span class="hljs-string">'france',&nbsp;<span class="hljs-string">'china',&nbsp;<span class="hljs-string">'canada']&nbsp;
</span></span></span></span></span></span></span></span></span></span></span></span></pre>
<h4>9. 用enumerate()迭代</h4>
<p>Enumerate()方法向可迭代对象添加一个计数器，并以枚举对象的形式返回。</p>
<p>以下是一个经典的编码方面的面试问题(通常被称为Fizz Buzz问题)。</p>
<p>编写一个程序来打印列表中的数字。若数字是3的倍数，输出&ldquo;fizz&rdquo;;是5的倍数，输出&ldquo;buzz&rdquo;;既是3又是5的倍数，输出&ldquo;fizzbuzz&rdquo;。</p>
<pre class="prettyprint hljs dart">numbers=&nbsp;[<span class="hljs-number">30,&nbsp;<span class="hljs-number">42,&nbsp;<span class="hljs-number">28,&nbsp;<span class="hljs-number">50,&nbsp;<span class="hljs-number">15]&nbsp;
<span class="hljs-keyword">for&nbsp;i,&nbsp;<span class="hljs-built_in">num&nbsp;<span class="hljs-keyword">in&nbsp;enumerate(numbers):&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">if&nbsp;<span class="hljs-built_in">num&nbsp;%&nbsp;<span class="hljs-number">3&nbsp;==&nbsp;<span class="hljs-number">0&nbsp;and&nbsp;<span class="hljs-built_in">num&nbsp;%&nbsp;<span class="hljs-number">5&nbsp;==&nbsp;<span class="hljs-number">0:&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;numbers[i]&nbsp;=&nbsp;<span class="hljs-string">'fizzbuzz'&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;<span class="hljs-built_in">num&nbsp;%&nbsp;<span class="hljs-number">3&nbsp;==&nbsp;<span class="hljs-number">0:&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;numbers[i]&nbsp;=&nbsp;<span class="hljs-string">'fizz'&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;<span class="hljs-built_in">num&nbsp;%&nbsp;<span class="hljs-number">5&nbsp;==&nbsp;<span class="hljs-number">0:&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;numbers[i]&nbsp;=&nbsp;<span class="hljs-string">'buzz'&nbsp;
<span class="hljs-built_in">print(numbers)&nbsp;#&nbsp;[<span class="hljs-string">'fizzbuzz',&nbsp;<span class="hljs-string">'fizz',&nbsp;<span class="hljs-number">28,&nbsp;<span class="hljs-string">'buzz',&nbsp;<span class="hljs-string">'fizzbuzz']&nbsp;
</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></pre>
<h4>10. 使用python generators(生成器)</h4>
<p>generator函数允许创建类似迭代器的函数。他们允许程序员以一种简单快速的方式创建迭代器。下面通过一个例子来解释这个概念。</p>
<p>假设要对从1开始的前100000000个完全平方数求和。</p>
<p>看起来很容易对吧。使用列表推导式可以很轻松的做到这一点，但是它的输入量过大。下面为一示例：</p>
<pre class="prettyprint hljs vbscript">t1&nbsp;=<span class="hljs-built_in">time.clock()&nbsp;
sum([i&nbsp;*&nbsp;i&nbsp;<span class="hljs-keyword">for&nbsp;i&nbsp;<span class="hljs-keyword">in&nbsp;range(<span class="hljs-number">1,&nbsp;<span class="hljs-number">100000000)])&nbsp;
t2&nbsp;=&nbsp;<span class="hljs-built_in">time.clock()&nbsp;
time_diff&nbsp;=&nbsp;t2&nbsp;-&nbsp;t1&nbsp;
print(f<span class="hljs-string">"It&nbsp;took&nbsp;{time_diff}&nbsp;Secs&nbsp;to&nbsp;execute&nbsp;this&nbsp;method")&nbsp;#&nbsp;Ittook&nbsp;<span class="hljs-number">13.197494000000006&nbsp;Secs&nbsp;<span class="hljs-keyword">to&nbsp;<span class="hljs-keyword">execute&nbsp;this&nbsp;method&nbsp;
</span></span></span></span></span></span></span></span></span></span></pre>
<p>在增加求和的完全平方数时，由于需要大量计算时间，这种方法并不够灵活。这时python生成器就派上用场了。将方括号替换为圆括号后，列表推导式更改为生成器表达式。现在计算花费的时间：</p>
<pre class="prettyprint hljs vbscript">t1&nbsp;=&nbsp;<span class="hljs-built_in">time.clock()&nbsp;
sum((i&nbsp;*&nbsp;i&nbsp;<span class="hljs-keyword">for&nbsp;i&nbsp;<span class="hljs-keyword">in&nbsp;range(<span class="hljs-number">1,&nbsp;<span class="hljs-number">100000000)))&nbsp;
t2&nbsp;=&nbsp;<span class="hljs-built_in">time.clock()&nbsp;
time_diff&nbsp;=&nbsp;t2&nbsp;-&nbsp;t1&nbsp;
print(f<span class="hljs-string">"It&nbsp;took&nbsp;{time_diff}&nbsp;Secs&nbsp;to&nbsp;execute&nbsp;this&nbsp;method")&nbsp;#&nbsp;Ittook&nbsp;<span class="hljs-number">9.53867000000001&nbsp;Secs&nbsp;<span class="hljs-keyword">to&nbsp;<span class="hljs-keyword">execute&nbsp;this&nbsp;method&nbsp;
</span></span></span></span></span></span></span></span></span></span></pre>
<p>如上，所花费时间已大大减少。输入量越大，减少效果越显著。</p>
<h3>小结：</h3>
<p>随着人工智能的逐渐升温，Python作为人工智能领域开发的首选语言，其地位也将越来越重要。以前的&ldquo;学好数理化，走遍天下都不怕&rdquo;，如今可能要改口了&mdash;&mdash;&ldquo;学好python，走遍天下都不怕&rdquo;。</p>
<p>所以，还在等什么，赶紧学会这10种实用的python小技巧，相信你的日常工作会更加666~</p>
</div>
</div>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>